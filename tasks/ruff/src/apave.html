<!DOCTYPE html><html><head><meta charset="utf-8"/>
<title>apave reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:monospace;*font-size:108%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto 10px;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:13.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:14.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:1;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}


/* Ruff default CSS */

body {
  max-width: 70em;
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft {
  text-align: left;
  border-top: 1px solid #006666;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #006666;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #006666;
 color: #006666;
}

p.linkline {
    text-align: right;
    font-size: smaller;
    /*    margin-top: -1em; */
    margin-bottom: 0;
}

.tinylink {
    font-size: x-small;
    font-variant: normal;
    font-family: Arial, sans-serif;
    float: right;
    padding:2px;
}

h1 .tinylink a {
    color: white;
}

#bd {
font-family: Arial, sans-serif;
font-size: 108%;
}

div.navbox {
  /* margin-top: 1em; */
    background-color: #006666;
    color: white;
    padding: 3px 4px 2px 4px;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

div.navbox:hover {
    overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
    font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #006666;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
    position: relative;
    /* display: inline-block; */
}

.tooltip .tooltiptext {
    width: 100%;
    font-weight: bold;
    background-color: white;
    color: #006666;
    text-align: left;
    border: 1px solid #006666;
    /* border-radius: 4px; */
    position: absolute;
    z-index: 1;
    margin-left: 4px;
    padding: 2px 3px;
    visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
    visibility: visible;
}

span.ns_scope {
    color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
    background-color: #006666;
    color: #ffffff;
    padding-left: 0.2em;
    font-family: "Times New Roman", serif;
}
h2.ruff {
    font-variant: small-caps;
    color: #006666;
    font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
    color: #006666;
}
h5.ruff {
    font-style: italic;
    font-weight: normal;
}
h6.ruff {
    font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
    border-bottom: thin solid #006666;
    color: #006666;
    margin-bottom: 0.2em;
}

pre {
    background-color: #eeeeee;
    margin-top: 1em;
    margin-left: 1em;
    padding: 5px;
    font-family: Consolas, "Courier New", monospace;
    width: max-content;
    font-size: smaller;
    line-height: 1.2em;
}

.ruff_dyn_src {
    display: none; /* Displayed via JS */
}

.ruff_synopsis {
    border: thin solid #cccccc;
    background: #eeeeee;
    font-size: smaller;
    font-family: Consolas, "Courier New", monospace;
    padding: 5px;
    margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
    font-weight: bold;
    font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
    font-style: italic;
    font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
    font-size: smaller;
}

.ruff_index {
    font-size: small;
    color: grey;
    line-height: 1;
}

.ruff_index ul li {
    list-style-type: none;
}

.ruff_index ul li a {
    text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
    /* Copied from Rails */
    var elem
    var link

    if( document.getElementById )
    {
        elem = document.getElementById( id )
        link = document.getElementById( "l_" + id )
    }
    else if ( document.all )
    {
        elem = eval( "document.all." + id )
        link = eval( "document.all.l_" + id )
    }
    else
        return false;

    if( elem.style.display == "block" )
    {
        elem.style.display = "none"
        link.innerHTML = "Show source"
    }
    else
    {
        elem.style.display = "block"
        link.innerHTML = "Hide source"
    }
}
</script></head>
<body><div id='doc3' class='yui-t2'><div id='hd' class='banner'>
<a style='text-decoration:none;' href='apave.html'>apave reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::apave'></a>::apave<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>The <em>apave</em> software provides a sort of geometry manager for Tcl/Tk.</p>
<p class='ruff'>The <em>apave</em> isn't designed to replace the existing Tk geometry managers (place, pack, grid). Rather the apave tries to simplify the window layout by using their best, by means of:</p>
<ul class='ruff'>
<li>joining the power of grid and pack</li>
<li>uniting a creation of widgets with their layout (and mostly their configuration)</li>
<li>minimizing a coder's efforts at creating / modifying / removing widgets</li>
<li>setting a natural tab order of widgets</li>
<li>theming both ttk and non-ttk widgets</li>
<li>centralizing things like icons or popup menus</li>
<li>providing 'mega-attributes', right up to the user-defined ones</li>
<li>providing 'mega-widgets'</li>
</ul>
<p class='ruff'>The <em>apave</em> is implemented as <em>APave oo::class</em>, so that you can enhance it with your own inherited / mixin-ed class.</p>
<p class='ruff'>While <em>APave oo::class</em> allows to layout highly sophisticated windows, you can also employ its more 'earthy' descendants:</p>
<p class='ruff'><em>APaveDialog oo::class</em> and <em>APaveInput oo::class</em> that allow you:</p>
<ul class='ruff'>
<li>to call a variety of dialogs, optionally using a &quot;Don't show again&quot; checkbox and a tagged text</li>
<li>to use a variety of widgets in dialogs, with entry, text (incl. readonly and stand-alone), combobox (incl. file content), spinbox, listbox, file listbox, option cascade, tablelist, checkbutton, radiobutton and label (incl. title)</li>
<li>to resize windows neatly (however strange, not done in Tk standard dialogs)</li>
</ul>
<p class='ruff'>The theming facility of <em>apave</em> is enabled by <em>ObjectTheming oo::class</em> which embraces both ttk and non-ttk widgets.</p>
<p class='ruff'>Along with standard widgets, the mentioned <em>apave</em> classes provide a batch of following 'mega-widgets':</p>
<ul class='ruff'>
<li>file picker</li>
<li>saved file picker</li>
<li>directory picker</li>
<li>font picker</li>
<li>color picker</li>
<li>date picker</li>
<li>menubar</li>
<li>toolbar</li>
<li>statusbar</li>
<li>file combobox</li>
<li>file listbox</li>
<li>file viewer/editor</li>
<li>option cascade</li>
<li>e_menu</li>
<li>bartabs</li>
<li>link</li>
<li>baltip</li>
<li>gutter</li>
</ul>
<p class='ruff'>At last, a stand-alone dialog allows not only to ask &quot;OK/Cancel&quot; or &quot;Yes/No&quot; returning 1/0 but also to set environment variables to use in shell scripts.</p>
<p class='ruff'>The <strong>apave</strong> originates from the old <strong>pave</strong> package, to comply with <a href="https://wiki.tcl-lang.org/page/How+to+build+good+packages" >How to build good packages</a> (&quot;avoid simple, obvious names for your namespace&quot;).</p>
<p class='ruff'>Let it be a sort of <strong>a-pave</strong>.</p>
<p class='ruff'>The details are in <a href="https://aplsimple.github.io/en/tcl/pave" >Description</a>.</p>
<h2 class='ruff'><a name='::apave-Commands'></a>Commands<span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<h4 class='ruffproc'><a name='::apave::cs_Max'>cs_Max</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a maximum index of available color schemes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Max</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_1' href="javascript:toggleSource('1')">Show source</a></p>
<div id='1' class='ruff_dyn_src'><pre>proc ::apave::cs_Max {} {


    # Gets a maximum index of available color schemes

    return [expr {[llength $::apave::_CS_(ALL)] - 1}]
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::cs_MaxBasic'>cs_MaxBasic</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a maximum index of basic color schemes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_MaxBasic</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_2' href="javascript:toggleSource('2')">Show source</a></p>
<div id='2' class='ruff_dyn_src'><pre>proc ::apave::cs_MaxBasic {} {


    # Gets a maximum index of basic color schemes

    return $::apave::_CS_(STDCS)
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::cs_Min'>cs_Min</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a minimum index of available color schemes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Min</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_3' href="javascript:toggleSource('3')">Show source</a></p>
<div id='3' class='ruff_dyn_src'><pre>proc ::apave::cs_Min {} {


    # Gets a minimum index of available color schemes

    return $::apave::_CS_(MINCS)
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::cs_Non'>cs_Non</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets non-existent CS index</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Non</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_4' href="javascript:toggleSource('4')">Show source</a></p>
<div id='4' class='ruff_dyn_src'><pre>proc ::apave::cs_Non {} {


    # Gets non-existent CS index

    return $::apave::_CS_(NONCS)
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::endWM'>endWM</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finishes the window management by apave, closing and clearing all.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>endWM</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>if any set, means &quot;ask if apave's WM is finished&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_5' href="javascript:toggleSource('5')">Show source</a></p>
<div id='5' class='ruff_dyn_src'><pre>proc ::apave::endWM {args} {


    # Finishes the window management by apave, closing and clearing all.
    #   args - if any set, means &quot;ask if apave's WM is finished&quot;

    variable _AP_VARS
    if {[llength $args]} {
      return [expr {[info exists _AP_VARS(EOP)]}]
    }
    # Check existing windows, except for the first one.
    while {1} {
      set i [expr {[llength $_AP_VARS(MODALWIN)] - 1}]
      if {$i&gt;0} {
        lassign [lindex $_AP_VARS(MODALWIN) $i] w var
        if {[winfo exists $w]} {set $var 0}
        set _AP_VARS(MODALWIN) [lreplace $_AP_VARS(MODALWIN) $i $i]
      } else {
        break
      }
    }
    set _AP_VARS(EOP) yes
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::eventOnText'>eventOnText</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Generates an event on a text, saving its current index in hl_tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>eventOnText</span> <span class='ruff_arg'>w ev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code>ev</code></td><td class='ruff_defitem'>event</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The hl_tcl needs to call MemPos before any action changing the text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_6' href="javascript:toggleSource('6')">Show source</a></p>
<div id='6' class='ruff_dyn_src'><pre>proc ::apave::eventOnText {w ev} {


    # Generates an event on a text, saving its current index in hl_tcl.
    #   w - text widget's path
    #   ev - event
    # The hl_tcl needs to call MemPos before any action changing the text.

     catch {::hl_tcl::my::MemPos $w}
     event generate $w $ev
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::getN'>getN</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a number from a string</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getN</span> <span class='ruff_arg'>sn ?defn? ?min? ?max?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>sn</code></td><td class='ruff_defitem'>string containing a number</td></tr>
<tr><td class='ruff_defitem'><code>defn</code></td><td class='ruff_defitem'>default value when sn is not a number Optional, default <code>0</code>.</td></tr>
<tr><td class='ruff_defitem'><code>min</code></td><td class='ruff_defitem'>minimal value allowed Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>max</code></td><td class='ruff_defitem'>maximal value allowed Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_7' href="javascript:toggleSource('7')">Show source</a></p>
<div id='7' class='ruff_dyn_src'><pre>proc ::apave::getN {sn {defn 0} {min {}} {max {}}} {


    # Gets a number from a string
    #   sn - string containing a number
    #   defn - default value when sn is not a number
    #   min - minimal value allowed
    #   max - maximal value allowed

    if {$sn eq &quot;&quot; || [catch {set sn [expr {$sn}]}]} {set sn $defn}
    if {$max ne &quot;&quot;} {
      set sn [expr {min($max,$sn)}]
    }
    if {$min ne &quot;&quot;} {
      set sn [expr {max($min,$sn)}]
    }
    return $sn
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::getOption'>getOption</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Extracts one option from an option list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getOption</span> <span class='ruff_arg'>optname ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>optname</code></td><td class='ruff_defitem'>option name</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>option list</td></tr>
</table>
<h5 class='ruff'>Description</h5><pre class='ruff'>
set options [list -name some -value &quot;any value&quot; -tooltip &quot;some tip&quot;]
set optvalue [::apave::getOption -tooltip {*}$options]
</pre>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an option value or &quot;&quot;. Example:</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_8' href="javascript:toggleSource('8')">Show source</a></p>
<div id='8' class='ruff_dyn_src'><pre>proc ::apave::getOption {optname args} {


    # Extracts one option from an option list.
    #   optname - option name
    #   args - option list
    # Returns an option value or &quot;&quot;.
    # Example:
    #     set options [list -name some -value &quot;any value&quot; -tooltip &quot;some tip&quot;]
    #     set optvalue [::apave::getOption -tooltip {*}$options]

    set optvalue [lindex [::apave::parseOptions $args $optname &quot;&quot;] 0]
    return $optvalue
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::iconData'>iconData</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an icon's data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>iconData</span> <span class='ruff_arg'>?icon? ?iconset?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon's name Optional, default <code>info</code>.</td></tr>
<tr><td class='ruff_defitem'><code>iconset</code></td><td class='ruff_defitem'>one of small/middle/large Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns data of the icon.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_9' href="javascript:toggleSource('9')">Show source</a></p>
<div id='9' class='ruff_dyn_src'><pre>proc ::apave::iconData {{icon info} {iconset {}}} {


    # Gets an icon's data.
    #   icon - icon's name
    #   iconset - one of small/middle/large
    # Returns data of the icon.

    variable _AP_IMG
    iconImage -init
    if {$iconset ne &quot;&quot; &amp;&amp; &quot;_AP_IMG(img$icon-$iconset)&quot; in [image names]} {
      return [set _AP_IMG($icon-$iconset)]
    }
    return [set _AP_IMG($icon)]
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::iconImage'>iconImage</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a defined icon's image or list of icons. If <em>icon</em> equals to &quot;-init&quot;, initializes apave's icon set.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>iconImage</span> <span class='ruff_arg'>?icon? ?iconset?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon's name Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>iconset</code></td><td class='ruff_defitem'>one of small/middle/large Optional, default <code>small</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the icon's image or, if <em>icon</em> is blank, a list of icons available in <em>apave</em>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_10' href="javascript:toggleSource('10')">Show source</a></p>
<div id='10' class='ruff_dyn_src'><pre>proc ::apave::iconImage {{icon {}} {iconset small}} {


    # Gets a defined icon's image or list of icons.
    # If *icon* equals to &quot;-init&quot;, initializes apave's icon set.
    #   icon - icon's name
    #   iconset - one of small/middle/large
    # Returns the icon's image or, if *icon* is blank, a list of icons
    # available in *apave*.

    variable _AP_IMG
    variable _AP_ICO
    if {$icon eq &quot;&quot;} {return $_AP_ICO}
    proc imagename {icon} {   # Get a defined icon's image name
      return _AP_IMG(img$icon)
    }
    variable apaveDir
    if {[array size _AP_IMG] == 0} {
      # Make images of icons
      source [file join $apaveDir apaveimg.tcl]
      if {$iconset ne &quot;small&quot;} {
        foreach ic $_AP_ICO {  ;# small icons best fit for menus
          set _AP_IMG($ic-small) [set _AP_IMG($ic)]
        }
        if {$iconset eq &quot;middle&quot;} {
          source [file join $apaveDir apaveimg2.tcl]
        } else {
          source [file join $apaveDir apaveimg2.tcl] ;# TODO
        }
      }
      foreach ic $_AP_ICO {
        if {[catch {image create photo [imagename $ic] -data [set _AP_IMG($ic)]}]} {
          # some png issues on old Tk
          image create photo [imagename $ic] -data [set _AP_IMG(none)]
        } elseif {$iconset ne &quot;small&quot;} {
          image create photo [imagename $ic-small] -data [set _AP_IMG($ic-small)]
        }
      }
    }
    if {$icon eq &quot;-init&quot;} {return $_AP_ICO} ;# just to get to icons
    if {$icon ni $_AP_ICO} {set icon [lindex $_AP_ICO 0]}
    if {$iconset eq &quot;small&quot; &amp;&amp; &quot;_AP_IMG(img$icon-small)&quot; in [image names]} {
      set icon $icon-small
    }
    return [imagename $icon]
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::infoFind'>infoFind</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches data of a window in a list of registered windows.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>infoFind</span> <span class='ruff_arg'>w modal</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>root window's path</td></tr>
<tr><td class='ruff_defitem'><code>modal</code></td><td class='ruff_defitem'>yes, if the window is modal</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Returns: the window's path or &quot;&quot; if not found.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::infoWindow" title="infoWindow" class='ruff_cmd'>infoWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_11' href="javascript:toggleSource('11')">Show source</a></p>
<div id='11' class='ruff_dyn_src'><pre>proc ::apave::infoFind {w modal} {


     # Searches data of a window in a list of registered windows.
     #   w - root window's path
     #   modal - yes, if the window is modal
     # Returns: the window's path or &quot;&quot; if not found.
     # See also: infoWindow

    variable _AP_VARS
    foreach winfo [lrange $_AP_VARS(MODALWIN) 1 end] {  ;# skip 1st window
      incr i
      lassign $winfo w1 var1 modal1
      if {[winfo exists $w1]} {
        if {[string first $w $w1]==0 &amp;&amp; $modal==$modal1} {
          return $w1
        }
      } else {
        set _AP_VARS(MODALWIN) [lreplace $_AP_VARS(MODALWIN) $i $i]
      }
    }
    return &quot;&quot;
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::infoWindow'>infoWindow</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers/unregisters windows. Also sets/gets 'count of open modal windows'.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>infoWindow</span> <span class='ruff_arg'>?val? ?w? ?modal? ?var? ?regist?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>val</code></td><td class='ruff_defitem'>current number of open modal windows Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>root window's path Optional, default <code>.</code>.</td></tr>
<tr><td class='ruff_defitem'><code>modal</code></td><td class='ruff_defitem'>yes, if the window is modal Optional, default <code>no</code>.</td></tr>
<tr><td class='ruff_defitem'><code>var</code></td><td class='ruff_defitem'>variable's name for tkwait Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>regist</code></td><td class='ruff_defitem'>yes or no for registering/unregistering Optional, default <code>no</code>.</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APave::showWindow" title="APave::showWindow" class='ruff_cmd'>APave::showWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_12' href="javascript:toggleSource('12')">Show source</a></p>
<div id='12' class='ruff_dyn_src'><pre>proc ::apave::infoWindow {{val {}} {w .} {modal no} {var {}} {regist no}} {


    # Registers/unregisters windows. Also sets/gets 'count of open modal windows'.
    #   val - current number of open modal windows
    #   w - root window's path
    #   modal - yes, if the window is modal
    #   var - variable's name for tkwait
    #   regist - yes or no for registering/unregistering
    # See also: APave::showWindow

    variable _AP_VARS
    if {$modal || $regist} {
      set info [list $w $var $modal]
      set i [lsearch -exact $_AP_VARS(MODALWIN) $info]
      if {$regist} {
        lappend _AP_VARS(MODALWIN) $info
      } else {
        set _AP_VARS(MODALWIN) [lreplace $_AP_VARS(MODALWIN) $i $i]
      }
      set res [IntStatus . MODALS $val]
    } else {
      set res [IntStatus . MODALS]
    }
    return $res
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::initPOP'>initPOP</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes system popup menu (if possible) to call it in a window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initPOP</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>window's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_13' href="javascript:toggleSource('13')">Show source</a></p>
<div id='13' class='ruff_dyn_src'><pre>proc ::apave::initPOP {w} {


    # Initializes system popup menu (if possible) to call it in a window.
    #   w - window's name

    bind $w &lt;KeyPress&gt; {
      if {&quot;%K&quot; eq &quot;Menu&quot;} {
        if {[winfo exists [set w [focus]]]} {
          event generate $w &lt;Button-3&gt; -rootx [winfo pointerx .]  -rooty [winfo pointery .]
        }
      }
    }
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::initStyles'>initStyles</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes miscellaneous styles, e.g. button's.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initStyles</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options (&quot;name value&quot; pairs)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_14' href="javascript:toggleSource('14')">Show source</a></p>
<div id='14' class='ruff_dyn_src'><pre>proc ::apave::initStyles {args} {


    # Initializes miscellaneous styles, e.g. button's.
    #   args - options (&quot;name value&quot; pairs)

    ttk::style configure TButtonWest {*}[ttk::style configure TButton]
    ttk::style configure TButtonWest -anchor w
    ttk::style map       TButtonWest {*}[ttk::style map TButton]
    ttk::style layout    TButtonWest [ttk::style layout TButton]
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::initWM'>initWM</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes Tcl/Tk session. Used to be called at the beginning of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initWM</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options (&quot;name value&quot; pairs)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_15' href="javascript:toggleSource('15')">Show source</a></p>
<div id='15' class='ruff_dyn_src'><pre>proc ::apave::initWM {args} {


    # Initializes Tcl/Tk session. Used to be called at the beginning of it.
    #   args - options (&quot;name value&quot; pairs)

    if {!$::apave::_CS_(initWM)} return
    lassign [::apave::parseOptions $args -cursorwidth 2 -theme &quot;clam&quot;  -buttonwidth -8 -buttonborder 1 -labelborder 0 -padding 1]  cursorwidth theme buttonwidth buttonborder labelborder padding
    set ::apave::_CS_(initWM) 0
    set ::apave::_CS_(CURSORWIDTH) $cursorwidth
    if {$::tcl_platform(platform) == &quot;windows&quot;} {
      wm attributes . -alpha 0.0
    } else {
      wm withdraw .
    }
    # only most common settings, independent on themes (or no theme)
    ttk::style map &quot;.&quot;  -selectforeground [list !focus $::apave::_CS_(!FG)]  -selectbackground [list !focus $::apave::_CS_(!BG)]
    # configure separate widget types
    try {ttk::style theme use $theme}
    ttk::style configure TButton -anchor center -width $buttonwidth  -relief raised -borderwidth $buttonborder -padding $padding
    ttk::style configure TLabel -borderwidth $labelborder -padding $padding
    ttk::style configure TMenubutton -width 0 -padding 0
    initPOP .
    initStyles
    return
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::IntStatus'>IntStatus</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a status of window. The status is an integer assigned to a name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IntStatus</span> <span class='ruff_arg'>w ?name? ?val?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name of status Optional, default <code>status</code>.</td></tr>
<tr><td class='ruff_defitem'><code>val</code></td><td class='ruff_defitem'>if blank, to get a value of status; otherwise a value to set Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Default value of status is 0.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an old value of status.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::WindowStatus" title="WindowStatus" class='ruff_cmd'>WindowStatus</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_16' href="javascript:toggleSource('16')">Show source</a></p>
<div id='16' class='ruff_dyn_src'><pre>proc ::apave::IntStatus {w {name status} {val {}}} {


    # Sets/gets a status of window. The status is an integer assigned to a name.
    #   w - window's path
    #   name - name of status
    #   val - if blank, to get a value of status; otherwise a value to set
    # Default value of status is 0.
    # Returns an old value of status.
    # See also: WindowStatus

    set old [WindowStatus $w $name &quot;&quot; 0]
    if {$val ne &quot;&quot;} {WindowStatus $w $name $val 1}
    return $old
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::mc'>mc</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a localized version of a message.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>mc</span> <span class='ruff_arg'>msg</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>the message</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_17' href="javascript:toggleSource('17')">Show source</a></p>
<div id='17' class='ruff_dyn_src'><pre>proc ::apave::mc {msg} {

    # Gets a localized version of a message.
    #   msg - the message

    variable _MC_
    if {[info exists _MC_($msg)]} {return $_MC_($msg)}
    return $msg
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::obj'>obj</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a method of APaveInput class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>obj</span> <span class='ruff_arg'>com ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>com</code></td><td class='ruff_defitem'>a method</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>arguments of the method</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It can (and must) be used only for temporary tasks. For persistent tasks, use a &quot;normal&quot; apave object.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the command's result.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_18' href="javascript:toggleSource('18')">Show source</a></p>
<div id='18' class='ruff_dyn_src'><pre>proc ::apave::obj {com args} {


    # Calls a method of APaveInput class.
    #   com - a method
    #   args - arguments of the method
    #
    # It can (and must) be used only for temporary tasks.
    # For persistent tasks, use a &quot;normal&quot; apave object.
    #
    # Returns the command's result.

    variable _OBJ_
    if {$_OBJ_ eq &quot;&quot;} {set _OBJ_ [::apave::APaveInput new]}
    if {[set exported [expr {$com eq &quot;EXPORT&quot;}]]} {
      set com [lindex $args 0]
      set args [lrange $args 1 end]
      oo::objdefine $_OBJ_ &quot;export $com&quot;
    }
    set res [$_OBJ_ $com {*}$args]
    if {$exported} {
      oo::objdefine $_OBJ_ &quot;unexport $com&quot;
    }
    return $res
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::openDoc'>openDoc</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a document.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>openDoc</span> <span class='ruff_arg'>url</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>url</code></td><td class='ruff_defitem'>document's file name, www link, e-mail etc.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_19' href="javascript:toggleSource('19')">Show source</a></p>
<div id='19' class='ruff_dyn_src'><pre>proc ::apave::openDoc {url} {


    # Opens a document.
    #   url - document's file name, www link, e-mail etc.

    set commands {xdg-open open start}
    foreach opener $commands {
      if {$opener eq &quot;start&quot;} {
        set command [list {*}[auto_execok start] {}]
      } else {
        set command [auto_execok $opener]
      }
      if {[string length $command]} {
        break
      }
    }
    if {[string length $command] == 0} {
      puts &quot;ERROR: couldn't find any opener&quot;
    }
    # remove the tailing &quot; &amp;&quot; (as e_menu can set)
    set url [string trimright $url]
    if {[string match &quot;* &amp;&quot; $url]} {set url [string range $url 0 end-2]}
    set url [string trim $url]
    if {[catch {exec {*}$command $url &amp;} error]} {
      puts &quot;ERROR: couldn't execute '$command':\n$error&quot;
    }
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::parseOptions'>parseOptions</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Parses argument list containing options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>parseOptions</span> <span class='ruff_arg'>inpargs ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>inpargs</code></td><td class='ruff_defitem'>list of options and values</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of option/defaultvalue repeated pairs</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It's the same as parseOptionsFile, excluding the file name stuff.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of options' values, according to args.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::parseOptionsFile" title="parseOptionsFile" class='ruff_cmd'>parseOptionsFile</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_20' href="javascript:toggleSource('20')">Show source</a></p>
<div id='20' class='ruff_dyn_src'><pre>proc ::apave::parseOptions {inpargs args} {


    # Parses argument list containing options.
    #  inpargs - list of options and values
    #  args  - list of option/defaultvalue repeated pairs
    #
    # It's the same as parseOptionsFile, excluding the file name stuff.
    #
    # Returns a list of options' values, according to args.
    #
    # See also: parseOptionsFile

    lassign [::apave::parseOptionsFile 0 $inpargs {*}$args] tmp
    foreach {nam val} $tmp {
      lappend retlist $val
    }
    return $retlist
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::parseOptionsFile'>parseOptionsFile</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Parses argument list containing options and (possibly) a file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>parseOptionsFile</span> <span class='ruff_arg'>strict inpargs ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>strict</code></td><td class='ruff_defitem'>if 1, only 'args' options are allowed, all the rest of inpargs to be a file name - if 2, the 'args' options replace the appropriate options of 'inpargs'</td></tr>
<tr><td class='ruff_defitem'><code>inpargs</code></td><td class='ruff_defitem'>list of options, values and a file name</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of default options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The inpargs list contains:</p>
<ul class='ruff'>
<li>option names beginning with &quot;-&quot;</li>
<li>option values following their names (may be missing)</li>
<li>&quot;--&quot; denoting the end of options</li>
<li>file name following the options (may be missing)</li>
</ul>
<p class='ruff'>The <em>args</em> parameter contains the pairs:</p>
<ul class='ruff'>
<li>option name (e.g., &quot;-dir&quot;)</li>
<li>option default value</li>
</ul>
<p class='ruff'>If the <em>args</em> option value is equal to =NONE=, the <em>inpargs</em> option is considered to be a single option without a value and, if present in inpargs, its value is returned as &quot;yes&quot;.</p>
<p class='ruff'>If any option of <em>inpargs</em> is absent in <em>args</em> and strict==1, the rest of <em>inpargs</em> is considered to be a file name.</p>
<p class='ruff'>The proc returns a list of two items:</p>
<ul class='ruff'>
<li>an option list got from args/inpargs according to 'strict'</li>
<li>a file name from inpargs or {} if absent</li>
</ul>
<p class='ruff'>Examples see in tests/obbit.test.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_21' href="javascript:toggleSource('21')">Show source</a></p>
<div id='21' class='ruff_dyn_src'><pre>proc ::apave::parseOptionsFile {strict inpargs args} {


    # Parses argument list containing options and (possibly) a file name.
    #   strict - if 0, 'args' options will be only counted for,
    #              other options are skipped
    #   strict - if 1, only 'args' options are allowed,
    #              all the rest of inpargs to be a file name
    #          - if 2, the 'args' options replace the
    #              appropriate options of 'inpargs'
    #   inpargs - list of options, values and a file name
    #   args  - list of default options
    #
    # The inpargs list contains:
    #   - option names beginning with &quot;-&quot;
    #   - option values following their names (may be missing)
    #   - &quot;--&quot; denoting the end of options
    #   - file name following the options (may be missing)
    #
    # The *args* parameter contains the pairs:
    #   - option name (e.g., &quot;-dir&quot;)
    #   - option default value
    #
    # If the *args* option value is equal to =NONE=, the *inpargs* option
    # is considered to be a single option without a value and,
    # if present in inpargs, its value is returned as &quot;yes&quot;.
    #
    # If any option of *inpargs* is absent in *args* and strict==1,
    # the rest of *inpargs* is considered to be a file name.
    #
    # The proc returns a list of two items:
    #   - an option list got from args/inpargs according to 'strict'
    #   - a file name from inpargs or {} if absent
    #
    # Examples see in tests/obbit.test.

    variable _PU_opts
    set actopts true
    array set argarray &quot;$args yes yes&quot; ;# maybe, tail option without value
    if {$strict==2} {
      set retlist $inpargs
    } else {
      set retlist $args
    }
    set retfile {}
    for {set i 0} {$i &lt; [llength $inpargs]} {incr i} {
      set parg [lindex $inpargs $i]
      if {$actopts} {
        if {$parg==&quot;--&quot;} {
          set actopts false
        } elseif {[catch {set defval $argarray($parg)}]} {
          if {$strict==1} {
            set actopts false
            append retfile $parg &quot; &quot;
          } else {
            incr i
          }
        } else {
          if {$strict==2} {
            if {$defval == $_PU_opts(-NONE)} {
              set defval yes
            }
            incr i
          } else {
            if {$defval == $_PU_opts(-NONE)} {
              set defval yes
            } else {
              set defval [lindex $inpargs [incr i]]
            }
          }
          set ai [lsearch -exact $retlist $parg]
          incr ai
          set retlist [lreplace $retlist $ai $ai $defval]
        }
      } else {
        append retfile $parg &quot; &quot;
      }
    }
    return [list $retlist [string trimright $retfile]]
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::putOption'>putOption</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces or adds one option to an option list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>putOption</span> <span class='ruff_arg'>optname optvalue ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>optname</code></td><td class='ruff_defitem'>option name</td></tr>
<tr><td class='ruff_defitem'><code>optvalue</code></td><td class='ruff_defitem'>option value</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>option list</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an updated option list.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_22' href="javascript:toggleSource('22')">Show source</a></p>
<div id='22' class='ruff_dyn_src'><pre>proc ::apave::putOption {optname optvalue args} {


    # Replaces or adds one option to an option list.
    #   optname - option name
    #   optvalue - option value
    #   args - option list
    # Returns an updated option list.

    set optlist {}
    set doadd true
    foreach {a v} $args {
      if {$a eq $optname} {
        set v $optvalue
        set doadd false
      }
      lappend optlist $a $v
    }
    if {$doadd} {lappend optlist $optname $optvalue}
    return $optlist
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::readTextFile'>readTextFile</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a text file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>readTextFile</span> <span class='ruff_arg'>fileName ?varName? ?doErr?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fileName</code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code>varName</code></td><td class='ruff_defitem'>variable name for file content or &quot;&quot; Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>doErr</code></td><td class='ruff_defitem'>if 'true', exit at errors with error message Optional, default <code>0</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns file contents or &quot;&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_23' href="javascript:toggleSource('23')">Show source</a></p>
<div id='23' class='ruff_dyn_src'><pre>proc ::apave::readTextFile {fileName {varName {}} {doErr 0}} {


    # Reads a text file.
    #   fileName - file name
    #   varName - variable name for file content or &quot;&quot;
    #   doErr - if 'true', exit at errors with error message
    #
    # Returns file contents or &quot;&quot;.

    if {$varName ne &quot;&quot;} {upvar $varName fvar}
    if {[catch {set chan [open $fileName]} e]} {
      if {$doErr} {error &quot;\n readTextFile: can't open \&quot;$fileName\&quot;\n $e&quot;}
      set fvar &quot;&quot;
    } else {
      chan configure $chan -encoding utf-8
      set fvar [read $chan]
      close $chan
    }
    return $fvar
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::removeOptions'>removeOptions</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes some options from a list of options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>removeOptions</span> <span class='ruff_arg'>options ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>options</code></td><td class='ruff_defitem'>list of options and values</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of option names to remove</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <code>options</code> may contain &quot;key value&quot; pairs and &quot;alone&quot; options without values.</p>
<p class='ruff'>To remove &quot;key value&quot; pairs, <code>key</code> should be an exact name.</p>
<p class='ruff'>To remove an &quot;alone&quot; option, <code>key</code> should be a glob pattern with <code>*</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_24' href="javascript:toggleSource('24')">Show source</a></p>
<div id='24' class='ruff_dyn_src'><pre>proc ::apave::removeOptions {options args} {


    # Removes some options from a list of options.
    #   options - list of options and values
    #   args - list of option names to remove
    #
    # The `options` may contain &quot;key value&quot; pairs and &quot;alone&quot; options
    # without values.
    #
    # To remove &quot;key value&quot; pairs, `key` should be an exact name.
    #
    # To remove an &quot;alone&quot; option, `key` should be a glob pattern with `*`.

    foreach key $args {
      if {[set i [lsearch -exact $options $key]]&gt;-1} {
        catch {
          # remove a pair &quot;option value&quot;
          set options [lreplace $options $i $i]
          set options [lreplace $options $i $i]
        }
      } elseif {[string first * $key]&gt;=0 &amp;&amp;  [set i [lsearch -glob $options $key]]&gt;-1} {
        # remove an option only
        set options [lreplace $options $i $i]
      }
    }
    return $options
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::setAppIcon'>setAppIcon</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets application's icon.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>setAppIcon</span> <span class='ruff_arg'>win ?winicon?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>path to a window of application</td></tr>
<tr><td class='ruff_defitem'><code>winicon</code></td><td class='ruff_defitem'>data of icon Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>winicon</em> may be a contents of variable (as supposed by default) or a file's name containing th image data. If it fails to find an image in either, no icon is set.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_25' href="javascript:toggleSource('25')">Show source</a></p>
<div id='25' class='ruff_dyn_src'><pre>proc ::apave::setAppIcon {win {winicon {}}} {


    # Sets application's icon.
    #   win - path to a window of application
    #   winicon - data of icon
    # The *winicon* may be a contents of variable (as supposed by default) or
    # a file's name containing th image data.
    # If it fails to find an image in either, no icon is set.

    set appIcon &quot;&quot;
    if {$winicon ne &quot;&quot;} {
      if {[catch {set appIcon [image create photo -data $winicon]}]} {
        catch {set appIcon [image create photo -file $winicon]}
      }
    }
    if {$appIcon ne &quot;&quot;} {wm iconphoto $win $appIcon}
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::shadowAllowed'>shadowAllowed</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets &quot;shadowing&quot; mode.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>shadowAllowed</span> <span class='ruff_arg'>?val? ?w?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>val</code></td><td class='ruff_defitem'>integer (0/1) Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>window's path Optional, default <code>.</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The mode may be used at processing &quot;shadow&quot; (grey) of color scheme.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an old value of shadowing mode.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_26' href="javascript:toggleSource('26')">Show source</a></p>
<div id='26' class='ruff_dyn_src'><pre>proc ::apave::shadowAllowed {{val {}} {w .}} {


    # Sets/gets &quot;shadowing&quot; mode.
    #   val - integer (0/1)
    #   w - window's path
    # The mode may be used at processing &quot;shadow&quot; (grey) of color scheme.
    # Returns an old value of shadowing mode.

    return [IntStatus $w SHADOW $val]
}</pre></div>
</div><h4 class='ruffproc'><a name='::apave::WindowStatus'>WindowStatus</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a status of window. The status is a value assigned to a name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WindowStatus</span> <span class='ruff_arg'>w name ?val? ?defval?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name of status</td></tr>
<tr><td class='ruff_defitem'><code>val</code></td><td class='ruff_defitem'>if blank, to get a value of status; otherwise a value to set Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>defval</code></td><td class='ruff_defitem'>default value (actual if the status not set beforehand) Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a value of status.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::IntStatus" title="IntStatus" class='ruff_cmd'>IntStatus</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_27' href="javascript:toggleSource('27')">Show source</a></p>
<div id='27' class='ruff_dyn_src'><pre>proc ::apave::WindowStatus {w name {val {}} {defval {}}} {


    # Sets/gets a status of window. The status is a value assigned to a name.
    #   w - window's path
    #   name - name of status
    #   val - if blank, to get a value of status; otherwise a value to set
    #   defval - default value (actual if the status not set beforehand)
    # Returns a value of status.
    # See also: IntStatus

    variable _AP_VARS
    if {$val eq &quot;&quot;} {  ;# getting
      if {[info exist _AP_VARS($w,$name)]} {
        return $_AP_VARS($w,$name)
      }
      return $defval
    }
    return [set _AP_VARS($w,$name) $val]  ;# setting
}</pre></div>
</div><h2 class='ruff'><a name='::apave-Classes'></a>Classes<span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<h3 class='ruffclass'><a name='::apave::APave'>APave</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code>basicDefFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicDefFont" title="ObjectTheming.basicDefFont" class='ruff_cmd'>ObjectTheming.basicDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code>basicFontSize</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicFontSize" title="ObjectTheming.basicFontSize" class='ruff_cmd'>ObjectTheming.basicFontSize</a></td></tr>
<tr><td class='ruff_defitem'><code>basicTextFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicTextFont" title="ObjectTheming.basicTextFont" class='ruff_cmd'>ObjectTheming.basicTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code>boldTextFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldTextFont" title="ObjectTheming.boldTextFont" class='ruff_cmd'>ObjectTheming.boldTextFont</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::checkTimeoutButton" title="checkTimeoutButton" class='ruff_cmd'>checkTimeoutButton</a></td><td class='ruff_defitem'>Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::chooser" title="chooser" class='ruff_cmd'>chooser</a></td><td class='ruff_defitem'>Chooser (for all available types).</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::colorChooser" title="colorChooser" class='ruff_cmd'>colorChooser</a></td><td class='ruff_defitem'>Color chooser.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::configure" title="configure" class='ruff_cmd'>configure</a></td><td class='ruff_defitem'>Configures the apave object (all of <em>_pav</em> array may be changed).</td></tr>
<tr><td class='ruff_defitem'><code>csAdd</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csAdd" title="ObjectTheming.csAdd" class='ruff_cmd'>ObjectTheming.csAdd</a></td></tr>
<tr><td class='ruff_defitem'><code>csCurrent</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csCurrent" title="ObjectTheming.csCurrent" class='ruff_cmd'>ObjectTheming.csCurrent</a></td></tr>
<tr><td class='ruff_defitem'><code>csDarkEdit</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDarkEdit" title="ObjectTheming.csDarkEdit" class='ruff_cmd'>ObjectTheming.csDarkEdit</a></td></tr>
<tr><td class='ruff_defitem'><code>csDeleteExternal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="ObjectTheming.csDeleteExternal" class='ruff_cmd'>ObjectTheming.csDeleteExternal</a></td></tr>
<tr><td class='ruff_defitem'><code>csExport</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csExport" title="ObjectTheming.csExport" class='ruff_cmd'>ObjectTheming.csExport</a></td></tr>
<tr><td class='ruff_defitem'><code>csFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFont" title="ObjectTheming.csFont" class='ruff_cmd'>ObjectTheming.csFont</a></td></tr>
<tr><td class='ruff_defitem'><code>csFontDef</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontDef" title="ObjectTheming.csFontDef" class='ruff_cmd'>ObjectTheming.csFontDef</a></td></tr>
<tr><td class='ruff_defitem'><code>csFontMono</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontMono" title="ObjectTheming.csFontMono" class='ruff_cmd'>ObjectTheming.csFontMono</a></td></tr>
<tr><td class='ruff_defitem'><code>csGet</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGet" title="ObjectTheming.csGet" class='ruff_cmd'>ObjectTheming.csGet</a></td></tr>
<tr><td class='ruff_defitem'><code>csGetName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGetName" title="ObjectTheming.csGetName" class='ruff_cmd'>ObjectTheming.csGetName</a></td></tr>
<tr><td class='ruff_defitem'><code>csMainColors</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMainColors" title="ObjectTheming.csMainColors" class='ruff_cmd'>ObjectTheming.csMainColors</a></td></tr>
<tr><td class='ruff_defitem'><code>csMapTheme</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMapTheme" title="ObjectTheming.csMapTheme" class='ruff_cmd'>ObjectTheming.csMapTheme</a></td></tr>
<tr><td class='ruff_defitem'><code>csSet</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csSet" title="ObjectTheming.csSet" class='ruff_cmd'>ObjectTheming.csSet</a></td></tr>
<tr><td class='ruff_defitem'><code>csToned</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csToned" title="ObjectTheming.csToned" class='ruff_cmd'>ObjectTheming.csToned</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::dateChooser" title="dateChooser" class='ruff_cmd'>dateChooser</a></td><td class='ruff_defitem'>Date chooser (calendar widget).</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::displayTaggedText" title="displayTaggedText" class='ruff_cmd'>displayTaggedText</a></td><td class='ruff_defitem'>Sets the text widget's contents using tags (ornamental details).</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::displayText" title="displayText" class='ruff_cmd'>displayText</a></td><td class='ruff_defitem'>Sets the text widget's contents.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::fillGutter" title="fillGutter" class='ruff_cmd'>fillGutter</a></td><td class='ruff_defitem'>Fills a gutter of text with the text's line numbers.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::focusNext" title="focusNext" class='ruff_cmd'>focusNext</a></td><td class='ruff_defitem'>Sets focus on a next widget (possibly, defined as <code>my Widget</code>).</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::fontChooser" title="fontChooser" class='ruff_cmd'>fontChooser</a></td><td class='ruff_defitem'>Font chooser.</td></tr>
<tr><td class='ruff_defitem'><code>getProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::getProperty" title="ObjectProperty.getProperty" class='ruff_cmd'>ObjectProperty.getProperty</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::getTextContent" title="getTextContent" class='ruff_cmd'>getTextContent</a></td><td class='ruff_defitem'>Gets text content.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::iconA" title="iconA" class='ruff_cmd'>iconA</a></td><td class='ruff_defitem'>Gets icon attributes for buttons, menus etc.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::initLinkFont" title="initLinkFont" class='ruff_cmd'>initLinkFont</a></td><td class='ruff_defitem'>Gets/sets font attributes of links (labels &amp; text tags with -link).</td></tr>
<tr><td class='ruff_defitem'><code>initTooltip</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::initTooltip" title="ObjectTheming.initTooltip" class='ruff_cmd'>ObjectTheming.initTooltip</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::labelFlashing" title="labelFlashing" class='ruff_cmd'>labelFlashing</a></td><td class='ruff_defitem'>Options of 'flashing' label: -file (or -data) {list of image files (or data variables)} -label {list of labels' texts} -incr {increment for -alpha option} -pause {pause in seconds for -alpha 1.0} -after {interval for 'after'} -squeeze {value for *-big.png}</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::makeLabelLinked" title="makeLabelLinked" class='ruff_cmd'>makeLabelLinked</a></td><td class='ruff_defitem'>Makes the linked label from a label.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::makePopup" title="makePopup" class='ruff_cmd'>makePopup</a></td><td class='ruff_defitem'>Makes a popup menu for an editable widget.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::makeWindow" title="makeWindow" class='ruff_cmd'>makeWindow</a></td><td class='ruff_defitem'>Creates a toplevel window that has to be paved.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::onKeyTextM" title="onKeyTextM" class='ruff_cmd'>onKeyTextM</a></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::optionCascadeText" title="optionCascadeText" class='ruff_cmd'>optionCascadeText</a></td><td class='ruff_defitem'>Rids a tk_optionCascade item of braces.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::ownWName" title="ownWName" class='ruff_cmd'>ownWName</a></td><td class='ruff_defitem'>Gets a tail (last part) of widget's name</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::parentWName" title="parentWName" class='ruff_cmd'>parentWName</a></td><td class='ruff_defitem'>Gets parent name of widget.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::paveWindow" title="paveWindow" class='ruff_cmd'>paveWindow</a></td><td class='ruff_defitem'>Processes &quot;win / list_of_widgets&quot; pairs.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::readonlyWidget" title="readonlyWidget" class='ruff_cmd'>readonlyWidget</a></td><td class='ruff_defitem'>Switches on/off a widget's readonly state for a text widget.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::res" title="res" class='ruff_cmd'>res</a></td><td class='ruff_defitem'>Gets/sets a variable for <em>vwait</em> command.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::setDefaultAttrs" title="setDefaultAttrs" class='ruff_cmd'>setDefaultAttrs</a></td><td class='ruff_defitem'>Sets or resets default grid options and attributes for widget type.</td></tr>
<tr><td class='ruff_defitem'><code>setProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::setProperty" title="ObjectProperty.setProperty" class='ruff_cmd'>ObjectProperty.setProperty</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::setTextBinds" title="setTextBinds" class='ruff_cmd'>setTextBinds</a></td><td class='ruff_defitem'>Returns bindings for a text widget.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::showModal" title="showModal" class='ruff_cmd'>showModal</a></td><td class='ruff_defitem'>Shows a window as modal.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::showWindow" title="showWindow" class='ruff_cmd'>showWindow</a></td><td class='ruff_defitem'>Displays a windows and goes in tkwait cycle to interact with a user.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::textLink" title="textLink" class='ruff_cmd'>textLink</a></td><td class='ruff_defitem'>Gets a label's path of a link in a text widget.</td></tr>
<tr><td class='ruff_defitem'><code>themeExternal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeExternal" title="ObjectTheming.themeExternal" class='ruff_cmd'>ObjectTheming.themeExternal</a></td></tr>
<tr><td class='ruff_defitem'><code>themeNonThemed</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="ObjectTheming.themeNonThemed" class='ruff_cmd'>ObjectTheming.themeNonThemed</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::themePopup" title="themePopup" class='ruff_cmd'>themePopup</a></td><td class='ruff_defitem'>Applies a color scheme to a popup menu.</td></tr>
<tr><td class='ruff_defitem'><code>themeWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeWindow" title="ObjectTheming.themeWindow" class='ruff_cmd'>ObjectTheming.themeWindow</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::timeoutButton" title="timeoutButton" class='ruff_cmd'>timeoutButton</a></td><td class='ruff_defitem'>Invokes a button's action after a timeout.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::tk_optionCascade" title="tk_optionCascade" class='ruff_cmd'>tk_optionCascade</a></td><td class='ruff_defitem'>A bit modified tk_optionCascade widget made by Richard Suchenwirth.</td></tr>
<tr><td class='ruff_defitem'><code>untouchWidgets</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="ObjectTheming.untouchWidgets" class='ruff_cmd'>ObjectTheming.untouchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::widgetType" title="widgetType" class='ruff_cmd'>widgetType</a></td><td class='ruff_defitem'>Gets the widget type based on 3 initial letters of its name. Also fills the grid/pack options and attributes of the widget.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APave::window" title="window" class='ruff_cmd'>window</a></td><td class='ruff_defitem'>Obsolete version of paveWindow (remains for compatibility).</td></tr>
</table>
<h5 class='ruff'>Mixins</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming" title="ObjectTheming" class='ruff_cmd'>ObjectTheming</a></p>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveDialog" title="APaveDialog" class='ruff_cmd'>APaveDialog</a></p>
<h4 class='ruffmethod'><a name='::apave::APave::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates APave object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>APave create</span> <span class='ruff_arg'>?cs? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>cs</code></td><td class='ruff_defitem'>color scheme (CS) Optional, default <code>-2</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional arguments</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If cs&gt;-2, the appropriate CS is set for the created APave object.</p>
<p class='ruff'>Fills <em>_pav</em> array with initial values.</p>
<p class='ruff'>Makes few procedures in the object's namespace to access from event handlers:</p>
<ul class='ruff'>
<li>ListboxHandle</li>
<li>ListboxSelect</li>
<li>WinResize</li>
</ul>
<p class='ruff'>This trick with <em>proc</em> inside an object is discussed at <a href="https://stackoverflow.com/questions/54804964/proc-in-tcl-ooclass" >proc-in-tcl-ooclass</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_28' href="javascript:toggleSource('28')">Show source</a></p>
<div id='28' class='ruff_dyn_src'><pre>method constructor {{cs -2} args} {


    # Creates APave object.
    #   cs - color scheme (CS)
    #   args - additional arguments
    #
    # If cs&gt;-2, the appropriate CS is set for the created APave object.
    #
    # Fills *_pav* array with initial values.
    #
    # Makes few procedures in the object's namespace to access from
    # event handlers:
    #   - ListboxHandle
    #   - ListboxSelect
    #   - WinResize
    # This trick with *proc* inside an object is discussed at
    #   [proc-in-tcl-ooclass](https://stackoverflow.com/questions/54804964/proc-in-tcl-ooclass)

    # keep the 'important' data of Pave object in array
    array set _pav [list]
    set _pav(ns) [namespace current]::
    set _pav(lwidgets) [list]
    set _pav(moveall) 0
    set _pav(tonemoves) 1
    set _pav(initialcolor) &quot;&quot;
    set _pav(modalwin) &quot;.&quot;
    set _pav(fgbut) [ttk::style lookup TButton -foreground]
    set _pav(bgbut) [ttk::style lookup TButton -background]
    set _pav(fgtxt) [ttk::style lookup TEntry -foreground]
    set _pav(prepost) [list]
    set _pav(widgetopts) [list]
    set _pav(edge) &quot;@@&quot;
    if {$_pav(fgtxt) in {&quot;black&quot; &quot;#000000&quot;}} {
      set _pav(bgtxt) white
    } else {
      set _pav(bgtxt) [ttk::style lookup TEntry -background]
    }
    # namespace in object namespace for safety of its 'most important' data
    namespace eval ${_pav(ns)}PN {}
    array set ${_pav(ns)}PN::AR {}
    # set/reset a color scheme if it is/was requested
    if {$cs&gt;=-1} {my csSet $cs} {my initTooltip}

    # object's procedures

    proc ListboxHandle {W offset maxChars} {

      set list {}
      foreach index [$W curselection] { lappend list [$W get $index] }
      set text [join $list \n]
      return [string range $text $offset [expr {$offset+$maxChars-1}]]
    }

    proc ListboxSelect {W} {

      # This code had been taken from Tcl's wiki:
      #   https://wiki.tcl-lang.org/page/listbox+selection

      selection clear -displayof $W
      selection own -command {} $W
      selection handle -type UTF8_STRING  $W [list [namespace current]::ListboxHandle $W]
      selection handle  $W [list [namespace current]::ListboxHandle $W]
      return
    }

    proc WinResize {win} {

      # Restricts the window's sizes (thus fixing Tk's issue with a menubar)
      #   win - path to a window to be of restricted sizes

      if {[lindex [$win configure -menu] 4] ne &quot;&quot;} {
        lassign [split [wm geometry $win] x+] w y
        lassign [wm minsize $win] wmin ymin
        if {$w&lt;$wmin &amp;&amp; $y&lt;$ymin} {
          set corrgeom ${wmin}x${ymin}
        } elseif {$w&lt;$wmin} {
          set corrgeom ${wmin}x${y}
        } elseif {$y&lt;$ymin} {
          set corrgeom ${w}x${ymin}
        } else {
          return
        }
        wm geometry $win $corrgeom
      }
      return
    }

    # the end of APave constructor
    if {[llength [self next]]} { next {*}$args }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears variables used in the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_29' href="javascript:toggleSource('29')">Show source</a></p>
<div id='29' class='ruff_dyn_src'><pre>method destructor {} {


    # Clears variables used in the object.

    array unset ${_pav(ns)}PN::AR
    namespace delete ${_pav(ns)}PN
    array unset _pav
    if {[llength [self next]]} next
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::checkTimeoutButton'>checkTimeoutButton</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT checkTimeoutButton</span> <span class='ruff_arg'>w tmo lbl ?lbltext?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>button's path</td></tr>
<tr><td class='ruff_defitem'><code>tmo</code></td><td class='ruff_defitem'>timeout in sec.</td></tr>
<tr><td class='ruff_defitem'><code>lbl</code></td><td class='ruff_defitem'>label widget, where seconds to wait are displayed</td></tr>
<tr><td class='ruff_defitem'><code>lbltext</code></td><td class='ruff_defitem'>original text of label Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_30' href="javascript:toggleSource('30')">Show source</a></p>
<div id='30' class='ruff_dyn_src'><pre>method checkTimeoutButton {w tmo lbl {lbltext {}}} {


    # Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.
    #   w - button's path
    #   tmo - timeout in sec.
    #   lbl - label widget, where seconds to wait are displayed
    #   lbltext - original text of label

    if {[winfo exists $lbl]} {
      if {[focus] in [list $w &quot;&quot;]} {
        if {$w in $::apave::_AP_VARS(TIMW)} {
          my timeoutButton $w $tmo $lbl $lbltext
        }
      } else {
        $lbl configure -text $lbltext
      }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::chooser'>chooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Chooser (for all available types).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT chooser</span> <span class='ruff_arg'>nchooser tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>nchooser</code></td><td class='ruff_defitem'>name of chooser</td></tr>
<tr><td class='ruff_defitem'><code>tvar</code></td><td class='ruff_defitem'>name of variable containing an input/output value</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options of the chooser</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The chooser names are:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'>tk_getOpenFile</td><td class='ruff_defitem'>choose a file to open</td></tr>
<tr><td class='ruff_defitem'>tk_getSaveFile</td><td class='ruff_defitem'>choose a file to save</td></tr>
<tr><td class='ruff_defitem'>tk_chooseDirectory</td><td class='ruff_defitem'>choose a directory</td></tr>
<tr><td class='ruff_defitem'>fontChooser</td><td class='ruff_defitem'>choose a font</td></tr>
<tr><td class='ruff_defitem'>dateChooser</td><td class='ruff_defitem'>choose a date</td></tr>
<tr><td class='ruff_defitem'>colorChooser</td><td class='ruff_defitem'>choose a color</td></tr>
<tr><td class='ruff_defitem'>ftx_OpenFile</td><td class='ruff_defitem'>(internal) choose a file for ftx widget</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected value.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_31' href="javascript:toggleSource('31')">Show source</a></p>
<div id='31' class='ruff_dyn_src'><pre>method chooser {nchooser tvar args} {


    # Chooser (for all available types).
    #   nchooser - name of chooser
    #   tvar - name of variable containing an input/output value
    #   args - options of the chooser
    #
    # The chooser names are:
    #   tk_getOpenFile - choose a file to open
    #   tk_getSaveFile - choose a file to save
    #   tk_chooseDirectory - choose a directory
    #   fontChooser - choose a font
    #   dateChooser - choose a date
    #   colorChooser - choose a color
    #   ftx_OpenFile - (internal) choose a file for ftx widget
    #
    # Returns a selected value.

    set isfilename 0
    set ftxvar [::apave::getOption -ftxvar {*}$args]
    set args [::apave::removeOptions $args -ftxvar]
    if {$nchooser eq &quot;ftx_OpenFile&quot;} {
      set nchooser &quot;tk_getOpenFile&quot;
    }
    set choosname $nchooser
    if {$choosname in {&quot;fontChooser&quot; &quot;colorChooser&quot; &quot;dateChooser&quot;}} {
      set nchooser &quot;my $choosname $tvar&quot;
    } elseif {$choosname in {&quot;tk_getOpenFile&quot; &quot;tk_getSaveFile&quot;}} {
      if {[set fn [set $tvar]]==&quot;&quot;} {set dn [pwd]} {set dn [file dirname $fn]}
      set args &quot;-initialfile \&quot;$fn\&quot; -initialdir \&quot;$dn\&quot; [my ParentOpt] $args&quot;
      incr isfilename
    } elseif {$nchooser eq &quot;tk_chooseDirectory&quot;} {
      set args &quot;-initialdir \&quot;[set $tvar]\&quot; [my ParentOpt] $args&quot;
      incr isfilename
    }
    if {$::tcl_platform(platform) eq &quot;unix&quot; &amp;&amp; $choosname ne &quot;dateChooser&quot;} {
      my themeExternal *.foc.* *f1.demo  ;# don't touch tkcc's boxes
    }
    set res [{*}$nchooser {*}$args]
    if {&quot;$res&quot; ne &quot;&quot; &amp;&amp; &quot;$tvar&quot; ne &quot;&quot;} {
      if {$isfilename} {
        lassign [my SplitContentVariable $ftxvar] -&gt; txtnam wid
        if {[info exist $ftxvar] &amp;&amp;  [file exist [set res [file nativename $res]]]} {
          set $ftxvar [::apave::readTextFile $res]
          if {[winfo exist $txtnam]} {
            my readonlyWidget $txtnam no
            my displayTaggedText $txtnam $ftxvar
            my readonlyWidget $txtnam yes
            set wid [string range $txtnam 0 [string last . $txtnam]]$wid
            $wid configure -text &quot;$res&quot;
            ::tk::TextSetCursor $txtnam 1.0
            update
          }
        }
      }
      set $tvar $res
    }
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::colorChooser'>colorChooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Color chooser.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT colorChooser</span> <span class='ruff_arg'>tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>tvar</code></td><td class='ruff_defitem'>name of variable containing a color</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options of <em>tk_chooseColor</em></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>tvar</em> sets the value of <em>-initialcolor</em> option. Also it gets a color selected in the chooser.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected color.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_32' href="javascript:toggleSource('32')">Show source</a></p>
<div id='32' class='ruff_dyn_src'><pre>method colorChooser {tvar args} {


    # Color chooser.
    #   tvar - name of variable containing a color
    #   args - options of *tk_chooseColor*
    #
    # The *tvar* sets the value of *-initialcolor* option. Also
    # it gets a color selected in the chooser.
    #
    # Returns a selected color.

    if {$_pav(initialcolor) eq &quot;&quot;} {
      source [file join $::apave::apaveDir pickers color clrpick.tcl]
    }
    if {[set _ [string trim [set $tvar]]] ne &quot;&quot;} {
      set _pav(initialcolor) $_
    } else {
      set _pav(initialcolor) black
    }
    if {[catch {lassign [tk_chooseColor -moveall $_pav(moveall)  -tonemoves $_pav(tonemoves) -initialcolor $_pav(initialcolor) {*}$args]  res _pav(moveall) _pav(tonemoves)}]} {
      set res [tk_chooseColor -initialcolor $_pav(initialcolor) {*}$args]
    }
    if {$res ne &quot;&quot;} {
      set _pav(initialcolor) [set $tvar $res]
    }
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::configure'>configure</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures the apave object (all of <em>_pav</em> array may be changed).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT configure</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of pairs name/value of options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Example:</p>
<pre class='ruff'>
pobj configure edge &quot;@@&quot;
</pre>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_33' href="javascript:toggleSource('33')">Show source</a></p>
<div id='33' class='ruff_dyn_src'><pre>method configure {args} {


    # Configures the apave object (all of *_pav* array may be changed).
    #   args - list of pairs name/value of options
    # Example:
    #     pobj configure edge &quot;@@&quot;

    foreach {optnam optval} $args { set _pav($optnam) $optval }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::dateChooser'>dateChooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Date chooser (calendar widget).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT dateChooser</span> <span class='ruff_arg'>tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>tvar</code></td><td class='ruff_defitem'>name of variable containing a date</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options of <em>::klnd::calendar</em></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected date.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_34' href="javascript:toggleSource('34')">Show source</a></p>
<div id='34' class='ruff_dyn_src'><pre>method dateChooser {tvar args} {


    # Date chooser (calendar widget).
    #   tvar - name of variable containing a date
    #   args - options of *::klnd::calendar*
    #
    # Returns a selected date.

    if {[info commands ::klnd::calendar] eq &quot;&quot;} {
      # imo, it's more effective to source on request than to require on possibility
      source [file join $::apave::apaveDir pickers klnd klnd.tcl]
    }
    set ent [my [my ownWName [::apave::getOption -entry {*}$args]]]
    dict set args -entry $ent
    set res [::klnd::calendar {*}$args -tvar $tvar -parent [winfo toplevel $ent]]
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::displayTaggedText'>displayTaggedText</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the text widget's contents using tags (ornamental details).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT displayTaggedText</span> <span class='ruff_arg'>w contsName ?tags?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>text widget's name</td></tr>
<tr><td class='ruff_defitem'><code>contsName</code></td><td class='ruff_defitem'>variable name for contents to be set in the widget</td></tr>
<tr><td class='ruff_defitem'><code>tags</code></td><td class='ruff_defitem'>list of tags to be applied to the text Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The lines in <em>text contents</em> are divided by \n and can include <em>tags</em> like in a html layout, e.g. <red>RED ARMY</red>.</p>
<p class='ruff'>The <em>tags</em> is a list of &quot;name/value&quot; pairs. 1st is a tag's name, 2nd is a tag's value.</p>
<p class='ruff'>The tag's name is &quot;pure&quot; one (without &lt;&gt;) so e.g.for <b>..</b> the tag list contains &quot;b&quot;.</p>
<p class='ruff'>The tag's name is a string of text attributes (-font etc.).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_35' href="javascript:toggleSource('35')">Show source</a></p>
<div id='35' class='ruff_dyn_src'><pre>method displayTaggedText {w contsName {tags {}}} {


    # Sets the text widget's contents using tags (ornamental details).
    #   w - text widget's name
    #   contsName - variable name for contents to be set in the widget
    #   tags - list of tags to be applied to the text
    #
    # The lines in *text contents* are divided by \n and can include
    # *tags* like in a html layout, e.g. &lt;red&gt;RED ARMY&lt;/red&gt;.
    #
    # The *tags* is a list of &quot;name/value&quot; pairs. 1st is a tag's name, 2nd
    # is a tag's value.
    #
    # The tag's name is &quot;pure&quot; one (without &lt;&gt;) so e.g.for &lt;b&gt;..&lt;/b&gt; the tag
    # list contains &quot;b&quot;.
    #
    # The tag's name is a string of text attributes (-font etc.).

    upvar $contsName conts
    if {$tags eq &quot;&quot;} {
      my displayText $w $conts
      return
    }
    if { [set state [$w cget -state]] ne &quot;normal&quot;} {
      $w configure -state normal
    }
    set taglist [set tagpos [set taglen [list]]]
    foreach tagi $tags {
      lassign $tagi tag
      lappend tagpos 0
      lappend taglen [string length $tag]
    }
    set tLen [llength $tags]
    set disptext &quot;&quot;
    set irow 1
    foreach line [split $conts \n] {
      if {$irow &gt; 1} {
        append disptext \n
      }
      set newline &quot;&quot;
      while 1 {
        set p [string first \&lt; $line]
        if {$p &lt; 0} {
          break
        }
        append newline [string range $line 0 $p-1]
        set line [string range $line $p end]
        set i 0
        set nrnc $irow.[string length $newline]
        foreach tagi $tags pos $tagpos len $taglen {
          lassign $tagi tag
          if {[string first &quot;\&lt;$tag\&gt;&quot; $line]==0} {
            if {$pos ne &quot;0&quot;} {
              error &quot;\npaveme.tcl: mismatched \&lt;$tag\&gt; in line $irow.\n&quot;
            }
            lset tagpos $i $nrnc
            set line [string range $line $len+2 end]
            break
          } elseif {[string first &quot;\&lt;/$tag\&gt;&quot; $line]==0} {
            if {$pos == &quot;0&quot;} {
              error &quot;\npaveme.tcl: mismatched \&lt;/$tag\&gt; in line $irow.\n&quot;
            }
            lappend taglist [list $i $pos $nrnc]
            lset tagpos $i 0
            set line [string range $line $len+3 end]
            break
          }
          incr i
        }
        if {$i == $tLen} {
          # tag not found after &quot;&lt;&quot; - shift by 1 character
          append newline [string index $line 0]
          set line [string range $line 1 end]
        }
      }
      append disptext $newline $line
      incr irow
    }
    $w replace 1.0 end $disptext
    foreach tagi $tags {
      lassign $tagi tag opts
      if {![string match &quot;link*&quot; $tag]} {
        $w tag config $tag {*}$opts
      }
    }
    lassign [my csGet] fg fg2 bg bg2
    set lfont [$w cget -font]
    catch {set lfont [font actual $lfont]}
    foreach {o v} [my initLinkFont] {dict set lfont $o $v}
    set ::apave::__TEXTLINKS__($w) [list]
    for {set it [llength $taglist]} {[incr it -1]&gt;=0} {} {
      set tagli [lindex $taglist $it]
      lassign $tagli i p1 p2
      lassign [lindex $tags $i] tag opts
      if {[string match &quot;link*&quot; $tag] &amp;&amp;  [set ist [lsearch -exact -index 0 $tags $tag]]&gt;=0} {
        set txt [$w get $p1 $p2]
        set lab ${w}l[incr ::apave::__linklab__]
        ttk::label $lab -text $txt -font $lfont -foreground $fg -background $bg
        set ::apave::__TEXTLINKS__($w) [linsert $::apave::__TEXTLINKS__($w) 0 $lab]
        $w delete $p1 $p2
        $w window create $p1 -window $lab
        set v [lindex $tags $ist 1]
        my makeLabelLinked $lab $v $fg $bg $fg2 $bg2
      } else {
        $w tag add $tag $p1 $p2
      }
    }
    $w edit reset; $w edit modified no
    if { $state ne &quot;normal&quot; } { $w configure -state $state }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::displayText'>displayText</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the text widget's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT displayText</span> <span class='ruff_arg'>w conts ?pos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>text widget's name</td></tr>
<tr><td class='ruff_defitem'><code>conts</code></td><td class='ruff_defitem'>contents to be set in the widget</td></tr>
<tr><td class='ruff_defitem'><code>pos</code></td><td class='ruff_defitem'>Not documented. Optional, default <code>1.0</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_36' href="javascript:toggleSource('36')">Show source</a></p>
<div id='36' class='ruff_dyn_src'><pre>method displayText {w conts {pos 1.0}} {


    # Sets the text widget's contents.
    #   w - text widget's name
    #   conts - contents to be set in the widget

    if { [set state [$w cget -state]] ne &quot;normal&quot;} {
      $w configure -state normal
    }
    $w replace 1.0 end $conts
    $w edit reset; $w edit modified no
    if {$state eq &quot;normal&quot;} {
      ::tk::TextSetCursor $w $pos
    } else {
      $w configure -state $state
    }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::fillGutter'>fillGutter</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a gutter of text with the text's line numbers.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT fillGutter</span> <span class='ruff_arg'>txt ?canvas? ?width? ?shift? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>path to the text widget</td></tr>
<tr><td class='ruff_defitem'><code>canvas</code></td><td class='ruff_defitem'>canvas of the gutter Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>width</code></td><td class='ruff_defitem'>width of the gutter, in chars Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>shift</code></td><td class='ruff_defitem'>addition to the width (to shift from the left side) Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional arguments for tracing</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The code is borrowed from open source tedit project.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_37' href="javascript:toggleSource('37')">Show source</a></p>
<div id='37' class='ruff_dyn_src'><pre>method fillGutter {txt {canvas {}} {width {}} {shift {}} args} {

    # Fills a gutter of text with the text's line numbers.
    #  txt - path to the text widget
    #  canvas - canvas of the gutter
    #  width - width of the gutter, in chars
    #  shift - addition to the width (to shift from the left side)
    #  args - additional arguments for tracing
    # The code is borrowed from open source tedit project.

    if {$canvas eq &quot;&quot;} {
      event generate $txt &lt;Configure&gt; ;# repaints the gutter
      return
    }
    set oper [lindex $args 0 1]
    if {![llength $args] || [lindex $args 0 4] eq &quot;-elide&quot; ||  $oper in {configure delete insert see yview}} {
      set i [$txt index @0,0]
      set gcont [list]
      while true {
        set dline [$txt dlineinfo $i]
        if {[llength $dline] == 0} break
        set height [lindex $dline 3]
        set y [expr {[lindex $dline 1]}]
        set linenum [format &quot;%${width}d&quot; [lindex [split $i &quot;.&quot;] 0]]
        set i [$txt index &quot;$i +1 lines linestart&quot;]
        lappend gcont [list $y $linenum]
      }
      # update the gutter at changing its contents/config
      lassign [my csGet] - - - bg - - - - fg
      set cwidth [expr {$shift +  [font measure apaveFontMono -displayof $txt [string repeat 0 $width]]}]
      set newbg [expr {$bg ne [$canvas cget -background]}]
      set newwidth [expr {$cwidth ne [$canvas cget -width]}]
      set savedcont [namespace current]::gc$txt
      if {![llength $args] || $newbg || $newwidth || ![info exists $savedcont] ||  $gcont != [set $savedcont]} {
        if {$newbg} {$canvas config -background $bg}
        if {$newwidth} {$canvas config -width $cwidth}
        $canvas delete all
        foreach g $gcont {
          lassign $g y linenum
          $canvas create text 2 $y -anchor nw -text $linenum -font apaveFontMono -fill $fg
        }
        set $savedcont $gcont
      }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::focusNext'>focusNext</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets focus on a next widget (possibly, defined as <code>my Widget</code>).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT focusNext</span> <span class='ruff_arg'>w wnext ?wnext0?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>parent window name</td></tr>
<tr><td class='ruff_defitem'><code>wnext</code></td><td class='ruff_defitem'>next widget's name</td></tr>
<tr><td class='ruff_defitem'><code>wnext0</code></td><td class='ruff_defitem'>core next name (used internally, for recursive search) Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_38' href="javascript:toggleSource('38')">Show source</a></p>
<div id='38' class='ruff_dyn_src'><pre>method focusNext {w wnext {wnext0 {}}} {


    # Sets focus on a next widget (possibly, defined as `my Widget`).
    #   w - parent window name
    #   wnext - next widget's name
    #   wnext0 - core next name (used internally, for recursive search)

    if {$wnext eq &quot;&quot;} return
    if {[winfo exist $wnext]} {
      focus $wnext  ;# direct path to the next widget
      return
    }
    # try to find the next widget in hierarchy of widgets
    set ws $wnext
    if {$wnext0 eq &quot;&quot;} {
      # get the real next widget (wnext can be uppercased or calculated)
      catch {set wnext [subst $wnext]}
      if {![string match &quot;my *&quot; $wnext]} {
        catch {set wnext [my [my ownWName $wnext]]}
      }
      my focusNext $w $wnext $wnext
    } else {
      set wnext $wnext0
    }
    foreach wn [winfo children $w] {
      my focusNext $wn $wnext $wnext0
      if {[string match &quot;*.$wnext&quot; $wn] || [string match &quot;*.$ws&quot; $wn]} {
        focus $wn
        return
      }
    }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::fontChooser'>fontChooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Font chooser.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT fontChooser</span> <span class='ruff_arg'>tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>tvar</code></td><td class='ruff_defitem'>name of variable containing a font</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options of <em>tk fontchooser</em></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>tvar</em> sets the value of <em>-font</em> option. Also it gets a font selected in the chooser.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_39' href="javascript:toggleSource('39')">Show source</a></p>
<div id='39' class='ruff_dyn_src'><pre>method fontChooser {tvar args} {


    # Font chooser.
    #   tvar - name of variable containing a font
    #   args - options of *tk fontchooser*
    #
    # The *tvar* sets the value of *-font* option. Also
    # it gets a font selected in the chooser.
    #
    # Returns a selected font.

    proc [namespace current]::applyFont {font} &quot;
      set $tvar \[font actual \$font\]&quot;
    set font [set $tvar]
    if {$font==&quot;&quot;} {
      catch {font create fontchoose {*}[font actual TkDefaultFont]}
    } else {
      catch {font delete fontchoose}
      catch {font create fontchoose {*}[font actual $font]}
    }
    tk fontchooser configure -parent . -font fontchoose {*}[my ParentOpt]  {*}$args -command [namespace current]::applyFont
    set res [tk fontchooser show]
    return $font
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::getTextContent'>getTextContent</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets text content.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT getTextContent</span> <span class='ruff_arg'>tvar</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>tvar</code></td><td class='ruff_defitem'>text variable</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Uses an internal text variable to extract the text contents.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the content of text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_40' href="javascript:toggleSource('40')">Show source</a></p>
<div id='40' class='ruff_dyn_src'><pre>method getTextContent {tvar} {


    # Gets text content.
    #   tvar - text variable
    # Uses an internal text variable to extract the text contents.
    # Returns the content of text.

    lassign [my SplitContentVariable [my GetContentVariable $tvar]]  -&gt; txtnam wid
    return [string trimright [$txtnam get 1.0 end]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::iconA'>iconA</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets icon attributes for buttons, menus etc.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT iconA</span> <span class='ruff_arg'>icon ?iconset?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>name of icon</td></tr>
<tr><td class='ruff_defitem'><code>iconset</code></td><td class='ruff_defitem'>one of small/middle/large Optional, default <code>small</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>iconset</em> is &quot;small&quot; for menus (recommended and default).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_41' href="javascript:toggleSource('41')">Show source</a></p>
<div id='41' class='ruff_dyn_src'><pre>method iconA {icon {iconset small}} {


    # Gets icon attributes for buttons, menus etc.
    #   icon - name of icon
    #   iconset - one of small/middle/large
    # The *iconset* is &quot;small&quot; for menus (recommended and default).

    return &quot;-image [::apave::iconImage $icon $iconset] -compound left&quot;
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::initLinkFont'>initLinkFont</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets font attributes of links (labels &amp; text tags with -link).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT initLinkFont</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>font attributes (&quot;-underline 1&quot; by default)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the current value of these attributes.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_42' href="javascript:toggleSource('42')">Show source</a></p>
<div id='42' class='ruff_dyn_src'><pre>method initLinkFont {args} {


    # Gets/sets font attributes of links (labels &amp; text tags with -link).
    #  args - font attributes (&quot;-underline 1&quot; by default)
    # Returns the current value of these attributes.

    if {[set ll [llength $args]]} {
      if {$ll%2} {   ;# clear the attributes, if called with &quot;&quot;
        set ::apave::_AP_VARS(LINKFONT) [list]
      } else {
        set ::apave::_AP_VARS(LINKFONT) $args
      }
    }
    return $::apave::_AP_VARS(LINKFONT)
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::labelFlashing'>labelFlashing</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Options of 'flashing' label: -file (or -data) {list of image files (or data variables)} -label {list of labels' texts} -incr {increment for -alpha option} -pause {pause in seconds for -alpha 1.0} -after {interval for 'after'} -squeeze {value for *-big.png}</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT labelFlashing</span> <span class='ruff_arg'>w1 w2 first ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w1</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>w2</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>first</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_43' href="javascript:toggleSource('43')">Show source</a></p>
<div id='43' class='ruff_dyn_src'><pre>method labelFlashing {w1 w2 first args} {


    # Options of 'flashing' label:
    #   -file (or -data) {list of image files (or data variables)}
    #   -label {list of labels' texts}
    #   -incr {increment for -alpha option}
    #   -pause {pause in seconds for -alpha 1.0}
    #   -after {interval for 'after'}
    #   -squeeze {value for *-big.png}

    if {![winfo exists $w1]} return
    if {$first} {
      lassign [::apave::parseOptions $args  -file &quot;&quot; -data &quot;&quot; -label &quot;&quot; -incr 0.01 -pause 3.0 -after 10 -squeeze &quot;&quot; -static 0]  ofile odata olabel oincr opause oafter osqueeze ostatic
      if {$osqueeze ne &quot;&quot;} {set osqueeze &quot;-subsample $osqueeze&quot;}
      array set ::t::AR {}
      lassign {0 -2 0 1} idx incev waitev direv
    } else {
      lassign $args ofile odata olabel oincr opause oafter osqueeze ostatic  idx incev waitev direv
    }
    set llf [llength $ofile]
    set lld [llength $odata]
    if {[set llen [expr {max($llf,$lld)}]]==0} return
    incr incev $direv
    set alphaev [expr {$oincr*$incev}]
    if {$alphaev&gt;=1} {
      set alpha 1.0
      if {[incr waitev -1]&lt;0} {
        set direv -1
      }
    } elseif {$alphaev&lt;0} {
      set alpha 0.0
      set idx [expr {$idx%$llen+1}]
      set direv 1
      set incev 0
      set waitev [expr {int($opause/$oincr)}]
    } else {
      set alpha $alphaev
    }
    if {$llf} {
      set png [list -file [lindex $ofile $idx-1]]
    } elseif {[info exists [set datavar [lindex $odata $idx-1]]]} {
      set png [list -data [set $datavar]]
    } else {
      set png [list -data $odata]
    }
    set NS [namespace current]
    if {$ostatic} {
      image create photo ${NS}::ImgT$w1 {*}$png
      $w1 configure -image ${NS}::ImgT$w1
    } else {
      image create photo ${NS}::ImgT$w1 {*}$png -format &quot;png -alpha $alpha&quot;
      image create photo ${NS}::Img$w1
      ${NS}::Img$w1 copy ${NS}::ImgT$w1 {*}$osqueeze
      $w1 configure -image ${NS}::Img$w1
    }
    if {$w2 ne &quot;&quot;} {
      if {$alphaev&lt;0.33 &amp;&amp; !$ostatic} {
        set fg [$w1 cget -background]
      } else {
        if {[info exists ::apave::_AP_VISITED(FG,$w2)]} {
          set fg $::apave::_AP_VISITED(FG,$w2)
        } else {
          set fg [$w1 cget -foreground]
        }
      }
      $w2 configure -text [lindex $olabel $idx-1] -foreground $fg
    }
    after $oafter [list [self] labelFlashing $w1 $w2 0  $ofile $odata $olabel $oincr $opause $oafter $osqueeze $ostatic  $idx $incev $waitev $direv]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::makeLabelLinked'>makeLabelLinked</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the linked label from a label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT makeLabelLinked</span> <span class='ruff_arg'>lab v fg bg fg2 bg2 ?doadd? ?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>lab</code></td><td class='ruff_defitem'>label's path</td></tr>
<tr><td class='ruff_defitem'><code>v</code></td><td class='ruff_defitem'>data of the link: command, tip, visited</td></tr>
<tr><td class='ruff_defitem'><code>fg</code></td><td class='ruff_defitem'>foreground unhovered</td></tr>
<tr><td class='ruff_defitem'><code>bg</code></td><td class='ruff_defitem'>background unhovered</td></tr>
<tr><td class='ruff_defitem'><code>fg2</code></td><td class='ruff_defitem'>foreground hovered</td></tr>
<tr><td class='ruff_defitem'><code>bg2</code></td><td class='ruff_defitem'>background hovered</td></tr>
<tr><td class='ruff_defitem'><code>doadd</code></td><td class='ruff_defitem'>flag &quot;register the label in the list of visited&quot; Optional, default <code>yes</code>.</td></tr>
<tr><td class='ruff_defitem'><code>inv</code></td><td class='ruff_defitem'>flag &quot;invert the meaning of colors&quot; Optional, default <code>no</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_44' href="javascript:toggleSource('44')">Show source</a></p>
<div id='44' class='ruff_dyn_src'><pre>method makeLabelLinked {lab v fg bg fg2 bg2 {doadd yes} {inv no}} {


    # Makes the linked label from a label.
    #   lab - label's path
    #   v - data of the link: command, tip, visited
    #   fg - foreground unhovered
    #   bg - background unhovered
    #   fg2 - foreground hovered
    #   bg2 - background hovered
    #   doadd - flag &quot;register the label in the list of visited&quot;
    #   inv - flag &quot;invert the meaning of colors&quot;

    set txt [$lab cget -text]
    lassign [split [string map [list $_pav(edge) $::apave::UFF] $v] $::apave::UFF] v tt vz
    set tt [string map [list %l $txt] $tt]
    set v [string map [list %l $txt %t $tt] $v]
    if {$tt ne &quot;&quot;} {
      catch {::baltip tip $lab $tt}
      lappend ::apave::_AP_VARS(TIMW) $lab
    }
    if {$inv} {
      set ft $fg
      set bt $bg
      set fg $fg2
      set bg $bg2
      set fg2 $ft
      set bg2 $bt
    }
    my VisitedLab $lab $v $vz $fg $bg
    bind $lab &lt;Enter&gt; &quot;::apave::obj EXPORT HoverLab $lab {$v} yes $fg2 $bg2&quot;
    bind $lab &lt;Leave&gt; &quot;::apave::obj EXPORT HoverLab $lab {$v} no $fg $bg&quot;
    bind $lab &lt;Button-1&gt; &quot;::apave::obj EXPORT VisitedLab $lab {$v} yes $fg2 $bg2;$v&quot;
    if {$doadd} {lappend ::apave::_AP_VISITED(ALL) [list $lab $v $inv]}
    return [list $fg $bg $fg2 $bg2]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::makePopup'>makePopup</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a popup menu for an editable widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT makePopup</span> <span class='ruff_arg'>w ?isRO? ?istext? ?tearoff? ?addpop?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>widget's name</td></tr>
<tr><td class='ruff_defitem'><code>isRO</code></td><td class='ruff_defitem'>flag for &quot;is it readonly&quot; Optional, default <code>no</code>.</td></tr>
<tr><td class='ruff_defitem'><code>istext</code></td><td class='ruff_defitem'>flag for &quot;is it a text&quot; Optional, default <code>no</code>.</td></tr>
<tr><td class='ruff_defitem'><code>tearoff</code></td><td class='ruff_defitem'>flag for &quot;-tearoff&quot; option Optional, default <code>no</code>.</td></tr>
<tr><td class='ruff_defitem'><code>addpop</code></td><td class='ruff_defitem'>additional commands for popup menu Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_45' href="javascript:toggleSource('45')">Show source</a></p>
<div id='45' class='ruff_dyn_src'><pre>method makePopup {w {isRO no} {istext no} {tearoff no} {addpop {}}} {


    # Makes a popup menu for an editable widget.
    #   w - widget's name
    #   isRO - flag for &quot;is it readonly&quot;
    #   istext - flag for &quot;is it a text&quot;
    #   tearoff - flag for &quot;-tearoff&quot; option
    #   addpop - additional commands for popup menu

    set pop $w.popupMenu
    catch {menu $pop -tearoff $tearoff}
    $pop delete 0 end
    if {$isRO} {
      $pop add command {*}[my iconA copy] -accelerator Ctrl+C -label &quot;Copy&quot;  -command &quot;event generate $w &lt;&lt;Copy&gt;&gt;&quot;
      if {$istext} {
        eval [my popupHighlightCommands $pop $w]
        after idle [list [self] set_highlight_matches $w]
      }
    } else {
      if {$istext} {
        $pop add command {*}[my iconA cut] -accelerator Ctrl+X -label &quot;Cut&quot;  -command &quot;::apave::eventOnText $w &lt;&lt;Cut&gt;&gt;&quot;
        $pop add command {*}[my iconA copy] -accelerator Ctrl+C -label &quot;Copy&quot;  -command &quot;::apave::eventOnText $w &lt;&lt;Copy&gt;&gt;&quot;
        $pop add command {*}[my iconA paste] -accelerator Ctrl+V -label &quot;Paste&quot;  -command &quot;::apave::eventOnText $w &lt;&lt;Paste&gt;&gt;&quot;
        $pop add separator
        $pop add command {*}[my iconA undo] -accelerator Ctrl+Z -label &quot;Undo&quot;  -command &quot;::apave::eventOnText $w &lt;&lt;Undo&gt;&gt;&quot;
        $pop add command {*}[my iconA redo] -accelerator Ctrl+Shift+Z -label &quot;Redo&quot;  -command &quot;::apave::eventOnText $w &lt;&lt;Redo&gt;&gt;&quot;
        eval [my popupBlockCommands $pop $w]
        eval [my popupHighlightCommands $pop $w]
        if {$addpop ne &quot;&quot;} {
          lassign $addpop com par1 par2
          eval [my $com $pop $w {*}$par1 {*}$par2]
        }
        after idle [list [self] set_highlight_matches $w]
        after idle [my setTextBinds $w]
      } else {
        $pop add command {*}[my iconA cut] -accelerator Ctrl+X -label &quot;Cut&quot;  -command &quot;event generate $w &lt;&lt;Cut&gt;&gt;&quot;
        $pop add command {*}[my iconA copy] -accelerator Ctrl+C -label &quot;Copy&quot;  -command &quot;event generate $w &lt;&lt;Copy&gt;&gt;&quot;
        $pop add command {*}[my iconA paste] -accelerator Ctrl+V -label &quot;Paste&quot;  -command &quot;event generate $w &lt;&lt;Paste&gt;&gt;&quot;
      }
    }
    if {$istext} {
      $pop add separator
      $pop add command {*}[my iconA none] -accelerator Ctrl+A -label &quot;Select All&quot;  -command &quot;$w tag add sel 1.0 end&quot;
      bind $w &lt;Control-a&gt; &quot;$w tag add sel 1.0 end; break&quot;
    }
    bind $w &lt;Button-3&gt; &quot;[self] themePopup $w.popupMenu; tk_popup $w.popupMenu %X %Y&quot;
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::makeWindow'>makeWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a toplevel window that has to be paved.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT makeWindow</span> <span class='ruff_arg'>w ttl ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>window's title</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options for 'toplevel' command</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <code>$w</code> matches &quot;*.fra&quot; then ttk::frame is created with name <code>$w</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_46' href="javascript:toggleSource('46')">Show source</a></p>
<div id='46' class='ruff_dyn_src'><pre>method makeWindow {w ttl args} {


    # Creates a toplevel window that has to be paved.
    #   w - window's name
    #   ttl - window's title
    #   args - options for 'toplevel' command
    # If $w matches &quot;*.fra&quot; then ttk::frame is created with name $w.

    my CleanUps
    set w [set wtop [string trimright $w .]]
    set withfr [expr {[set pp [string last . $w]]&gt;0 &amp;&amp;  [string match &quot;*.fra&quot; $w]}]
    if {$withfr} {
      set wtop [string range $w 0 $pp-1]
    }
    catch {destroy $wtop}
    toplevel $wtop {*}$args
    if {[::iswindows]} { ;# maybe nice to hide all windows manipulations
      wm attributes $wtop -alpha 0.0
    } else {
      wm withdraw $wtop
    }
    if {$withfr} {
      pack [ttk::frame $w] -expand 1 -fill both
    }
    wm title $wtop $ttl
    return $wtop
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::onKeyTextM'>onKeyTextM</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT onKeyTextM</span> <span class='ruff_arg'>w K</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>K</code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_47' href="javascript:toggleSource('47')">Show source</a></p>
<div id='47' class='ruff_dyn_src'><pre>method onKeyTextM {w K} {


    if {$K eq &quot;Return&quot;} {
      set idx1 [$w index &quot;insert linestart&quot;]
      set idx2 [$w index &quot;insert lineend&quot;]
      set line [$w get $idx1 $idx2]
      set indent [string repeat &quot; &quot;  [expr {[string length $line]-[string length [string trimleft $line]]}]]
      if {$indent ne &quot;&quot;} {
        after idle [list $w insert [$w index &quot;$idx1 +1 line&quot;] $indent]
      }
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::optionCascadeText'>optionCascadeText</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rids a tk_optionCascade item of braces.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT optionCascadeText</span> <span class='ruff_arg'>it</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>it</code></td><td class='ruff_defitem'>an item to be trimmed</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Reason: tk_optionCascade items shimmer between 'list' and 'string' so a multiline item is displayed with braces, if not got rid of them.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the item trimmed.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APave::tk_optionCascade" title="tk_optionCascade" class='ruff_cmd'>tk_optionCascade</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_48' href="javascript:toggleSource('48')">Show source</a></p>
<div id='48' class='ruff_dyn_src'><pre>method optionCascadeText {it} {


    # Rids a tk_optionCascade item of braces.
    #   it - an item to be trimmed
    #
    # Reason: tk_optionCascade items shimmer between 'list' and 'string'
    # so a multiline item is displayed with braces, if not got rid of them.
    #
    # Returns the item trimmed.
    #
    # See also: tk_optionCascade

    if {[string match &quot;\{*\}&quot; $it]} {
      set it [string range $it 1 end-1]
    }
    return $it
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::ownWName'>ownWName</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tail (last part) of widget's name</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ownWName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name (path) of the widget</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_49' href="javascript:toggleSource('49')">Show source</a></p>
<div id='49' class='ruff_dyn_src'><pre>method ownWName {name} {


    # Gets a tail (last part) of widget's name
    #   name - name (path) of the widget

    return [lindex [split $name .] end]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::parentWName'>parentWName</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets parent name of widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT parentWName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name (path) of the widget</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_50' href="javascript:toggleSource('50')">Show source</a></p>
<div id='50' class='ruff_dyn_src'><pre>method parentWName {name} {


    # Gets parent name of widget.
    #   name - name (path) of the widget

    return [string range $name 0 [string last . $name]-1]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::paveWindow'>paveWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes &quot;win / list_of_widgets&quot; pairs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT paveWindow</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of pairs &quot;win / lwidgets&quot;</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>win</em> is a window's path. The <em>lwidgets</em> is a list of widget items.</p>
<p class='ruff'>Each widget item contains:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'>name</td><td class='ruff_defitem'>widget's name (first 3 characters define its type)</td></tr>
<tr><td class='ruff_defitem'>neighbor</td><td class='ruff_defitem'>top or left neighbor of the widget</td></tr>
<tr><td class='ruff_defitem'>posofnei</td><td class='ruff_defitem'>position of neighbor: T (top) or L (left)</td></tr>
<tr><td class='ruff_defitem'>rowspan</td><td class='ruff_defitem'>row span of the widget</td></tr>
<tr><td class='ruff_defitem'>colspan</td><td class='ruff_defitem'>column span of the widget</td></tr>
<tr><td class='ruff_defitem'>options</td><td class='ruff_defitem'>grid/pack options</td></tr>
<tr><td class='ruff_defitem'>attrs</td><td class='ruff_defitem'>attributes of widget</td></tr>
<tr><td class='ruff_defitem'>add</td><td class='ruff_defitem'>if set, replaces grid/pack with &quot;add&quot; command</td></tr>
<tr><td class='ruff_defitem'>comm</td><td class='ruff_defitem'>a command executed after the creation of widget (&quot;%w&quot; is its name)</td></tr>
</table>
<p class='ruff'>First 3 items are mandatory, others are set at need.</p>
<p class='ruff'>This method calls <em>paveWindow</em> in a cycle, to process a current &quot;win / lwidgets&quot; pair.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_51' href="javascript:toggleSource('51')">Show source</a></p>
<div id='51' class='ruff_dyn_src'><pre>method paveWindow {args} {


    # Processes &quot;win / list_of_widgets&quot; pairs.
    #   args - list of pairs &quot;win / lwidgets&quot;
    #
    # The *win* is a window's path. The *lwidgets* is a list of
    # widget items.
    #
    # Each widget item contains:
    #   name - widget's name (first 3 characters define its type)
    #   neighbor - top or left neighbor of the widget
    #   posofnei - position of neighbor: T (top) or L (left)
    #   rowspan - row span of the widget
    #   colspan - column span of the widget
    #   options - grid/pack options
    #   attrs - attributes of widget
    #   add - if set, replaces grid/pack with &quot;add&quot; command
    #   comm - a command executed after the creation of widget (&quot;%w&quot; is its name)
    # First 3 items are mandatory, others are set at need.
    #
    # This method calls *paveWindow* in a cycle, to process a current
    # &quot;win / lwidgets&quot; pair.

      set res [list]
      set wmain [set wdia &quot;&quot;]
      foreach {w lwidgets} $args {
        lappend res {*}[my Window $w $lwidgets]
        lappend _pav(lwidgets) $lwidgets ;# possibly useful
        if {[set ifnd [regexp -indices -inline {[.]dia\d+} $w]] ne &quot;&quot;} {
          set wdia [string range $w 0 [lindex $ifnd 0 1]]
        } else {
          set wmain .[lindex [split $w .] 1]
        }
      }
      # add a system Menu binding for the created window
      if {[winfo exists $wdia]} {::apave::initPOP $wdia} elseif {
          [winfo exists $wmain]} {::apave::initPOP $wmain}
      return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::readonlyWidget'>readonlyWidget</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches on/off a widget's readonly state for a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT readonlyWidget</span> <span class='ruff_arg'>w ?on? ?popup?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code>on</code></td><td class='ruff_defitem'>&quot;on/off&quot; boolean flag Optional, default <code>yes</code>.</td></tr>
<tr><td class='ruff_defitem'><code>popup</code></td><td class='ruff_defitem'>&quot;make popup menu&quot; boolean flag Optional, default <code>yes</code>.</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="https://wiki.tcl-lang.org/page/Read-only+text+widget" >wiki.tcl-lang.org</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_52' href="javascript:toggleSource('52')">Show source</a></p>
<div id='52' class='ruff_dyn_src'><pre>method readonlyWidget {w {on yes} {popup yes}} {


    # Switches on/off a widget's readonly state for a text widget.
    #   w - text widget's path
    #   on - &quot;on/off&quot; boolean flag
    #   popup - &quot;make popup menu&quot; boolean flag
    # See also:
    #   [wiki.tcl-lang.org](https://wiki.tcl-lang.org/page/Read-only+text+widget)

    my TextCommandForChange $w &quot;&quot; $on
    if {$popup} {my makePopup $w $on yes}
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::res'>res</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets a variable for <em>vwait</em> command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT res</span> <span class='ruff_arg'>win ?result?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code>result</code></td><td class='ruff_defitem'>value of variable Optional, default <code>get</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This method is used when</p>
<ul class='ruff'>
<li>an event cycle should be stopped with changing a variable's value</li>
<li>a result of event cycle (the variable's value) should be got</li>
</ul>
<p class='ruff'>In the first case, <em>result</em> is set to an integer. In <em>apave</em> dialogs the integer is corresponding a pressed button's index.</p>
<p class='ruff'>In the second case, <em>result</em> is omitted or equal to &quot;get&quot;.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a value of variable that controls an event cycle.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_53' href="javascript:toggleSource('53')">Show source</a></p>
<div id='53' class='ruff_dyn_src'><pre>method res {win {result get}} {


    # Gets/sets a variable for *vwait* command.
    #   win - window's path
    #   result - value of variable
    #
    # This method is used when
    #  - an event cycle should be stopped with changing a variable's value
    #  - a result of event cycle (the variable's value) should be got
    #
    # In the first case, *result* is set to an integer. In *apave* dialogs
    # the integer is corresponding a pressed button's index.
    #
    # In the second case, *result* is omitted or equal to &quot;get&quot;.
    #
    # Returns a value of variable that controls an event cycle.

    if {$result == &quot;get&quot;} {
      return [set ${_pav(ns)}PN::AR($win)]
    }
    my CleanUps $win
    return [set ${_pav(ns)}PN::AR($win) $result]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::setDefaultAttrs'>setDefaultAttrs</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets or resets default grid options and attributes for widget type.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT setDefaultAttrs</span> <span class='ruff_arg'>typ opt atr</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>typ</code></td><td class='ruff_defitem'>widget type</td></tr>
<tr><td class='ruff_defitem'><code>opt</code></td><td class='ruff_defitem'>new default grid options</td></tr>
<tr><td class='ruff_defitem'><code>atr</code></td><td class='ruff_defitem'>new default attributes</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of updated options and attributes of the widget type.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_54' href="javascript:toggleSource('54')">Show source</a></p>
<div id='54' class='ruff_dyn_src'><pre>method setDefaultAttrs {typ opt atr} {


    # Sets or resets default grid options and attributes for widget type.
    #   typ - widget type
    #   opt - new default grid options
    #   atr - new default attributes
    # Returns a list of updated options and attributes of the widget type.

    lassign [dict get $::apave::_Defaults $typ] defopts defattrs
    set newval [list &quot;$defopts $opt&quot; &quot;$defattrs $atr&quot;]
    dict set ::apave::_Defaults $typ $newval
    return $newval
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::setTextBinds'>setTextBinds</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns bindings for a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT setTextBinds</span> <span class='ruff_arg'>wt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>wt</code></td><td class='ruff_defitem'>the text's path</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns bindings for a text widget.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_55' href="javascript:toggleSource('55')">Show source</a></p>
<div id='55' class='ruff_dyn_src'><pre>method setTextBinds {wt} {


    # Returns bindings for a text widget.
    #   wt - the text's path

    if {[bind $wt &lt;&lt;Paste&gt;&gt;] eq &quot;&quot;} {
      set res &quot;
      bind $wt &lt;&lt;Paste&gt;&gt; {+ [self] pasteText $wt}
      bind $wt &lt;KeyPress&gt; {+ [self] onKeyTextM $wt %K}&quot;
    }
    append res &quot;
      bind $wt &lt;Control-d&gt; {[self] doubleText $wt}
      bind $wt &lt;Control-D&gt; {[self] doubleText $wt}
      bind $wt &lt;Control-y&gt; {[self] deleteLine $wt}
      bind $wt &lt;Control-Y&gt; {[self] deleteLine $wt}
      bind $wt &lt;Alt-Up&gt; {[self] linesMove $wt -1}
      bind $wt &lt;Alt-Down&gt; {[self] linesMove $wt +1}
      bind $wt &lt;Control-a&gt; \&quot;$wt tag add sel 1.0 end; break\&quot;&quot;
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::showModal'>showModal</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a window as modal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT showModal</span> <span class='ruff_arg'>win ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>attributes of window (&quot;-name value&quot; pairs)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_56' href="javascript:toggleSource('56')">Show source</a></p>
<div id='56' class='ruff_dyn_src'><pre>method showModal {win args} {


    # Shows a window as modal.
    #   win - window's name
    #   args - attributes of window (&quot;-name value&quot; pairs)

    set shal [::apave::shadowAllowed 0]
    if {[::apave::getOption -themed {*}$args] in {&quot;&quot; &quot;0&quot;} &amp;&amp;  [my csCurrent] != [apave::cs_Non]} {
      my csSet [my csCurrent] $win -doit
    }
    ::apave::setAppIcon $win
    lassign  [my csGet] - - - bg
    $win configure -bg $bg  ;# removes blinking by default bg
    set _pav(modalwin) $win
    set root [winfo parent $win]
    if {[set centerme [::apave::getOption -centerme {*}$args]] ne {}} {
      ;# forced centering relative to a caller's window
      if {[winfo exist $centerme]} {set root $centerme}
    }
    if {[set ontop [::apave::getOption -ontop {*}$args]] eq {}} {
      set ontop no
    }
    if {[set modal [::apave::getOption -modal {*}$args]] eq {}} {
      set modal yes
    }
    set args [::apave::removeOptions $args -centerme -ontop -modal]
    array set opt [list -focus &quot;&quot; -onclose &quot;&quot; -geometry &quot;&quot; -decor 0  -root $root -resizable &quot;&quot; -variable &quot;&quot; {*}$args]
    lassign [split [wm geometry $root] x+] rw rh rx ry
    if {! $opt(-decor)} {
      wm transient $win $root
    }
    if {$opt(-onclose) eq &quot;&quot;} {
      set opt(-onclose) [list set ${_pav(ns)}PN::AR($win) 0]
    } else {
      set opt(-onclose) [list $opt(-onclose) ${_pav(ns)}PN::AR($win)]
    }
    if {$opt(-resizable) ne &quot;&quot;} {
       wm resizable $win {*}$opt(-resizable)
    }
    set opt(-onclose) &quot;::apave::obj EXPORT CleanUps $win; $opt(-onclose)&quot;
    wm protocol $win WM_DELETE_WINDOW $opt(-onclose)
    # get the window's geometry from its requested sizes
    set inpgeom $opt(-geometry)
    if {$inpgeom == &quot;&quot;} {
      # this is for less blinking:
      set opt(-geometry) [my CenteredXY $rw $rh $rx $ry  [winfo reqwidth $win] [winfo reqheight $win]]
    }
    if {[set pp [string first + $opt(-geometry)]]&gt;=0} {
      wm geometry $win [string range $opt(-geometry) $pp end]
    }
    if {$opt(-focus) == &quot;&quot;} {
      set opt(-focus) $win
    }
    set ${_pav(ns)}PN::AR($win) &quot;-&quot;
    bind $win &lt;Escape&gt; $opt(-onclose)
    update
    set w [winfo width $win]
    set h [winfo height $win]
    if {$inpgeom == &quot;&quot;} {  ;# final geometrizing with actual sizes
      if {($h/2-$ry-$rh/2)&gt;30 &amp;&amp; $root != &quot;.&quot;} {
        # ::tk::PlaceWindow needs correcting in rare cases, namely:
        # when 'root' is of less sizes than 'win' and at screen top
        wm geometry $win [my CenteredXY $rw $rh $rx $ry $w $h]
      } else {
        ::tk::PlaceWindow $win widget $root
      }
    } else {
      lassign [lrange [split $inpgeom +] end-1 end] x y
      if {$x ne &quot;&quot; &amp;&amp; $y ne &quot;&quot; &amp;&amp; [string first x $inpgeom]&lt;0} {
        set inpgeom [my CheckXY $w $h $x $y]
      }
      wm geometry $win $inpgeom
    }
    if {[set var $opt(-variable)] eq &quot;&quot;} {set var ${_pav(ns)}PN::AR($win)}
    after 50 [list if &quot;\[winfo exist $opt(-focus)\]&quot; &quot;focus -force $opt(-focus)&quot;]
    my showWindow $win $modal $ontop $var
    set res 0
    catch {
      my GetOutputValues
      set res [set [set _ ${_pav(ns)}PN::AR($win)]]
    }
    ::apave::shadowAllowed $shal ;# restore shadowing
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::showWindow'>showWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a windows and goes in tkwait cycle to interact with a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT showWindow</span> <span class='ruff_arg'>win modal ontop var</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>the window's path</td></tr>
<tr><td class='ruff_defitem'><code>modal</code></td><td class='ruff_defitem'>yes at showing the window as modal</td></tr>
<tr><td class='ruff_defitem'><code>ontop</code></td><td class='ruff_defitem'>yes at showing the window as topmost</td></tr>
<tr><td class='ruff_defitem'><code>var</code></td><td class='ruff_defitem'>variable's name to receive a result (tkwait's variable)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_57' href="javascript:toggleSource('57')">Show source</a></p>
<div id='57' class='ruff_dyn_src'><pre>method showWindow {win modal ontop var} {

    # Displays a windows and goes in tkwait cycle to interact with a user.
    #   win - the window's path
    #   modal - yes at showing the window as modal
    #   ontop - yes at showing the window as topmost
    #   var - variable's name to receive a result (tkwait's variable)

    ::apave::infoWindow [expr {[::apave::infoWindow] + 1}] $win $modal $var yes
    if {[::iswindows]} {
      if {[wm attributes $win -alpha] &lt; 0.1} {wm attributes $win -alpha 1.0}
    } else {
      catch {wm deiconify $win ; raise $win}
    }
    wm minsize $win [set w [winfo width $win]] [set h [winfo height $win]]
    bind $win &lt;Configure&gt; &quot;[namespace current]::WinResize $win&quot;
    if {$ontop} {wm attributes $win -topmost 1}
    if {$modal} {
      grab set $win
    } elseif {[set wgr [grab current]] ne &quot;&quot;} {
      grab release $wgr
    }
    if {![::iswindows]} {tkwait visibility $win}
    tkwait variable $var
    if {$modal} {grab release $win}
    ::apave::infoWindow [expr {[::apave::infoWindow] - 1}] $win $modal $var
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::textLink'>textLink</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a label's path of a link in a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT textLink</span> <span class='ruff_arg'>w idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code>idx</code></td><td class='ruff_defitem'>index of the link</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_58' href="javascript:toggleSource('58')">Show source</a></p>
<div id='58' class='ruff_dyn_src'><pre>method textLink {w idx} {


    # Gets a label's path of a link in a text widget.
    #   w - text's path
    #   idx - index of the link

    if {[info exists ::apave::__TEXTLINKS__($w)]} {
      return [lindex $::apave::__TEXTLINKS__($w) $idx]
    }
    return &quot;&quot;
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::themePopup'>themePopup</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Applies a color scheme to a popup menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themePopup</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>mnu</code></td><td class='ruff_defitem'>name of popup menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The method is to be redefined in descendants/mixins.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_59' href="javascript:toggleSource('59')">Show source</a></p>
<div id='59' class='ruff_dyn_src'><pre>method themePopup {mnu} {


    # Applies a color scheme to a popup menu.
    #   mnu - name of popup menu
    # The method is to be redefined in descendants/mixins.
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::timeoutButton'>timeoutButton</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Invokes a button's action after a timeout.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT timeoutButton</span> <span class='ruff_arg'>w tmo lbl ?lbltext?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>button's path</td></tr>
<tr><td class='ruff_defitem'><code>tmo</code></td><td class='ruff_defitem'>timeout in sec.</td></tr>
<tr><td class='ruff_defitem'><code>lbl</code></td><td class='ruff_defitem'>label widget, where seconds to wait are displayed</td></tr>
<tr><td class='ruff_defitem'><code>lbltext</code></td><td class='ruff_defitem'>original text of label Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_60' href="javascript:toggleSource('60')">Show source</a></p>
<div id='60' class='ruff_dyn_src'><pre>method timeoutButton {w tmo lbl {lbltext {}}} {


    # Invokes a button's action after a timeout.
    #   w - button's path
    #   tmo - timeout in sec.
    #   lbl - label widget, where seconds to wait are displayed
    #   lbltext - original text of label

    if {$tmo&gt;0} {
      catch {set lbl [my $lbl]}
      if {[winfo exist $lbl]} {
        if {$lbltext eq &quot;&quot;} {
          set lbltext [$lbl cget -text]
          lappend ::apave::_AP_VARS(TIMW) $w
        }
        $lbl configure -text &quot;$lbltext $tmo sec. &quot;
      }
      incr tmo -1
      after 1000 [list if &quot;\[info commands [self]\] ne {}&quot;  &quot;[self] checkTimeoutButton $w $tmo $lbl {$lbltext}&quot;]
      return
    }
    if {[winfo exist $w]} {$w invoke}
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::tk_optionCascade'>tk_optionCascade</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>A bit modified tk_optionCascade widget made by Richard Suchenwirth.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT tk_optionCascade</span> <span class='ruff_arg'>w vname items ?mbopts? ?precom? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>widget name</td></tr>
<tr><td class='ruff_defitem'><code>vname</code></td><td class='ruff_defitem'>variable name for current selection</td></tr>
<tr><td class='ruff_defitem'><code>items</code></td><td class='ruff_defitem'>list of items</td></tr>
<tr><td class='ruff_defitem'><code>mbopts</code></td><td class='ruff_defitem'>ttk::menubutton options (e.g. &quot;-width -4&quot;) Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>precom</code></td><td class='ruff_defitem'>command to get entry's options (%a presents its label) Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional options of entries</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a path to the widget.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APave::optionCascadeText" title="optionCascadeText" class='ruff_cmd'>optionCascadeText</a>, <a href="https://wiki.tcl-lang.org/page/tk_optionCascade" >wiki.tcl-lang.org</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_61' href="javascript:toggleSource('61')">Show source</a></p>
<div id='61' class='ruff_dyn_src'><pre>method tk_optionCascade {w vname items {mbopts {}} {precom {}} args} {


    # A bit modified tk_optionCascade widget made by Richard Suchenwirth.
    #   w      - widget name
    #   vname  - variable name for current selection
    #   items  - list of items
    #   mbopts - ttk::menubutton options (e.g. &quot;-width -4&quot;)
    #   precom - command to get entry's options (%a presents its label)
    #   args   - additional options of entries
    #
    # Returns a path to the widget.
    #
    # See also:
    #   optionCascadeText
    #   [wiki.tcl-lang.org](https://wiki.tcl-lang.org/page/tk_optionCascade)

    if {![info exists $vname]} {
      set it [lindex $items 0]
      while {[llength $it]&gt;1} {set it [lindex $it 0]}
      set it [my optionCascadeText $it]
      set $vname $it
    }
    ttk::menubutton $w -menu $w.m -text [set $vname] {*}$mbopts
    menu $w.m -tearoff 0
    my OptionCascade_add $w.m $vname $items $precom {*}$args
    trace var $vname w  &quot;$w config -text \&quot;\[[self] optionCascadeText \${$vname}\]\&quot; ;\#&quot;
    return $w.m
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::widgetType'>widgetType</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the widget type based on 3 initial letters of its name. Also fills the grid/pack options and attributes of the widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT widgetType</span> <span class='ruff_arg'>wnamefull options attrs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>wnamefull</code></td><td class='ruff_defitem'>path to the widget</td></tr>
<tr><td class='ruff_defitem'><code>options</code></td><td class='ruff_defitem'>grid/pack options of the widget</td></tr>
<tr><td class='ruff_defitem'><code>attrs</code></td><td class='ruff_defitem'>attribute of the widget</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>widgetType</em> method returns a list of items:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'>widget</td><td class='ruff_defitem'>Tk/Ttk widget name</td></tr>
<tr><td class='ruff_defitem'>options</td><td class='ruff_defitem'>grid/pack options of the widget</td></tr>
<tr><td class='ruff_defitem'>attrs</td><td class='ruff_defitem'>attribute of the widget</td></tr>
<tr><td class='ruff_defitem'>nam3</td><td class='ruff_defitem'>3 initial letters of widget's name</td></tr>
<tr><td class='ruff_defitem'>disabled</td><td class='ruff_defitem'>flag of <em>disabled</em> state</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_62' href="javascript:toggleSource('62')">Show source</a></p>
<div id='62' class='ruff_dyn_src'><pre>method widgetType {wnamefull options attrs} {


    # Gets the widget type based on 3 initial letters of its name. Also
    # fills the grid/pack options and attributes of the widget.
    #   wnamefull - path to the widget
    #   options - grid/pack options of the widget
    #   attrs - attribute of the widget
    #
    # The *widgetType* method returns a list of items:
    #   widget - Tk/Ttk widget name
    #   options - grid/pack options of the widget
    #   attrs - attribute of the widget
    #   nam3 - 3 initial letters of widget's name
    #   disabled - flag of *disabled* state

    set disabled [expr {[::apave::getOption -state {*}$attrs] eq &quot;disabled&quot;}]
    set pack $options
    set name [my ownWName $wnamefull]
    set nam3 [string tolower [string index $name 0]][string range $name 1 2]
    if {[string index $nam3 1] eq &quot;_&quot;} {set k [string range $nam3 0 1]} {set k $nam3}
    lassign [dict get $::apave::_Defaults $k] defopts defattrs
    set options &quot;[subst $defopts] $options&quot;
    set attrs &quot;[subst $defattrs] $attrs&quot;
    if {[dict exists $attrs -t]} {
      set t [dict get $attrs -t]
      set attrs [dict set attrs -t [::apave::mc $t]]
    }
    switch -glob -- $nam3 {
      &quot;bts&quot; {
        package require bartabs
        set attrs &quot;-bartabs {$attrs}&quot;
        set widget &quot;ttk::frame&quot;
      }
      &quot;but&quot; {
        set widget &quot;ttk::button&quot;
        my AddButtonIcon $name attrs
      }
      &quot;buT&quot; {
        set widget &quot;button&quot;
        my AddButtonIcon $name attrs
        }
      &quot;can&quot; {set widget &quot;canvas&quot;}
      &quot;chb&quot; {set widget &quot;ttk::checkbutton&quot;}
      &quot;chB&quot; {set widget &quot;checkbutton&quot;}
      &quot;cbx&quot; - &quot;fco&quot; {
        set widget &quot;ttk::combobox&quot;
        if {$nam3 eq &quot;fco&quot;} {  ;# file content combobox
          set attrs [my FCfieldValues $wnamefull $attrs]
        }
        set attrs [my FCfieldAttrs $wnamefull $attrs -tvar]
      }
      &quot;ent&quot; {set widget &quot;ttk::entry&quot;}
      &quot;enT&quot; {set widget &quot;entry&quot;}
      &quot;fil&quot; -
      &quot;fis&quot; -
      &quot;dir&quot; -
      &quot;fon&quot; -
      &quot;clr&quot; -
      &quot;dat&quot; -
      &quot;sta&quot; -
      &quot;too&quot; -
      &quot;fra&quot; {
        # + frame for choosers and bars
        set widget &quot;ttk::frame&quot;
      }
      &quot;ftx&quot; {set widget &quot;ttk::labelframe&quot;}
      &quot;frA&quot; {
        set widget &quot;frame&quot;
        if {$disabled} {set attrs [::apave::removeOptions $attrs -state]}
      }
      &quot;gut&quot; {set widget &quot;canvas&quot;}
      &quot;lab&quot; {
        set widget &quot;ttk::label&quot;
        if {[::apave::parseOptions $attrs -state normal] eq &quot;disabled&quot;} {
          set attrs &quot;-foreground grey $attrs&quot;
          set attrs [::apave::removeOptions $attrs -state]
        }
        if {[set cmd [::apave::getOption -link {*}$attrs]] ne &quot;&quot;} {
          set attrs &quot;-linkcom {$cmd} $attrs&quot;
          set attrs [::apave::removeOptions $attrs -link]
        }
      }
      &quot;laB&quot; {set widget &quot;label&quot;}
      &quot;lfr&quot; {set widget &quot;ttk::labelframe&quot;}
      &quot;lfR&quot; {
        set widget &quot;labelframe&quot;
        if {$disabled} {set attrs [::apave::removeOptions $attrs -state]}
      }
      &quot;lbx&quot; - &quot;flb&quot; {
        set widget &quot;listbox&quot;
        if {$nam3 eq &quot;flb&quot;} {  ;# file content listbox
          set attrs [my FCfieldValues $wnamefull $attrs]
        }
        set attrs &quot;[my FCfieldAttrs $wnamefull $attrs -lvar]&quot;
        set attrs &quot;[my ListboxesAttrs $wnamefull $attrs]&quot;
        my AddPopupAttr $wnamefull attrs -entrypop 1
      }
      &quot;meb&quot; {set widget &quot;ttk::menubutton&quot;}
      &quot;meB&quot; {set widget &quot;menubutton&quot;}
      &quot;nbk&quot; {
        set widget &quot;ttk::notebook&quot;
        set attrs &quot;-notebazook {$attrs}&quot;
      }
      &quot;opc&quot; {
        ;# tk_optionCascade - example of &quot;my method&quot; widget
        ;# arguments: vname items mbopts precom args
        set widget &quot;my tk_optionCascade&quot;
        set imax [expr {min(4,[llength $attrs])}]
        for {set i 0} {$i&lt;$imax} {incr i} {
          set atr [lindex $attrs $i]
          if {$i!=1} {
            lset attrs $i \{$atr\}
          } elseif {[llength $atr]==1 &amp;&amp; [info exist $atr]} {
            lset attrs $i [set $atr]  ;# items stored in a variable
          }
        }
      }
      &quot;pan&quot; {set widget &quot;ttk::panedwindow&quot;}
      &quot;pro&quot; {set widget &quot;ttk::progressbar&quot;}
      &quot;rad&quot; {set widget &quot;ttk::radiobutton&quot;}
      &quot;raD&quot; {set widget &quot;radiobutton&quot;}
      &quot;sca&quot; {set widget &quot;ttk::scale&quot;}
      &quot;scA&quot; {set widget &quot;scale&quot;}
      &quot;sbh&quot; {set widget &quot;ttk::scrollbar&quot;}
      &quot;sbH&quot; {set widget &quot;scrollbar&quot;}
      &quot;sbv&quot; {set widget &quot;ttk::scrollbar&quot;}
      &quot;sbV&quot; {set widget &quot;scrollbar&quot;}
      &quot;seh&quot; {set widget &quot;ttk::separator&quot;}
      &quot;sev&quot; {set widget &quot;ttk::separator&quot;}
      &quot;siz&quot; {set widget &quot;ttk::sizegrip&quot;}
      &quot;spx&quot; - &quot;spX&quot; {
         if {$nam3 eq &quot;spx&quot;} {set widget &quot;ttk::spinbox&quot;} {set widget &quot;spinbox&quot;}
         lassign [::apave::parseOptions $attrs -command &quot;&quot; -from &quot;&quot; -to &quot;&quot; ] cmd from to
         set attrs &quot;-onReturn {$::apave::UFF{$cmd} {$from} {$to}$::apave::UFF} $attrs&quot;
      }
      &quot;tbl&quot; { ;# tablelist
        package require tablelist
        set widget &quot;tablelist::tablelist&quot;
        set attrs &quot;[my FCfieldAttrs $wnamefull $attrs -lvar]&quot;
        set attrs &quot;[my ListboxesAttrs $wnamefull $attrs]&quot;
      }
      &quot;tex&quot; {set widget &quot;text&quot;
        if {[::apave::getOption -textpop {*}$attrs] eq &quot;&quot;} {
          my AddPopupAttr $wnamefull attrs -textpop  [expr {[::apave::getOption -rotext {*}$attrs] ne &quot;&quot;}] -- disabled
        }
        lassign [::apave::parseOptions $attrs -ro &quot;&quot; -readonly &quot;&quot; -rotext &quot;&quot;  -gutter &quot;&quot; -gutterwidth 5 -guttershift 6] r1 r2 r3 g1 g2 g3
        set b1 [expr [string is boolean -strict $r1]]
        set b2 [expr [string is boolean -strict $r2]]
        if {($b1 &amp;&amp; $r1) || ($b2 &amp;&amp; $r2) ||  ($r3 ne &quot;&quot; &amp;&amp; !($b1 &amp;&amp; !$r1) &amp;&amp; !($b2 &amp;&amp; !$r2))} {
          set attrs &quot;-takefocus 0 $attrs&quot;
        }
        set attrs [::apave::removeOptions $attrs -gutter -gutterwidth -guttershift]
        if {$g1 ne &quot;&quot;} {
          set attrs &quot;$attrs -gutter {-canvas $g1 -width $g2 -shift $g3}&quot;
        }
      }
      &quot;tre&quot; {set widget &quot;ttk::treeview&quot;}
      &quot;h_*&quot; {set widget &quot;ttk::frame&quot;}
      &quot;v_*&quot; {set widget &quot;ttk::frame&quot;}
      default {set widget &quot;&quot;}
    }
    if {$nam3 in {cbx ent enT fco spx spX}} {
      ;# entry-like widgets need their popup menu
      my AddPopupAttr $wnamefull attrs -entrypop 0 readonly disabled
    }
    if {[string first &quot;pack&quot; [string trimleft $pack]]==0} {
      set options $pack
    }
    set options [string trim $options]
    set attrs   [list {*}$attrs]
    return [list $widget $options $attrs $nam3 $disabled]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APave::window'>window</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Obsolete version of paveWindow (remains for compatibility).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT window</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APave::paveWindow" title="paveWindow" class='ruff_cmd'>paveWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_63' href="javascript:toggleSource('63')">Show source</a></p>
<div id='63' class='ruff_dyn_src'><pre>method window {args} {


    # Obsolete version of paveWindow (remains for compatibility).
    # See also: paveWindow

    return [uplevel 1 [list [self] paveWindow {*}$args]]
}</pre></div>
</div><h3 class='ruffclass'><a name='::apave::APaveDialog'>APaveDialog</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::abortretrycancel" title="abortretrycancel" class='ruff_cmd'>abortretrycancel</a></td><td class='ruff_defitem'>Shows the <em>ABORTRETRYCANCEL</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code>basicDefFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicDefFont" title="ObjectTheming.basicDefFont" class='ruff_cmd'>ObjectTheming.basicDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code>basicFontSize</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicFontSize" title="ObjectTheming.basicFontSize" class='ruff_cmd'>ObjectTheming.basicFontSize</a></td></tr>
<tr><td class='ruff_defitem'><code>basicTextFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicTextFont" title="ObjectTheming.basicTextFont" class='ruff_cmd'>ObjectTheming.basicTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code>boldTextFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldTextFont" title="ObjectTheming.boldTextFont" class='ruff_cmd'>ObjectTheming.boldTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code>checkTimeoutButton</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::checkTimeoutButton" title="APave.checkTimeoutButton" class='ruff_cmd'>APave.checkTimeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code>chooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::chooser" title="APave.chooser" class='ruff_cmd'>APave.chooser</a></td></tr>
<tr><td class='ruff_defitem'><code>colorChooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::colorChooser" title="APave.colorChooser" class='ruff_cmd'>APave.colorChooser</a></td></tr>
<tr><td class='ruff_defitem'><code>configure</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::configure" title="APave.configure" class='ruff_cmd'>APave.configure</a></td></tr>
<tr><td class='ruff_defitem'><code>csAdd</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csAdd" title="ObjectTheming.csAdd" class='ruff_cmd'>ObjectTheming.csAdd</a></td></tr>
<tr><td class='ruff_defitem'><code>csCurrent</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csCurrent" title="ObjectTheming.csCurrent" class='ruff_cmd'>ObjectTheming.csCurrent</a></td></tr>
<tr><td class='ruff_defitem'><code>csDarkEdit</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDarkEdit" title="ObjectTheming.csDarkEdit" class='ruff_cmd'>ObjectTheming.csDarkEdit</a></td></tr>
<tr><td class='ruff_defitem'><code>csDeleteExternal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="ObjectTheming.csDeleteExternal" class='ruff_cmd'>ObjectTheming.csDeleteExternal</a></td></tr>
<tr><td class='ruff_defitem'><code>csExport</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csExport" title="ObjectTheming.csExport" class='ruff_cmd'>ObjectTheming.csExport</a></td></tr>
<tr><td class='ruff_defitem'><code>csFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFont" title="ObjectTheming.csFont" class='ruff_cmd'>ObjectTheming.csFont</a></td></tr>
<tr><td class='ruff_defitem'><code>csFontDef</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontDef" title="ObjectTheming.csFontDef" class='ruff_cmd'>ObjectTheming.csFontDef</a></td></tr>
<tr><td class='ruff_defitem'><code>csFontMono</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontMono" title="ObjectTheming.csFontMono" class='ruff_cmd'>ObjectTheming.csFontMono</a></td></tr>
<tr><td class='ruff_defitem'><code>csGet</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGet" title="ObjectTheming.csGet" class='ruff_cmd'>ObjectTheming.csGet</a></td></tr>
<tr><td class='ruff_defitem'><code>csGetName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGetName" title="ObjectTheming.csGetName" class='ruff_cmd'>ObjectTheming.csGetName</a></td></tr>
<tr><td class='ruff_defitem'><code>csMainColors</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMainColors" title="ObjectTheming.csMainColors" class='ruff_cmd'>ObjectTheming.csMainColors</a></td></tr>
<tr><td class='ruff_defitem'><code>csMapTheme</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMapTheme" title="ObjectTheming.csMapTheme" class='ruff_cmd'>ObjectTheming.csMapTheme</a></td></tr>
<tr><td class='ruff_defitem'><code>csSet</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csSet" title="ObjectTheming.csSet" class='ruff_cmd'>ObjectTheming.csSet</a></td></tr>
<tr><td class='ruff_defitem'><code>csToned</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csToned" title="ObjectTheming.csToned" class='ruff_cmd'>ObjectTheming.csToned</a></td></tr>
<tr><td class='ruff_defitem'><code>dateChooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::dateChooser" title="APave.dateChooser" class='ruff_cmd'>APave.dateChooser</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::deleteLine" title="deleteLine" class='ruff_cmd'>deleteLine</a></td><td class='ruff_defitem'>Deletes a current line of text widget.</td></tr>
<tr><td class='ruff_defitem'><code>displayTaggedText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::displayTaggedText" title="APave.displayTaggedText" class='ruff_cmd'>APave.displayTaggedText</a></td></tr>
<tr><td class='ruff_defitem'><code>displayText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::displayText" title="APave.displayText" class='ruff_cmd'>APave.displayText</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::doubleText" title="doubleText" class='ruff_cmd'>doubleText</a></td><td class='ruff_defitem'>Doubles a current line or a selection of text widget.</td></tr>
<tr><td class='ruff_defitem'><code>fillGutter</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::fillGutter" title="APave.fillGutter" class='ruff_cmd'>APave.fillGutter</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::findInText" title="findInText" class='ruff_cmd'>findInText</a></td><td class='ruff_defitem'>Finds a string in text widget.</td></tr>
<tr><td class='ruff_defitem'><code>focusNext</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::focusNext" title="APave.focusNext" class='ruff_cmd'>APave.focusNext</a></td></tr>
<tr><td class='ruff_defitem'><code>fontChooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::fontChooser" title="APave.fontChooser" class='ruff_cmd'>APave.fontChooser</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::get_highlighted" title="get_highlighted" class='ruff_cmd'>get_highlighted</a></td><td class='ruff_defitem'>Gets a selected word after double-clicking on a text.</td></tr>
<tr><td class='ruff_defitem'><code>getProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::getProperty" title="ObjectProperty.getProperty" class='ruff_cmd'>ObjectProperty.getProperty</a></td></tr>
<tr><td class='ruff_defitem'><code>getTextContent</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::getTextContent" title="APave.getTextContent" class='ruff_cmd'>APave.getTextContent</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::highlight_matches" title="highlight_matches" class='ruff_cmd'>highlight_matches</a></td><td class='ruff_defitem'>Highlights matches of selected word in a text.</td></tr>
<tr><td class='ruff_defitem'><code>iconA</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::iconA" title="APave.iconA" class='ruff_cmd'>APave.iconA</a></td></tr>
<tr><td class='ruff_defitem'><code>initLinkFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::initLinkFont" title="APave.initLinkFont" class='ruff_cmd'>APave.initLinkFont</a></td></tr>
<tr><td class='ruff_defitem'><code>initTooltip</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::initTooltip" title="ObjectTheming.initTooltip" class='ruff_cmd'>ObjectTheming.initTooltip</a></td></tr>
<tr><td class='ruff_defitem'><code>labelFlashing</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::labelFlashing" title="APave.labelFlashing" class='ruff_cmd'>APave.labelFlashing</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::linesMove" title="linesMove" class='ruff_cmd'>linesMove</a></td><td class='ruff_defitem'>Moves a current line or lines of selection up/down.</td></tr>
<tr><td class='ruff_defitem'><code>makeLabelLinked</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::makeLabelLinked" title="APave.makeLabelLinked" class='ruff_cmd'>APave.makeLabelLinked</a></td></tr>
<tr><td class='ruff_defitem'><code>makePopup</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::makePopup" title="APave.makePopup" class='ruff_cmd'>APave.makePopup</a></td></tr>
<tr><td class='ruff_defitem'><code>makeWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::makeWindow" title="APave.makeWindow" class='ruff_cmd'>APave.makeWindow</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::misc" title="misc" class='ruff_cmd'>misc</a></td><td class='ruff_defitem'>Shows the <em>MISCELLANEOUS</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::ok" title="ok" class='ruff_cmd'>ok</a></td><td class='ruff_defitem'>Shows the <em>OK</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::okcancel" title="okcancel" class='ruff_cmd'>okcancel</a></td><td class='ruff_defitem'>Shows the <em>OKCANCEL</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code>onKeyTextM</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::onKeyTextM" title="APave.onKeyTextM" class='ruff_cmd'>APave.onKeyTextM</a></td></tr>
<tr><td class='ruff_defitem'><code>optionCascadeText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::optionCascadeText" title="APave.optionCascadeText" class='ruff_cmd'>APave.optionCascadeText</a></td></tr>
<tr><td class='ruff_defitem'><code>ownWName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::ownWName" title="APave.ownWName" class='ruff_cmd'>APave.ownWName</a></td></tr>
<tr><td class='ruff_defitem'><code>parentWName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::parentWName" title="APave.parentWName" class='ruff_cmd'>APave.parentWName</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::pasteText" title="pasteText" class='ruff_cmd'>pasteText</a></td><td class='ruff_defitem'>Removes a selection at pasting.</td></tr>
<tr><td class='ruff_defitem'><code>paveWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::paveWindow" title="APave.paveWindow" class='ruff_cmd'>APave.paveWindow</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::popupBlockCommands" title="popupBlockCommands" class='ruff_cmd'>popupBlockCommands</a></td><td class='ruff_defitem'>Returns block commands for a popup menu on a text.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::popupFindCommands" title="popupFindCommands" class='ruff_cmd'>popupFindCommands</a></td><td class='ruff_defitem'>Returns find commands for a popup menu on a text.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::popupHighlightCommands" title="popupHighlightCommands" class='ruff_cmd'>popupHighlightCommands</a></td><td class='ruff_defitem'>Returns highlighting commands for a popup menu on a text.</td></tr>
<tr><td class='ruff_defitem'><code>readonlyWidget</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::readonlyWidget" title="APave.readonlyWidget" class='ruff_cmd'>APave.readonlyWidget</a></td></tr>
<tr><td class='ruff_defitem'><code>res</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::res" title="APave.res" class='ruff_cmd'>APave.res</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::retrycancel" title="retrycancel" class='ruff_cmd'>retrycancel</a></td><td class='ruff_defitem'>Shows the <em>RETRYCANCEL</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::seek_highlight" title="seek_highlight" class='ruff_cmd'>seek_highlight</a></td><td class='ruff_defitem'>Seeks the selected word forward/backward/to first/to last in a text.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::selectedWordText" title="selectedWordText" class='ruff_cmd'>selectedWordText</a></td><td class='ruff_defitem'>Returns a word under the cursor or a selected text.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::set_highlight_matches" title="set_highlight_matches" class='ruff_cmd'>set_highlight_matches</a></td><td class='ruff_defitem'>Creates bindings to highlight matches in a text.</td></tr>
<tr><td class='ruff_defitem'><code>setDefaultAttrs</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::setDefaultAttrs" title="APave.setDefaultAttrs" class='ruff_cmd'>APave.setDefaultAttrs</a></td></tr>
<tr><td class='ruff_defitem'><code>setProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::setProperty" title="ObjectProperty.setProperty" class='ruff_cmd'>ObjectProperty.setProperty</a></td></tr>
<tr><td class='ruff_defitem'><code>setTextBinds</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::setTextBinds" title="APave.setTextBinds" class='ruff_cmd'>APave.setTextBinds</a></td></tr>
<tr><td class='ruff_defitem'><code>showModal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::showModal" title="APave.showModal" class='ruff_cmd'>APave.showModal</a></td></tr>
<tr><td class='ruff_defitem'><code>showWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::showWindow" title="APave.showWindow" class='ruff_cmd'>APave.showWindow</a></td></tr>
<tr><td class='ruff_defitem'><code>textLink</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::textLink" title="APave.textLink" class='ruff_cmd'>APave.textLink</a></td></tr>
<tr><td class='ruff_defitem'><code>themeExternal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeExternal" title="ObjectTheming.themeExternal" class='ruff_cmd'>ObjectTheming.themeExternal</a></td></tr>
<tr><td class='ruff_defitem'><code>themeNonThemed</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="ObjectTheming.themeNonThemed" class='ruff_cmd'>ObjectTheming.themeNonThemed</a></td></tr>
<tr><td class='ruff_defitem'><code>themePopup</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themePopup" title="ObjectTheming.themePopup" class='ruff_cmd'>ObjectTheming.themePopup</a></td></tr>
<tr><td class='ruff_defitem'><code>themeWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeWindow" title="ObjectTheming.themeWindow" class='ruff_cmd'>ObjectTheming.themeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code>timeoutButton</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::timeoutButton" title="APave.timeoutButton" class='ruff_cmd'>APave.timeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code>tk_optionCascade</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::tk_optionCascade" title="APave.tk_optionCascade" class='ruff_cmd'>APave.tk_optionCascade</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::unhighlight_matches" title="unhighlight_matches" class='ruff_cmd'>unhighlight_matches</a></td><td class='ruff_defitem'>Unhighlights matches of selected word in a text.</td></tr>
<tr><td class='ruff_defitem'><code>untouchWidgets</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="ObjectTheming.untouchWidgets" class='ruff_cmd'>ObjectTheming.untouchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code>widgetType</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::widgetType" title="APave.widgetType" class='ruff_cmd'>APave.widgetType</a></td></tr>
<tr><td class='ruff_defitem'><code>window</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::window" title="APave.window" class='ruff_cmd'>APave.window</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::yesno" title="yesno" class='ruff_cmd'>yesno</a></td><td class='ruff_defitem'>Shows the <em>YESNO</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveDialog::yesnocancel" title="yesnocancel" class='ruff_cmd'>yesnocancel</a></td><td class='ruff_defitem'>Shows the <em>YESNOCANCEL</em> dialog.</td></tr>
</table>
<h5 class='ruff'>Superclasses</h5><p class='ruff'><a href="apave.html#::apave::APave" title="APave" class='ruff_cmd'>APave</a></p>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveInput" title="APaveInput" class='ruff_cmd'>APaveInput</a></p>
<h4 class='ruffmethod'><a name='::apave::APaveDialog::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates APaveDialog object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>APaveDialog create</span> <span class='ruff_arg'>?win? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window's name (path) Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_64' href="javascript:toggleSource('64')">Show source</a></p>
<div id='64' class='ruff_dyn_src'><pre>method constructor {{win {}} args} {


    # Creates APaveDialog object.
    #   win - window's name (path)
    #   args - additional arguments

    # keep the 'important' data of APaveDialog object in array
    array set _pdg {}
    # dialogs are bound to &quot;$win&quot; window e.g. &quot;.mywin.fra&quot;, default &quot;&quot; means .
    set _pdg(win) $win
    set _pdg(ns) [namespace current]::
    # namespace in object namespace for safety of its 'most important' data
    namespace eval ${_pdg(ns)}PD {}

    # Actions on closing the editor
    proc exitEditor {resExit} {
      upvar $resExit res
      if {[[my TexM] edit modified]} {
        set w [set [namespace current]::_pdg(dlg)]
        set pdlg [::apave::APaveDialog new $w]
        set r [$pdlg misc warn &quot;Save text?&quot;  &quot;\n Save changes made to the text? \n&quot;  {Save 1 &quot;Don't save &quot; Close Cancel 0}  1 -focusback [my TexM] -centerme $w]
        if {$r==1} {
          set res 1
        } elseif {$r eq &quot;Close&quot;} {
          set res 0
        }
        $pdlg destroy
      } else {
        set res 0
      }
      return
    }
    # end of APaveDialog constructor
    if {[llength [self next]]} { next {*}$args }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears variables used in the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_65' href="javascript:toggleSource('65')">Show source</a></p>
<div id='65' class='ruff_dyn_src'><pre>method destructor {} {


    # Clears variables used in the object.

    catch {namespace delete ${_pdg(ns)}PD}
    array unset _pdg
    if {[llength [self next]]} next
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::abortretrycancel'>abortretrycancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>ABORTRETRYCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT abortretrycancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>defb</code></td><td class='ruff_defitem'>button to be selected Optional, default <code>RETRY</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_66' href="javascript:toggleSource('66')">Show source</a></p>
<div id='66' class='ruff_dyn_src'><pre>method abortretrycancel {icon ttl msg {defb RETRY} args} {


    # Shows the *ABORTRETRYCANCEL* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   defb - button to be selected
    #   args - options

    return [my Query $icon $ttl $msg  {ButABORT Abort 1 ButRETRY Retry 2 ButCANCEL  Cancel 0} But$defb {} [my PrepArgs $args]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::deleteLine'>deleteLine</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a current line of text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT deleteLine</span> <span class='ruff_arg'>txt ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code>dobreak</code></td><td class='ruff_defitem'>if true, means &quot;return -code break&quot; Optional, default <code>1</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>dobreak=true</em> allows to break the Tk processing of keypresses such as Ctrl+Y.</p>
<p class='ruff'>If not set, the text widget is identified as <code>my TexM</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_67' href="javascript:toggleSource('67')">Show source</a></p>
<div id='67' class='ruff_dyn_src'><pre>method deleteLine {txt {dobreak 1}} {


    # Deletes a current line of text widget.
    #   txt - text's path
    #   dobreak - if true, means &quot;return -code break&quot;
    #
    # The *dobreak=true* allows to break the Tk processing of keypresses
    # such as Ctrl+Y.
    #
    # If not set, the text widget is identified as `my TexM`.

    if {$txt eq &quot;&quot;} {set txt [my TexM]}
    lassign [my GetLinePosition $txt insert] linestart lineend
    $txt delete $linestart $lineend
    if {$dobreak} {return -code break}
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::doubleText'>doubleText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Doubles a current line or a selection of text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT doubleText</span> <span class='ruff_arg'>txt ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code>dobreak</code></td><td class='ruff_defitem'>if true, means &quot;return -code break&quot; Optional, default <code>1</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>dobreak=true</em> allows to break the Tk processing of keypresses such as Ctrl+D.</p>
<p class='ruff'>If not set, the text widget is identified as <code>my TexM</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_68' href="javascript:toggleSource('68')">Show source</a></p>
<div id='68' class='ruff_dyn_src'><pre>method doubleText {txt {dobreak 1}} {


    # Doubles a current line or a selection of text widget.
    #   txt - text's path
    #   dobreak - if true, means &quot;return -code break&quot;
    #
    # The *dobreak=true* allows to break the Tk processing of keypresses
    # such as Ctrl+D.
    #
    # If not set, the text widget is identified as `my TexM`.

    if {$txt eq &quot;&quot;} {set txt [my TexM]}
    set err [catch {$txt tag ranges sel} sel]
    if {!$err &amp;&amp; [llength $sel]==2} {
      lassign $sel pos pos2
      set pos3 &quot;insert&quot;  ;# single selection
    } else {
      lassign [my GetLinePosition $txt insert] pos pos2  ;# current line
      set pos3 $pos2
    }
    set duptext [$txt get $pos $pos2]
    $txt insert $pos3 $duptext
    if {$dobreak} {return -code break}
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::findInText'>findInText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds a string in text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT findInText</span> <span class='ruff_arg'>?donext? ?txt? ?varFind?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>donext</code></td><td class='ruff_defitem'>&quot;1&quot; means 'from a current position' Optional, default <code>0</code>.</td></tr>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>path to the text widget Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>varFind</code></td><td class='ruff_defitem'>variable Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_69' href="javascript:toggleSource('69')">Show source</a></p>
<div id='69' class='ruff_dyn_src'><pre>method findInText {{donext 0} {txt {}} {varFind {}}} {


    # Finds a string in text widget.
    #   donext - &quot;1&quot; means 'from a current position'
    #   txt - path to the text widget
    #   varFind - variable

    if {$txt eq &quot;&quot;} {
      set txt [my TexM]
      set sel [set ${_pdg(ns)}PD::fnd]
    } elseif {$varFind eq &quot;&quot;} {
      set sel [set ${_pdg(ns)}PD::fnd]
    } else {
      set sel [set $varFind]
    }
    if {$donext} {
      set pos [$txt index &quot;[$txt index insert] + 1 chars&quot;]
      set pos [$txt search -- $sel $pos end]
    } else {
      set pos &quot;&quot;
    }
    if {![string length &quot;$pos&quot;]} {
      set pos [$txt search -- $sel 1.0 end]
    }
    if {[string length &quot;$pos&quot;]} {
      ::tk::TextSetCursor $txt $pos
      $txt tag add sel $pos [$txt index &quot;$pos + [string length $sel] chars&quot;]
      focus $txt
    } else {
      bell -nice
    }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::get_highlighted'>get_highlighted</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a selected word after double-clicking on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT get_highlighted</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_70' href="javascript:toggleSource('70')">Show source</a></p>
<div id='70' class='ruff_dyn_src'><pre>method get_highlighted {txt} {

    # Gets a selected word after double-clicking on a text.
    #   w - path to the text

    set err [catch {$txt tag ranges sel} sel]
    lassign $sel pos pos2
    if {!$err &amp;&amp; [llength $sel]==2} {
      set sel [$txt get $pos $pos2]  ;# single selection
    } else {
      if {$err || [string trim $sel] eq &quot;&quot;} {
        set pos  [$txt index &quot;insert wordstart&quot;]
        set pos2 [$txt index &quot;insert wordend&quot;]
        set sel [string trim [$txt get $pos $pos2]]
        if {![string is wordchar -strict $sel]} {
          # when cursor just at the right of word: take the word at the left
          # e.g. if &quot;_&quot; stands for cursor then &quot;word_&quot; means selecting &quot;word&quot;
          set pos  [$txt index &quot;insert -1 char wordstart&quot;]
          set pos2 [$txt index &quot;insert -1 char wordend&quot;]
          set sel [$txt get $pos $pos2]
        }
      }
    }
    if {[string length $sel] == 0} {set pos &quot;&quot;}
    return [list $sel $pos $pos2]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::highlight_matches'>highlight_matches</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights matches of selected word in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT highlight_matches</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_71' href="javascript:toggleSource('71')">Show source</a></p>
<div id='71' class='ruff_dyn_src'><pre>method highlight_matches {txt} {

    # Highlights matches of selected word in a text.
    #   w - path to the text

    lassign [my get_highlighted $txt] sel pos
    if {$pos eq &quot;&quot;} return
    set lenList {}
    set posList [$txt search -all -count lenList -- &quot;$sel&quot; 1.0 end]
    foreach pos2 $posList len $lenList {
      if {$len eq &quot;&quot;} {set len [string length $sel]}
      set pos3 [$txt index &quot;$pos2 + $len chars&quot;]
      if {$pos2 == $pos} {
        lappend matches2 $pos2 $pos3
      } else {
        lappend matches1 $pos2 $pos3
      }
    }
    catch {
      $txt tag remove hilited 1.0 end
      $txt tag remove hilited2 1.0 end
      $txt tag add hilited {*}$matches1
      $txt tag add hilited2 {*}$matches2
    }
    set ::apave::_AP_VARS(HILI) yes
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::linesMove'>linesMove</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a current line or lines of selection up/down.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT linesMove</span> <span class='ruff_arg'>txt to ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code>to</code></td><td class='ruff_defitem'>direction (-1 means &quot;up&quot;, +1 means &quot;down&quot;)</td></tr>
<tr><td class='ruff_defitem'><code>dobreak</code></td><td class='ruff_defitem'>if true, means &quot;return -code break&quot; Optional, default <code>1</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>dobreak=true</em> allows to break the Tk processing of keypresses such as Ctrl+Y.</p>
<p class='ruff'>If not set, the text widget is identified as <code>my TexM</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_72' href="javascript:toggleSource('72')">Show source</a></p>
<div id='72' class='ruff_dyn_src'><pre>method linesMove {txt to {dobreak 1}} {


    # Moves a current line or lines of selection up/down.
    #   txt - text's path
    #   to - direction (-1 means &quot;up&quot;, +1 means &quot;down&quot;)
    #   dobreak - if true, means &quot;return -code break&quot;
    #
    # The *dobreak=true* allows to break the Tk processing of keypresses
    # such as Ctrl+Y.
    #
    # If not set, the text widget is identified as `my TexM`.

    proc NewRow {ind rn} {
      set i [string first . $ind]
      set row [string range $ind 0 $i-1]
      return [incr row $rn][string range $ind $i end]
    }
    if {$txt eq &quot;&quot;} {set txt [my TexM]}
    set err [catch {$txt tag ranges sel} sel]
    lassign [$txt index insert] pos  ;# position of caret
    if {[set issel [expr {!$err &amp;&amp; [llength $sel]==2}]]} {
      lassign $sel pos1 pos2         ;# selection's start &amp; end
      set l1 [expr {int($pos1)}]
      set l2 [expr {int($pos2)}]
      set lfrom [expr {$to&gt;0 ? $l2+1 : $l1-1}]
      set lto   [expr {$to&gt;0 ? $l1-1 : $l2-1}]
    } else {
      set lcurr [expr {int($pos)}]
      set lfrom [expr {$to&gt;0 ? $lcurr+1 : $lcurr-1}]
      set lto   [expr {$to&gt;0 ? $lcurr-1 : $lcurr-1}]
    }
    set lend [expr {int([$txt index end])}]
    if {$lfrom&gt;0 &amp;&amp; $lfrom&lt;$lend} {
      incr lto
      lassign [my GetLinePosition $txt $lfrom.0] linestart lineend
      set duptext [$txt get $linestart $lineend]
      $txt delete $linestart $lineend
      $txt insert $lto.0 $duptext
      ::tk::TextSetCursor $txt [NewRow $pos $to]
      if {$issel} {
        $txt tag add sel [NewRow $pos1 $to] [NewRow $pos2 $to]
      }
      if {[lsearch [$txt tag names] tagCOM*]&gt;-1} {
        set i1 [expr {min($lto,$lfrom,$linestart,$lineend)-1}]
        set i2 [expr {min($lto,$lfrom,$linestart,$lineend)+1}]
        ::hl_tcl::my::Modified $txt $i1 $i2
      }
      if {$dobreak} {return -code break}
    }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::misc'>misc</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>MISCELLANEOUS</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT misc</span> <span class='ruff_arg'>icon ttl msg butts ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>butts</code></td><td class='ruff_defitem'>list of buttons</td></tr>
<tr><td class='ruff_defitem'><code>defb</code></td><td class='ruff_defitem'>button to be selected Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>butts</em> is a list of pairs &quot;title of button&quot; &quot;number/ID of button&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_73' href="javascript:toggleSource('73')">Show source</a></p>
<div id='73' class='ruff_dyn_src'><pre>method misc {icon ttl msg butts {defb {}} args} {


    # Shows the *MISCELLANEOUS* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   butts - list of buttons
    #   defb - button to be selected
    #   args - options
    #
    # The *butts* is a list of pairs &quot;title of button&quot; &quot;number/ID of button&quot;

    foreach {nam num} $butts {
      lappend apave_msc_bttns But$num &quot;$nam&quot; $num
      if {$defb eq &quot;&quot;} {
        set defb $num
      }
    }
    return [my Query $icon $ttl $msg $apave_msc_bttns But$defb {} [my PrepArgs $args]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::ok'>ok</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>OK</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ok</span> <span class='ruff_arg'>icon ttl msg ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_74' href="javascript:toggleSource('74')">Show source</a></p>
<div id='74' class='ruff_dyn_src'><pre>method ok {icon ttl msg args} {


    # Shows the *OK* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   args - options

    return [my Query $icon $ttl $msg {ButOK OK 1} ButOK {} [my PrepArgs $args]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::okcancel'>okcancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>OKCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT okcancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>defb</code></td><td class='ruff_defitem'>button to be selected Optional, default <code>OK</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_75' href="javascript:toggleSource('75')">Show source</a></p>
<div id='75' class='ruff_dyn_src'><pre>method okcancel {icon ttl msg {defb OK} args} {


    # Shows the *OKCANCEL* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   defb - button to be selected
    #   args - options

    return [my Query $icon $ttl $msg  {ButOK OK 1 ButCANCEL Cancel 0} But$defb {} [my PrepArgs $args]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::pasteText'>pasteText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes a selection at pasting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT pasteText</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The absence of this feature is very perpendicular of Tk's paste.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_76' href="javascript:toggleSource('76')">Show source</a></p>
<div id='76' class='ruff_dyn_src'><pre>method pasteText {txt} {


    # Removes a selection at pasting.
    #   txt - text's path
    #
    # The absence of this feature is very perpendicular of Tk's paste.

    set err [catch {$txt tag ranges sel} sel]
    if {!$err &amp;&amp; [llength $sel]==2} {
      lassign $sel pos pos2
      $txt delete $pos $pos2
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::popupBlockCommands'>popupBlockCommands</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns block commands for a popup menu on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT popupBlockCommands</span> <span class='ruff_arg'>pop ?txt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>pop</code></td><td class='ruff_defitem'>path to the menu</td></tr>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>path to the text Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns block commands for a popup menu on a text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_77' href="javascript:toggleSource('77')">Show source</a></p>
<div id='77' class='ruff_dyn_src'><pre>method popupBlockCommands {pop {txt {}}} {


    # Returns block commands for a popup menu on a text.
    #   pop - path to the menu
    #   txt - path to the text

    return &quot;\$pop add separator
      \$pop add command [my iconA add] -accelerator Ctrl+D -label \&quot;Double Selection\&quot; \\
        -command \&quot;[self] doubleText {$txt} 0\&quot;
      \$pop add command [my iconA delete] -accelerator Ctrl+Y -label \&quot;Delete Line\&quot; \\
        -command \&quot;[self] deleteLine {$txt} 0\&quot;
      \$pop add command [my iconA up] -accelerator Alt+Up -label \&quot;Line(s) Up\&quot; \\
        -command \&quot;[self] linesMove {$txt} -1 0\&quot;
      \$pop add command [my iconA down] -accelerator Alt+Down -label \&quot;Line(s) Down\&quot; \\
       -command \&quot;[self] linesMove {$txt} +1 0\&quot;&quot;
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::popupFindCommands'>popupFindCommands</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns find commands for a popup menu on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT popupFindCommands</span> <span class='ruff_arg'>pop ?txt? ?com1? ?com2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>pop</code></td><td class='ruff_defitem'>path to the menu</td></tr>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>path to the text Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>com1</code></td><td class='ruff_defitem'>user's command &quot;find first&quot; Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>com2</code></td><td class='ruff_defitem'>user's command &quot;find next&quot; Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns find commands for a popup menu on a text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_78' href="javascript:toggleSource('78')">Show source</a></p>
<div id='78' class='ruff_dyn_src'><pre>method popupFindCommands {pop {txt {}} {com1 {}} {com2 {}}} {


    # Returns find commands for a popup menu on a text.
    #   pop - path to the menu
    #   txt - path to the text
    #   com1 - user's command &quot;find first&quot;
    #   com2 - user's command &quot;find next&quot;

    if {$com1 eq &quot;&quot;} {set com1 &quot;[self] InitFindInText 0 $txt; focus \[[self] Entfind\]&quot;}
    if {$com2 eq &quot;&quot;} {set com2 &quot;[self] findInText 1 $txt&quot;}
    return &quot;\$pop add separator
      \$pop add command [my iconA find] -accelerator Ctrl+F -label \&quot;Find First\&quot; \\
        -command {$com1}
      \$pop add command [my iconA none] -accelerator F3 -label \&quot;Find Next\&quot; \\
        -command {$com2}&quot;
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::popupHighlightCommands'>popupHighlightCommands</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns highlighting commands for a popup menu on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT popupHighlightCommands</span> <span class='ruff_arg'>?pop? ?txt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>pop</code></td><td class='ruff_defitem'>path to the menu Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>path to the text Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns highlighting commands for a popup menu on a text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_79' href="javascript:toggleSource('79')">Show source</a></p>
<div id='79' class='ruff_dyn_src'><pre>method popupHighlightCommands {{pop {}} {txt {}}} {


    # Returns highlighting commands for a popup menu on a text.
    #   pop - path to the menu
    #   txt - path to the text

    set res &quot;\$pop add separator
      \$pop add command [my iconA upload] -accelerator Alt+Q \\
      -label \&quot;Highlight First\&quot; -command \&quot;::apave::obj seek_highlight %w 2\&quot;
      \$pop add command [my iconA download] -accelerator Alt+W \\
      -label \&quot;Highlight Last\&quot; -command \&quot;::apave::obj seek_highlight %w 3\&quot;
      \$pop add command [my iconA previous] -accelerator Alt+Left \\
      -label \&quot;Highlight Previous\&quot; -command \&quot;::apave::obj seek_highlight %w 0\&quot;
      \$pop add command [my iconA next] -accelerator Alt+Right \\
      -label \&quot;Highlight Next\&quot; -command \&quot;::apave::obj seek_highlight %w 1\&quot;
      \$pop add command [my iconA none] -accelerator Dbl.Click \\
      -label \&quot;Highlight All\&quot; -command \&quot;::apave::obj highlight_matches %w\&quot;&quot;
    if {$txt ne &quot;&quot;} {set res [string map [list %w $txt] $res]}
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::retrycancel'>retrycancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>RETRYCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT retrycancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>defb</code></td><td class='ruff_defitem'>button to be selected Optional, default <code>RETRY</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_80' href="javascript:toggleSource('80')">Show source</a></p>
<div id='80' class='ruff_dyn_src'><pre>method retrycancel {icon ttl msg {defb RETRY} args} {


    # Shows the *RETRYCANCEL* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   defb - button to be selected
    #   args - options

    return [my Query $icon $ttl $msg  {ButRETRY Retry 1 ButCANCEL Cancel 0} But$defb {} [my PrepArgs $args]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::seek_highlight'>seek_highlight</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Seeks the selected word forward/backward/to first/to last in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT seek_highlight</span> <span class='ruff_arg'>txt mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>mode</code></td><td class='ruff_defitem'>0 (search backward), 1 (forward), 2 (first), 3 (last)</td></tr>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_81' href="javascript:toggleSource('81')">Show source</a></p>
<div id='81' class='ruff_dyn_src'><pre>method seek_highlight {txt mode} {

    # Seeks the selected word forward/backward/to first/to last in a text.
    #   w - path to the text
    #   mode - 0 (search backward), 1 (forward), 2 (first), 3 (last)

    my unhighlight_matches $txt
    lassign [my get_highlighted $txt] sel pos pos2
    if {!$pos} return
    switch $mode {
      0 { # backward
        set nc [expr {[string length $sel] - 1}]
        set pos [$txt index &quot;$pos - $nc chars&quot;]
        set pos [$txt search -backwards -- $sel $pos 1.0]
      }
      1 { # forward
        set pos [$txt search -- $sel $pos2 end]
      }
      2 { # to first
        set pos [$txt search -- $sel 1.0 end]
      }
      3 { # to last
        set pos [$txt search -backwards -- $sel end 1.0]
      }
    }
    if {[string length &quot;$pos&quot;]} {
      ::tk::TextSetCursor $txt $pos
      $txt tag add sel $pos [$txt index &quot;$pos + [string length $sel] chars&quot;]
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::selectedWordText'>selectedWordText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a word under the cursor or a selected text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT selectedWordText</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>the text's path</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a word under the cursor or a selected text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_82' href="javascript:toggleSource('82')">Show source</a></p>
<div id='82' class='ruff_dyn_src'><pre>method selectedWordText {txt} {


    # Returns a word under the cursor or a selected text.
    #   txt - the text's path

    set seltxt &quot;&quot;
    if {![catch {$txt tag ranges sel} seltxt]} {
      if {[set forword [expr {$seltxt eq &quot;&quot;}]]} {
        set pos  [$txt index &quot;insert wordstart&quot;]
        set pos2 [$txt index &quot;insert wordend&quot;]
        set seltxt [string trim [$txt get $pos $pos2]]
        if {![string is wordchar -strict $seltxt]} {
          # when cursor just at the right of word: take the word at the left
          set pos  [$txt index &quot;insert -1 char wordstart&quot;]
          set pos2 [$txt index &quot;insert -1 char wordend&quot;]
        }
      } else {
        lassign $seltxt pos pos2
      }
      catch {
        set seltxt [$txt get $pos $pos2]
        if {[set sttrim [string trim $seltxt]] ne &quot;&quot;} {
          if {$forword} {set seltxt $sttrim}
        }
      }
    }
    return $seltxt
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::set_highlight_matches'>set_highlight_matches</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates bindings to highlight matches in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT set_highlight_matches</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_83' href="javascript:toggleSource('83')">Show source</a></p>
<div id='83' class='ruff_dyn_src'><pre>method set_highlight_matches {w} {

    # Creates bindings to highlight matches in a text.
    #   w - path to the text

    $w tag configure hilited -foreground #1f0000 -background #ffa073
    $w tag configure hilited2 -foreground #1f0000 -background #ff6b85
    bind $w &lt;Double-ButtonPress-1&gt; [list [self] highlight_matches $w]
    bind $w &lt;KeyRelease&gt; [list + [self] unhighlight_matches $w]
    bind $w &lt;Alt-Left&gt; &quot;[self] seek_highlight $w 0 ; break&quot;
    bind $w &lt;Alt-Right&gt; &quot;[self] seek_highlight $w 1 ; break&quot;
    foreach {kq kw} {q w Q W} {
      bind $w &lt;Alt-$kq&gt; [list [self] seek_highlight $w 2]
      bind $w &lt;Alt-$kw&gt; [list [self] seek_highlight $w 3]
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::unhighlight_matches'>unhighlight_matches</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unhighlights matches of selected word in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT unhighlight_matches</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>txt</code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code>w</code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_84' href="javascript:toggleSource('84')">Show source</a></p>
<div id='84' class='ruff_dyn_src'><pre>method unhighlight_matches {txt} {

    # Unhighlights matches of selected word in a text.
    #   w - path to the text

    if {$::apave::_AP_VARS(HILI)} {
      $txt tag remove hilited 1.0 end
      $txt tag remove hilited2 1.0 end
      set ::apave::_AP_VARS(HILI) no
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::yesno'>yesno</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>YESNO</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT yesno</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>defb</code></td><td class='ruff_defitem'>button to be selected Optional, default <code>YES</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_85' href="javascript:toggleSource('85')">Show source</a></p>
<div id='85' class='ruff_dyn_src'><pre>method yesno {icon ttl msg {defb YES} args} {


    # Shows the *YESNO* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   defb - button to be selected
    #   args - options

    return [my Query $icon $ttl $msg  {ButYES Yes 1 ButNO No 0} But$defb {} [my PrepArgs $args]]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveDialog::yesnocancel'>yesnocancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>YESNOCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT yesnocancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code>msg</code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code>defb</code></td><td class='ruff_defitem'>button to be selected Optional, default <code>YES</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_86' href="javascript:toggleSource('86')">Show source</a></p>
<div id='86' class='ruff_dyn_src'><pre>method yesnocancel {icon ttl msg {defb YES} args} {


    # Shows the *YESNOCANCEL* dialog.
    #   icon - icon
    #   ttl - title
    #   msg - message
    #   defb - button to be selected
    #   args - options

    return [my Query $icon $ttl $msg  {ButYES Yes 1 ButNO No 2 ButCANCEL Cancel 0} But$defb {} [my PrepArgs $args]]
}</pre></div>
</div><h3 class='ruffclass'><a name='::apave::APaveInput'>APaveInput</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code>abortretrycancel</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::abortretrycancel" title="APaveDialog.abortretrycancel" class='ruff_cmd'>APaveDialog.abortretrycancel</a></td></tr>
<tr><td class='ruff_defitem'><code>basicDefFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicDefFont" title="ObjectTheming.basicDefFont" class='ruff_cmd'>ObjectTheming.basicDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code>basicFontSize</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicFontSize" title="ObjectTheming.basicFontSize" class='ruff_cmd'>ObjectTheming.basicFontSize</a></td></tr>
<tr><td class='ruff_defitem'><code>basicTextFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicTextFont" title="ObjectTheming.basicTextFont" class='ruff_cmd'>ObjectTheming.basicTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code>boldTextFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldTextFont" title="ObjectTheming.boldTextFont" class='ruff_cmd'>ObjectTheming.boldTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code>checkTimeoutButton</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::checkTimeoutButton" title="APave.checkTimeoutButton" class='ruff_cmd'>APave.checkTimeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code>chooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::chooser" title="APave.chooser" class='ruff_cmd'>APave.chooser</a></td></tr>
<tr><td class='ruff_defitem'><code>colorChooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::colorChooser" title="APave.colorChooser" class='ruff_cmd'>APave.colorChooser</a></td></tr>
<tr><td class='ruff_defitem'><code>configure</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::configure" title="APave.configure" class='ruff_cmd'>APave.configure</a></td></tr>
<tr><td class='ruff_defitem'><code>csAdd</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csAdd" title="ObjectTheming.csAdd" class='ruff_cmd'>ObjectTheming.csAdd</a></td></tr>
<tr><td class='ruff_defitem'><code>csCurrent</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csCurrent" title="ObjectTheming.csCurrent" class='ruff_cmd'>ObjectTheming.csCurrent</a></td></tr>
<tr><td class='ruff_defitem'><code>csDarkEdit</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDarkEdit" title="ObjectTheming.csDarkEdit" class='ruff_cmd'>ObjectTheming.csDarkEdit</a></td></tr>
<tr><td class='ruff_defitem'><code>csDeleteExternal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="ObjectTheming.csDeleteExternal" class='ruff_cmd'>ObjectTheming.csDeleteExternal</a></td></tr>
<tr><td class='ruff_defitem'><code>csExport</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csExport" title="ObjectTheming.csExport" class='ruff_cmd'>ObjectTheming.csExport</a></td></tr>
<tr><td class='ruff_defitem'><code>csFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFont" title="ObjectTheming.csFont" class='ruff_cmd'>ObjectTheming.csFont</a></td></tr>
<tr><td class='ruff_defitem'><code>csFontDef</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontDef" title="ObjectTheming.csFontDef" class='ruff_cmd'>ObjectTheming.csFontDef</a></td></tr>
<tr><td class='ruff_defitem'><code>csFontMono</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontMono" title="ObjectTheming.csFontMono" class='ruff_cmd'>ObjectTheming.csFontMono</a></td></tr>
<tr><td class='ruff_defitem'><code>csGet</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGet" title="ObjectTheming.csGet" class='ruff_cmd'>ObjectTheming.csGet</a></td></tr>
<tr><td class='ruff_defitem'><code>csGetName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGetName" title="ObjectTheming.csGetName" class='ruff_cmd'>ObjectTheming.csGetName</a></td></tr>
<tr><td class='ruff_defitem'><code>csMainColors</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMainColors" title="ObjectTheming.csMainColors" class='ruff_cmd'>ObjectTheming.csMainColors</a></td></tr>
<tr><td class='ruff_defitem'><code>csMapTheme</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMapTheme" title="ObjectTheming.csMapTheme" class='ruff_cmd'>ObjectTheming.csMapTheme</a></td></tr>
<tr><td class='ruff_defitem'><code>csSet</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csSet" title="ObjectTheming.csSet" class='ruff_cmd'>ObjectTheming.csSet</a></td></tr>
<tr><td class='ruff_defitem'><code>csToned</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csToned" title="ObjectTheming.csToned" class='ruff_cmd'>ObjectTheming.csToned</a></td></tr>
<tr><td class='ruff_defitem'><code>dateChooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::dateChooser" title="APave.dateChooser" class='ruff_cmd'>APave.dateChooser</a></td></tr>
<tr><td class='ruff_defitem'><code>deleteLine</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::deleteLine" title="APaveDialog.deleteLine" class='ruff_cmd'>APaveDialog.deleteLine</a></td></tr>
<tr><td class='ruff_defitem'><code>displayTaggedText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::displayTaggedText" title="APave.displayTaggedText" class='ruff_cmd'>APave.displayTaggedText</a></td></tr>
<tr><td class='ruff_defitem'><code>displayText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::displayText" title="APave.displayText" class='ruff_cmd'>APave.displayText</a></td></tr>
<tr><td class='ruff_defitem'><code>doubleText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::doubleText" title="APaveDialog.doubleText" class='ruff_cmd'>APaveDialog.doubleText</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::editfile" title="editfile" class='ruff_cmd'>editfile</a></td><td class='ruff_defitem'>Edits or views a file with a set of main colors</td></tr>
<tr><td class='ruff_defitem'><code>fillGutter</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::fillGutter" title="APave.fillGutter" class='ruff_cmd'>APave.fillGutter</a></td></tr>
<tr><td class='ruff_defitem'><code>findInText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::findInText" title="APaveDialog.findInText" class='ruff_cmd'>APaveDialog.findInText</a></td></tr>
<tr><td class='ruff_defitem'><code>focusNext</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::focusNext" title="APave.focusNext" class='ruff_cmd'>APave.focusNext</a></td></tr>
<tr><td class='ruff_defitem'><code>fontChooser</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::fontChooser" title="APave.fontChooser" class='ruff_cmd'>APave.fontChooser</a></td></tr>
<tr><td class='ruff_defitem'><code>get_highlighted</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::get_highlighted" title="APaveDialog.get_highlighted" class='ruff_cmd'>APaveDialog.get_highlighted</a></td></tr>
<tr><td class='ruff_defitem'><code>getProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::getProperty" title="ObjectProperty.getProperty" class='ruff_cmd'>ObjectProperty.getProperty</a></td></tr>
<tr><td class='ruff_defitem'><code>getTextContent</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::getTextContent" title="APave.getTextContent" class='ruff_cmd'>APave.getTextContent</a></td></tr>
<tr><td class='ruff_defitem'><code>highlight_matches</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::highlight_matches" title="APaveDialog.highlight_matches" class='ruff_cmd'>APaveDialog.highlight_matches</a></td></tr>
<tr><td class='ruff_defitem'><code>iconA</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::iconA" title="APave.iconA" class='ruff_cmd'>APave.iconA</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::initInput" title="initInput" class='ruff_cmd'>initInput</a></td><td class='ruff_defitem'>Initializes input and clears variables made in previous session.</td></tr>
<tr><td class='ruff_defitem'><code>initLinkFont</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::initLinkFont" title="APave.initLinkFont" class='ruff_cmd'>APave.initLinkFont</a></td></tr>
<tr><td class='ruff_defitem'><code>initTooltip</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::initTooltip" title="ObjectTheming.initTooltip" class='ruff_cmd'>ObjectTheming.initTooltip</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::input" title="input" class='ruff_cmd'>input</a></td><td class='ruff_defitem'>Makes and runs an input dialog.</td></tr>
<tr><td class='ruff_defitem'><code>labelFlashing</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::labelFlashing" title="APave.labelFlashing" class='ruff_cmd'>APave.labelFlashing</a></td></tr>
<tr><td class='ruff_defitem'><code>linesMove</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::linesMove" title="APaveDialog.linesMove" class='ruff_cmd'>APaveDialog.linesMove</a></td></tr>
<tr><td class='ruff_defitem'><code>makeLabelLinked</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::makeLabelLinked" title="APave.makeLabelLinked" class='ruff_cmd'>APave.makeLabelLinked</a></td></tr>
<tr><td class='ruff_defitem'><code>makePopup</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::makePopup" title="APave.makePopup" class='ruff_cmd'>APave.makePopup</a></td></tr>
<tr><td class='ruff_defitem'><code>makeWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::makeWindow" title="APave.makeWindow" class='ruff_cmd'>APave.makeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code>misc</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::misc" title="APaveDialog.misc" class='ruff_cmd'>APaveDialog.misc</a></td></tr>
<tr><td class='ruff_defitem'><code>ok</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::ok" title="APaveDialog.ok" class='ruff_cmd'>APaveDialog.ok</a></td></tr>
<tr><td class='ruff_defitem'><code>okcancel</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::okcancel" title="APaveDialog.okcancel" class='ruff_cmd'>APaveDialog.okcancel</a></td></tr>
<tr><td class='ruff_defitem'><code>onKeyTextM</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::onKeyTextM" title="APave.onKeyTextM" class='ruff_cmd'>APave.onKeyTextM</a></td></tr>
<tr><td class='ruff_defitem'><code>optionCascadeText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::optionCascadeText" title="APave.optionCascadeText" class='ruff_cmd'>APave.optionCascadeText</a></td></tr>
<tr><td class='ruff_defitem'><code>ownWName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::ownWName" title="APave.ownWName" class='ruff_cmd'>APave.ownWName</a></td></tr>
<tr><td class='ruff_defitem'><code>parentWName</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::parentWName" title="APave.parentWName" class='ruff_cmd'>APave.parentWName</a></td></tr>
<tr><td class='ruff_defitem'><code>pasteText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::pasteText" title="APaveDialog.pasteText" class='ruff_cmd'>APaveDialog.pasteText</a></td></tr>
<tr><td class='ruff_defitem'><code>paveWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::paveWindow" title="APave.paveWindow" class='ruff_cmd'>APave.paveWindow</a></td></tr>
<tr><td class='ruff_defitem'><code>popupBlockCommands</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::popupBlockCommands" title="APaveDialog.popupBlockCommands" class='ruff_cmd'>APaveDialog.popupBlockCommands</a></td></tr>
<tr><td class='ruff_defitem'><code>popupFindCommands</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::popupFindCommands" title="APaveDialog.popupFindCommands" class='ruff_cmd'>APaveDialog.popupFindCommands</a></td></tr>
<tr><td class='ruff_defitem'><code>popupHighlightCommands</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::popupHighlightCommands" title="APaveDialog.popupHighlightCommands" class='ruff_cmd'>APaveDialog.popupHighlightCommands</a></td></tr>
<tr><td class='ruff_defitem'><code>readonlyWidget</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::readonlyWidget" title="APave.readonlyWidget" class='ruff_cmd'>APave.readonlyWidget</a></td></tr>
<tr><td class='ruff_defitem'><code>res</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::res" title="APave.res" class='ruff_cmd'>APave.res</a></td></tr>
<tr><td class='ruff_defitem'><code>retrycancel</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::retrycancel" title="APaveDialog.retrycancel" class='ruff_cmd'>APaveDialog.retrycancel</a></td></tr>
<tr><td class='ruff_defitem'><code>seek_highlight</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::seek_highlight" title="APaveDialog.seek_highlight" class='ruff_cmd'>APaveDialog.seek_highlight</a></td></tr>
<tr><td class='ruff_defitem'><code>selectedWordText</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::selectedWordText" title="APaveDialog.selectedWordText" class='ruff_cmd'>APaveDialog.selectedWordText</a></td></tr>
<tr><td class='ruff_defitem'><code>set_highlight_matches</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::set_highlight_matches" title="APaveDialog.set_highlight_matches" class='ruff_cmd'>APaveDialog.set_highlight_matches</a></td></tr>
<tr><td class='ruff_defitem'><code>setDefaultAttrs</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::setDefaultAttrs" title="APave.setDefaultAttrs" class='ruff_cmd'>APave.setDefaultAttrs</a></td></tr>
<tr><td class='ruff_defitem'><code>setProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::setProperty" title="ObjectProperty.setProperty" class='ruff_cmd'>ObjectProperty.setProperty</a></td></tr>
<tr><td class='ruff_defitem'><code>setTextBinds</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::setTextBinds" title="APave.setTextBinds" class='ruff_cmd'>APave.setTextBinds</a></td></tr>
<tr><td class='ruff_defitem'><code>showModal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::showModal" title="APave.showModal" class='ruff_cmd'>APave.showModal</a></td></tr>
<tr><td class='ruff_defitem'><code>showWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::showWindow" title="APave.showWindow" class='ruff_cmd'>APave.showWindow</a></td></tr>
<tr><td class='ruff_defitem'><code>textLink</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::textLink" title="APave.textLink" class='ruff_cmd'>APave.textLink</a></td></tr>
<tr><td class='ruff_defitem'><code>themeExternal</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeExternal" title="ObjectTheming.themeExternal" class='ruff_cmd'>ObjectTheming.themeExternal</a></td></tr>
<tr><td class='ruff_defitem'><code>themeNonThemed</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="ObjectTheming.themeNonThemed" class='ruff_cmd'>ObjectTheming.themeNonThemed</a></td></tr>
<tr><td class='ruff_defitem'><code>themePopup</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themePopup" title="ObjectTheming.themePopup" class='ruff_cmd'>ObjectTheming.themePopup</a></td></tr>
<tr><td class='ruff_defitem'><code>themeWindow</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeWindow" title="ObjectTheming.themeWindow" class='ruff_cmd'>ObjectTheming.themeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code>timeoutButton</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::timeoutButton" title="APave.timeoutButton" class='ruff_cmd'>APave.timeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code>tk_optionCascade</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::tk_optionCascade" title="APave.tk_optionCascade" class='ruff_cmd'>APave.tk_optionCascade</a></td></tr>
<tr><td class='ruff_defitem'><code>unhighlight_matches</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::unhighlight_matches" title="APaveDialog.unhighlight_matches" class='ruff_cmd'>APaveDialog.unhighlight_matches</a></td></tr>
<tr><td class='ruff_defitem'><code>untouchWidgets</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="ObjectTheming.untouchWidgets" class='ruff_cmd'>ObjectTheming.untouchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::valueInput" title="valueInput" class='ruff_cmd'>valueInput</a></td><td class='ruff_defitem'>Gets input variables' values.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::varInput" title="varInput" class='ruff_cmd'>varInput</a></td><td class='ruff_defitem'>Gets variables made and filled in a previous session as a list of &quot;varname varvalue&quot; pairs where varname is of form: namespace::var<code>$widgetname</code>.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::APaveInput::vieweditFile" title="vieweditFile" class='ruff_cmd'>vieweditFile</a></td><td class='ruff_defitem'>Views or edits a file.</td></tr>
<tr><td class='ruff_defitem'><code>widgetType</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::widgetType" title="APave.widgetType" class='ruff_cmd'>APave.widgetType</a></td></tr>
<tr><td class='ruff_defitem'><code>window</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APave::window" title="APave.window" class='ruff_cmd'>APave.window</a></td></tr>
<tr><td class='ruff_defitem'><code>yesno</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::yesno" title="APaveDialog.yesno" class='ruff_cmd'>APaveDialog.yesno</a></td></tr>
<tr><td class='ruff_defitem'><code>yesnocancel</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::yesnocancel" title="APaveDialog.yesnocancel" class='ruff_cmd'>APaveDialog.yesnocancel</a></td></tr>
</table>
<h5 class='ruff'>Superclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveDialog" title="APaveDialog" class='ruff_cmd'>APaveDialog</a></p>
<h4 class='ruffmethod'><a name='::apave::APaveInput::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates APaveInput object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>APaveInput create</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional arguments</td></tr>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window's name (path)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_87' href="javascript:toggleSource('87')">Show source</a></p>
<div id='87' class='ruff_dyn_src'><pre>method constructor {args} {


    # Creates APaveInput object.
    #   win - window's name (path)
    #   args - additional arguments

    set _savedvv [list]
    if {[llength [self next]]} { next {*}$args }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears variables used in the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_88' href="javascript:toggleSource('88')">Show source</a></p>
<div id='88' class='ruff_dyn_src'><pre>method destructor {} {


    # Clears variables used in the object.

    my initInput
    unset _savedvv
    if {[llength [self next]]} next
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::editfile'>editfile</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Edits or views a file with a set of main colors</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT editfile</span> <span class='ruff_arg'>fname fg bg cc ?prepost? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fname</code></td><td class='ruff_defitem'>name of file</td></tr>
<tr><td class='ruff_defitem'><code>fg</code></td><td class='ruff_defitem'>foreground color of text widget</td></tr>
<tr><td class='ruff_defitem'><code>bg</code></td><td class='ruff_defitem'>background color of text widget</td></tr>
<tr><td class='ruff_defitem'><code>cc</code></td><td class='ruff_defitem'>caret's color of text widget</td></tr>
<tr><td class='ruff_defitem'><code>prepost</code></td><td class='ruff_defitem'>a command performing before and after creating a dialog Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional options (<code>-readonly 1</code> for viewing the file).</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>fg</em> isn't empty, all three colors are used to color a text.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="https://aplsimple.github.io/en/tcl/pave/index.html" >aplsimple.github.io</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_89' href="javascript:toggleSource('89')">Show source</a></p>
<div id='89' class='ruff_dyn_src'><pre>method editfile {fname fg bg cc {prepost {}} args} {


    # Edits or views a file with a set of main colors
    #   fname - name of file
    #   fg - foreground color of text widget
    #   bg - background color of text widget
    #   cc - caret's color of text widget
    #   prepost - a command performing before and after creating a dialog
    #   args - additional options (`-readonly 1` for viewing the file).
    #
    # If *fg* isn't empty, all three colors are used to color a text.
    #
    # See also:
    # [aplsimple.github.io](https://aplsimple.github.io/en/tcl/pave/index.html)

    if {$fname eq &quot;&quot;} {
      return false
    }
    set newfile 0
    set filetxt &quot;&quot;
    if {[catch {set ch [open $fname]}]} {
      if {[catch {close [open $fname w]} err]} {
        puts &quot;ERROR: couldn't create '$fname':\n$err&quot;
        return false
      }
      set newfile 1
    } else {
      chan configure $ch -encoding utf-8
      set filetxt [read $ch]
      close $ch
    }
    lassign [::apave::parseOptions $args -rotext &quot;&quot; -readonly 1 -ro 1]  rotext readonly ro
    set btns &quot;Exit 0&quot;  ;# by default 'view' mode
    set oper VIEW
    if {$rotext eq &quot;&quot; || !$readonly || !$ro} {
      set btns &quot;Save 1 Cancel 0&quot;
      set oper EDIT
    }
    if {$fg eq &quot;&quot;} {
      set tclr &quot;&quot;
    } else {
      set tclr &quot;-fg $fg -bg $bg -cc $cc&quot;
    }
    if {$prepost eq &quot;&quot;} {set aa &quot;&quot;} {set aa [$prepost filetxt]}
    set res [my misc &quot;&quot; &quot;$oper FILE: $fname&quot; &quot;$filetxt&quot; $btns  TEXT -text 1 -w {100 80} -h 32 {*}$tclr  -post $prepost {*}$aa {*}$args]
    set data [string range $res 2 end]
    if {[set res [string index $res 0]] eq &quot;1&quot;} {
      set data [string range $data [string first &quot; &quot; $data]+1 end]
      set data [string trimright $data]
      set ch [open $fname w]
      chan configure $ch -encoding utf-8
      foreach line [split $data \n] {
        puts $ch [string trimright $line] ;# end spaces conflict with co= arg
      }
      close $ch
    } elseif {$newfile} {
      file delete $fname
    }
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::initInput'>initInput</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes input and clears variables made in previous session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT initInput</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_90' href="javascript:toggleSource('90')">Show source</a></p>
<div id='90' class='ruff_dyn_src'><pre>method initInput {} {


    # Initializes input and clears variables made in previous session.

    foreach {vn vv} $_savedvv {
      catch {unset $vn}
    }
    set _savedvv [list]
    set _pav(widgetopts) [list]
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::input'>input</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes and runs an input dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT input</span> <span class='ruff_arg'>icon ttl iopts ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>icon</code></td><td class='ruff_defitem'>icon (omitted if equals to &quot;&quot;)</td></tr>
<tr><td class='ruff_defitem'><code>ttl</code></td><td class='ruff_defitem'>title of window</td></tr>
<tr><td class='ruff_defitem'><code>iopts</code></td><td class='ruff_defitem'>list of widgets and their attributes</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of dialog's attributes</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <code>iopts</code> contains lists of three items:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'>name</td><td class='ruff_defitem'>name of widgets</td></tr>
<tr><td class='ruff_defitem'>prompt</td><td class='ruff_defitem'>prompt for entering data</td></tr>
<tr><td class='ruff_defitem'>valopts</td><td class='ruff_defitem'>value options</td></tr>
</table>
<p class='ruff'>The <code>valopts</code> is a list specific for a widget's type, however a first item of <code>valopts</code> is always an initial input value.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_91' href="javascript:toggleSource('91')">Show source</a></p>
<div id='91' class='ruff_dyn_src'><pre>method input {icon ttl iopts args} {


    # Makes and runs an input dialog.
    #  icon - icon (omitted if equals to &quot;&quot;)
    #  ttl - title of window
    #  iopts - list of widgets and their attributes
    #  args - list of dialog's attributes
    #
    # The `iopts` contains lists of three items:
    #   name - name of widgets
    #   prompt - prompt for entering data
    #   valopts - value options
    #
    # The `valopts` is a list specific for a widget's type, however
    # a first item of `valopts` is always an initial input value.

    if {$iopts ne {}} {
      my initInput  ;# clear away all internal vars
    }
    set pady &quot;-pady 2&quot;
    if {[set focusopt [::apave::getOption -focus {*}$args]] ne &quot;&quot;} {
      set focusopt &quot;-focus $focusopt&quot;
    }
    lappend inopts [list fraM + T 1 98 &quot;-st nsew $pady -rw 1&quot;]
    set savedvv [list]
    set frameprev &quot;&quot;
    foreach {name prompt valopts} $iopts {
      if {$name eq &quot;&quot;} continue
      lassign $prompt prompt gopts attrs
      set gopts &quot;$pady $gopts&quot;
      set typ [string tolower [string range $name 0 1]]
      if {$typ eq &quot;v_&quot; || $typ eq &quot;se&quot;} {
        lappend inopts [list fraM.$name - - - - &quot;pack -fill x $gopts&quot;]
        continue
      }
      set toprev [::apave::getOption -toprev {*}$attrs]
      set attrs [::apave::removeOptions $attrs -toprev]
      set tvar &quot;-tvar&quot;
      switch -- $typ {
        ch { set tvar &quot;-var&quot; }
        sp { set gopts &quot;$gopts -expand 0 -side left&quot;}
      }
      set framename fraM.fra$name
      if {$typ in {lb te tb}} {  ;# the widgets sized vertically
        lappend inopts [list $framename - - - - &quot;pack -expand 1 -fill both&quot;]
      } else {
        lappend inopts [list $framename - - - - &quot;pack -fill x&quot;]
      }
      set vv [my VarName $name]
      set ff [my FieldName $name]
      if {$typ ne &quot;la&quot; &amp;&amp; $toprev eq &quot;&quot;} {
        set takfoc [::apave::parseOptions $attrs -takefocus 1]
        if {$focusopt eq &quot;&quot; &amp;&amp; $takfoc} {
          if {$typ in {fi di cl fo da}} {
            set _ en*$name  ;# 'entry-like mega-widgets'
          } elseif {$typ eq &quot;ft&quot;} {
            set _ te*$name  ;# ftx - 'text-like mega-widget'
          } else {
            set _ $name
          }
          set focusopt &quot;-focus $_&quot;
        }
        if {$typ in {lb tb te}} {set anc nw} {set anc w}
        lappend inopts [list fraM.fra$name.labB$name - - - -  &quot;pack -side left -anchor $anc -padx 3&quot;  &quot;-t \&quot;$prompt\&quot; -font  \&quot;-family {[my basicTextFont]} -size [my basicFontSize]\&quot;&quot;]
      }
      # for most widgets:
      #   1st item of 'valopts' list is the current value
      #   2nd and the rest of 'valopts' are a list of values
      if {$typ ni {fc te la}} {
        # curr.value can be set with a variable, so 'subst' is applied
        set vsel [lindex $valopts 0]
        catch {set vsel [subst -nocommands -noback $vsel]}
        set vlist [lrange $valopts 1 end]
      }
      if {[set msgLab [::apave::getOption -msgLab {*}$attrs]] ne &quot;&quot;} {
        set attrs [::apave::removeOptions $attrs -msgLab]
      }
      # define a current widget's info
      switch -- $typ {
        lb - tb {
          set $vv $vlist
          lappend attrs -lvar $vv
          if {$vsel ni {&quot;&quot; &quot;-&quot;}} {
            lappend attrs -lbxsel &quot;$::apave::UFF$vsel$::apave::UFF&quot;
          }
          lappend inopts [list $ff - - - -  &quot;pack -side left -expand 1 -fill both $gopts&quot; $attrs]
          lappend inopts [list fraM.fra$name.sbv$name $ff L - - &quot;pack -fill y&quot;]
        }
        cb {
          if {![info exist $vv]} {catch {set $vv &quot;&quot;}}
          lappend attrs -tvar $vv -values $vlist
          if {$vsel ni {&quot;&quot; &quot;-&quot;}} {
            lappend attrs -cbxsel &quot;$::apave::UFF$vsel$::apave::UFF&quot;
          }
          lappend inopts [list $ff - - - - &quot;pack -side left -expand 1 -fill x $gopts&quot; $attrs]
        }
        fc {
          if {![info exist $vv]} {catch {set $vv &quot;&quot;}}
          lappend inopts [list $ff - - - - &quot;pack -side left -expand 1 -fill x $gopts&quot; &quot;-tvar $vv -values \{$valopts\} $attrs&quot;]
        }
        op {
          set $vv $vsel
          lappend inopts [list $ff - - - - &quot;pack -fill x $gopts&quot; &quot;$vv $vlist&quot;]
        }
        ra {
          if {![info exist $vv]} {catch {set $vv $vsel}}
          set padx 0
          foreach vo $vlist {
            set name $name
            lappend inopts [list $ff[incr nnn] - - - - &quot;pack -side left $gopts -padx $padx&quot; &quot;-var $vv -value \&quot;$vo\&quot; -t \&quot;$vo\&quot; $attrs&quot;]
            set padx [expr {$padx ? 0 : 9}]
          }
        }
        te {
          if {![info exist $vv]} {set $vv [string map {\\n \n \\t \t} $valopts]}
          if {[dict exist $attrs -state] &amp;&amp; [dict get $attrs -state] eq &quot;disabled&quot;}  {
            # disabled text widget cannot be filled with a text, so we should
            # compensate this through a home-made attribute (-disabledtext)
            set disattr &quot;-disabledtext \{[set $vv]\}&quot;
          } elseif {[dict exist $attrs -readonly] &amp;&amp; [dict get $attrs -readonly] || [dict exist $attrs -ro] &amp;&amp; [dict get $attrs -ro]} {
            set disattr &quot;-rotext \{[set $vv]\}&quot;
            set attrs [::apave::removeOptions $attrs -readonly -ro]
          } else {
            set disattr &quot;&quot;
          }
          lappend inopts [list $ff - - - - &quot;pack -side left -expand 1 -fill both $gopts&quot; &quot;$attrs $disattr&quot;]
          lappend inopts [list fraM.fra$name.sbv$name $ff L - - &quot;pack -fill y&quot;]
        }
        la {
          if {$prompt ne &quot;&quot;} { set prompt &quot;-t \&quot;$prompt\&quot; &quot; } ;# prompt as -text
          lappend inopts [list $ff - - - - &quot;pack -anchor w $gopts&quot; &quot;$prompt$attrs&quot;]
          continue
        }
        bu - ch {
          set prompt &quot;&quot;
          if {$toprev eq &quot;&quot;} {
            lappend inopts [list $ff - - - -  &quot;pack -side left -expand 1 -fill both $gopts&quot; &quot;$tvar $vv $attrs&quot;]
          } else {
            lappend inopts [list $frameprev.$name - - - -  &quot;pack -side left $gopts&quot; &quot;$tvar $vv $attrs&quot;]
          }
          if {$vv ne &quot;&quot;} {
            if {![info exist $vv]} {
              catch {
                if {$vsel eq &quot;&quot;} {set vsel 0}
                set $vv $vsel
              }
            }
          }
        }
        default {
          lappend inopts [list $ff - - - -  &quot;pack -side left -expand 1 -fill x $gopts&quot; &quot;$tvar $vv $attrs&quot;]
          if {$vv ne &quot;&quot;} {
            if {![info exist $vv]} {catch {set $vv $vsel}}
          }
        }
      }
      if {$msgLab ne &quot;&quot;} {
        lassign $msgLab lab msg
        set lab [my parentWName [lindex $inopts end 0]].$lab
        if {$msg ne &quot;&quot;} {set msg &quot;-t {$msg}&quot;}
        lappend inopts [list $lab - - - - &quot;pack -side left -expand 1 -fill x&quot; $msg]
      }
      if {![info exist $vv]} {set $vv &quot;&quot;}
      lappend _savedvv $vv [set $vv]
      set frameprev $framename
    }
    lassign [::apave::parseOptions $args -titleOK OK -titleCANCEL Cancel  -centerme &quot;&quot;] titleOK titleCANCEL centerme
    if {$titleCANCEL eq &quot;&quot;} {
      set butCancel &quot;&quot;
    } else {
      set butCancel &quot;butCANCEL $titleCANCEL 0&quot;
    }
    if {$centerme eq &quot;&quot;} {
      set centerme &quot;-centerme 1&quot;
    } else {
      set centerme &quot;-centerme $centerme&quot;
    }
    set args [::apave::removeOptions $args -titleOK -titleCANCEL -centerme]
    lappend args {*}$focusopt
    if {[catch {  set res [my Query $icon $ttl {} &quot;butOK $titleOK 1 $butCancel&quot; butOK  $inopts [my PrepArgs $args] &quot;&quot; {*}$centerme]} e]} {
      catch {destroy $_pdg(dlg)}  ;# Query's window
      ::apave::obj ok err &quot;ERROR&quot; &quot;\n$e\n&quot;  -t 1 -head &quot;\nAPaveInput returned an error: \n&quot; -hfg red -weight bold
      return 0
    }
    if {![lindex $res 0]} {  ;# restore old values if OK not chosen
      foreach {vn vv} $_savedvv {
        # tk_optionCascade (destroyed now) was tracing its variable =&gt; catch
        catch {set $vn $vv}
      }
    }
    return $res
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::valueInput'>valueInput</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets input variables' values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT valueInput</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_92' href="javascript:toggleSource('92')">Show source</a></p>
<div id='92' class='ruff_dyn_src'><pre>method valueInput {} {


    # Gets input variables' values.

    set _values {}
    foreach {vnam -} [my varInput] {
      lappend _values [set $vnam]
    }
    return $_values
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::varInput'>varInput</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets variables made and filled in a previous session as a list of &quot;varname varvalue&quot; pairs where varname is of form: namespace::var<code>$widgetname</code>.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT varInput</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_93' href="javascript:toggleSource('93')">Show source</a></p>
<div id='93' class='ruff_dyn_src'><pre>method varInput {} {


    # Gets variables made and filled in a previous session
    # as a list of &quot;varname varvalue&quot; pairs where varname
    # is of form: namespace::var$widgetname.

    return $_savedvv
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::APaveInput::vieweditFile'>vieweditFile</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveInput" title="::apave::APaveInput" class='ruff_cmd'>::apave::APaveInput</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveInput'>APaveInput</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Views or edits a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT vieweditFile</span> <span class='ruff_arg'>fname ?prepost? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fname</code></td><td class='ruff_defitem'>name of file</td></tr>
<tr><td class='ruff_defitem'><code>prepost</code></td><td class='ruff_defitem'>a command performing before and after creating a dialog Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>additional options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It's a sort of stub for calling <em>editfile</em> method.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveInput::editfile" title="editfile" class='ruff_cmd'>editfile</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_94' href="javascript:toggleSource('94')">Show source</a></p>
<div id='94' class='ruff_dyn_src'><pre>method vieweditFile {fname {prepost {}} args} {


    # Views or edits a file.
    #   fname - name of file
    #   prepost - a command performing before and after creating a dialog
    #   args - additional options
    # It's a sort of stub for calling *editfile* method.
    # See also: editfile

    return [my editfile $fname &quot;&quot; &quot;&quot; &quot;&quot; $prepost {*}$args]
}</pre></div>
</div><h3 class='ruffclass'><a name='::apave::ObjectProperty'>ObjectProperty</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectProperty::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectProperty::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectProperty::getProperty" title="getProperty" class='ruff_cmd'>getProperty</a></td><td class='ruff_defitem'>Gets a property's value.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectProperty::setProperty" title="setProperty" class='ruff_cmd'>setProperty</a></td><td class='ruff_defitem'>Sets a property's value.</td></tr>
</table>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming" title="ObjectTheming" class='ruff_cmd'>ObjectTheming</a></p>
<h4 class='ruffmethod'><a name='::apave::ObjectProperty::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ObjectProperty create</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_95' href="javascript:toggleSource('95')">Show source</a></p>
<div id='95' class='ruff_dyn_src'><pre>method constructor {args} {

    array set _OP_Properties {}
    # ObjectProperty can play solo or be a mixin
    if {[llength [self next]]} { next {*}$args }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectProperty::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_96' href="javascript:toggleSource('96')">Show source</a></p>
<div id='96' class='ruff_dyn_src'><pre>method destructor {} {

    array unset _OP_Properties
    if {[llength [self next]]} next
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectProperty::getProperty'>getProperty</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a property's value.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT getProperty</span> <span class='ruff_arg'>name ?defvalue?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name of property</td></tr>
<tr><td class='ruff_defitem'><code>defvalue</code></td><td class='ruff_defitem'>default value Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If the property had been set, the method returns its value.</p>
<p class='ruff'>Otherwise, the method returns the default value (<code>$defvalue</code>).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_97' href="javascript:toggleSource('97')">Show source</a></p>
<div id='97' class='ruff_dyn_src'><pre>method getProperty {name {defvalue {}}} {


    # Gets a property's value.
    #   name - name of property
    #   defvalue - default value
    #
    # If the property had been set, the method returns its value.
    #
    # Otherwise, the method returns the default value (`$defvalue`).

    if [info exists _OP_Properties($name)] {
      return $_OP_Properties($name)
    }
    return $defvalue
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectProperty::setProperty'>setProperty</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a property's value.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT setProperty</span> <span class='ruff_arg'>name ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name of property</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>value of property</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>args</em> is omitted, the method returns a property's value.</p>
<p class='ruff'>If <em>args</em> is set, the method sets a property's value as <code>$args</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_98' href="javascript:toggleSource('98')">Show source</a></p>
<div id='98' class='ruff_dyn_src'><pre>method setProperty {name args} {


    # Sets a property's value.
    #   name - name of property
    #   args - value of property
    #
    # If *args* is omitted, the method returns a property's value.
    #
    # If *args* is set, the method sets a property's value as $args.

    switch [llength $args] {
      0 {return [my getProperty $name]}
      1 {return [set _OP_Properties($name) $args]}
    }
    puts -nonewline stderr  &quot;Wrong # args: should be \&quot;[namespace current] setProperty propertyname ?value?\&quot;&quot;
    return -code error
}</pre></div>
</div><h3 class='ruffclass'><a name='::apave::ObjectTheming'>ObjectTheming</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::constructor" title="constructor" class='ruff_cmd'>constructor</a></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::destructor" title="destructor" class='ruff_cmd'>destructor</a></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::basicDefFont" title="basicDefFont" class='ruff_cmd'>basicDefFont</a></td><td class='ruff_defitem'>Gets/Sets a basic default font.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::basicFontSize" title="basicFontSize" class='ruff_cmd'>basicFontSize</a></td><td class='ruff_defitem'>Gets/Sets a basic size of font used in apave</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::basicTextFont" title="basicTextFont" class='ruff_cmd'>basicTextFont</a></td><td class='ruff_defitem'>Gets/Sets a basic font used in editing/viewing text widget.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::boldTextFont" title="boldTextFont" class='ruff_cmd'>boldTextFont</a></td><td class='ruff_defitem'>Returns a bold fixed font.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csAdd" title="csAdd" class='ruff_cmd'>csAdd</a></td><td class='ruff_defitem'>Registers new color scheme in the list of CS.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csCurrent" title="csCurrent" class='ruff_cmd'>csCurrent</a></td><td class='ruff_defitem'>Gets an index of current color scheme</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csDarkEdit" title="csDarkEdit" class='ruff_cmd'>csDarkEdit</a></td><td class='ruff_defitem'>Returns a flag &quot;the editor of CS is dark&quot;</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="csDeleteExternal" class='ruff_cmd'>csDeleteExternal</a></td><td class='ruff_defitem'>Removes all external CS.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csExport" title="csExport" class='ruff_cmd'>csExport</a></td><td class='ruff_defitem'>TODO</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csFont" title="csFont" class='ruff_cmd'>csFont</a></td><td class='ruff_defitem'>Returns attributes of CS font.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csFontDef" title="csFontDef" class='ruff_cmd'>csFontDef</a></td><td class='ruff_defitem'>Returns attributes of CS default font.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csFontMono" title="csFontMono" class='ruff_cmd'>csFontMono</a></td><td class='ruff_defitem'>Returns attributes of CS monotype font.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csGet" title="csGet" class='ruff_cmd'>csGet</a></td><td class='ruff_defitem'>Gets a color scheme's colors</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csGetName" title="csGetName" class='ruff_cmd'>csGetName</a></td><td class='ruff_defitem'>Gets a color scheme's name</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csMainColors" title="csMainColors" class='ruff_cmd'>csMainColors</a></td><td class='ruff_defitem'>Returns a list of main colors' indices of CS.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csMapTheme" title="csMapTheme" class='ruff_cmd'>csMapTheme</a></td><td class='ruff_defitem'>Returns a map of CS / themeWindow method colors.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csSet" title="csSet" class='ruff_cmd'>csSet</a></td><td class='ruff_defitem'>Sets a color scheme and applies it to Tk/Ttk widgets.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::csToned" title="csToned" class='ruff_cmd'>csToned</a></td><td class='ruff_defitem'>Make an external CS that has tones (hues) of colors for a CS.</td></tr>
<tr><td class='ruff_defitem'><code>getProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::getProperty" title="ObjectProperty.getProperty" class='ruff_cmd'>ObjectProperty.getProperty</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::initTooltip" title="initTooltip" class='ruff_cmd'>initTooltip</a></td><td class='ruff_defitem'>Configurates colors and other attributes of tooltip.</td></tr>
<tr><td class='ruff_defitem'><code>setProperty</code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectProperty::setProperty" title="ObjectProperty.setProperty" class='ruff_cmd'>ObjectProperty.setProperty</a></td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::themeExternal" title="themeExternal" class='ruff_cmd'>themeExternal</a></td><td class='ruff_defitem'>Configures an external dialogue so that its colors accord with a current CS.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="themeNonThemed" class='ruff_cmd'>themeNonThemed</a></td><td class='ruff_defitem'>Updates the appearances of currently used widgets (non-themed).</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::themePopup" title="themePopup" class='ruff_cmd'>themePopup</a></td><td class='ruff_defitem'>Configures a popup menu so that its colors accord with a current CS.</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::themeWindow" title="themeWindow" class='ruff_cmd'>themeWindow</a></td><td class='ruff_defitem'>Changes a Tk style (theming a bit)</td></tr>
<tr><td class='ruff_defitem'><a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="untouchWidgets" class='ruff_cmd'>untouchWidgets</a></td><td class='ruff_defitem'>Makes non-ttk widgets to be untouched by coloring or gets their list.</td></tr>
</table>
<h5 class='ruff'>Mixins</h5><p class='ruff'><a href="apave.html#::apave::ObjectProperty" title="ObjectProperty" class='ruff_cmd'>ObjectProperty</a></p>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::APave" title="APave" class='ruff_cmd'>APave</a></p>
<h4 class='ruffmethod'><a name='::apave::ObjectTheming::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ObjectTheming create</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_99' href="javascript:toggleSource('99')">Show source</a></p>
<div id='99' class='ruff_dyn_src'><pre>method constructor {args} {

    my InitCS
    # ObjectTheming can play solo or be a mixin
    if {[llength [self next]]} { next {*}$args }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_100' href="javascript:toggleSource('100')">Show source</a></p>
<div id='100' class='ruff_dyn_src'><pre>method destructor {} {

    if {[llength [self next]]} next
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicDefFont'>basicDefFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic default font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicDefFont</span> <span class='ruff_arg'>?deffont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>deffont</code></td><td class='ruff_defitem'>font Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'deffont' is omitted or ==&quot;&quot;, this method gets it. If 'deffont' is set, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_101' href="javascript:toggleSource('101')">Show source</a></p>
<div id='101' class='ruff_dyn_src'><pre>method basicDefFont {{deffont {}}} {


    # Gets/Sets a basic default font.
    #    deffont - font
    #
    # If 'deffont' is omitted or ==&quot;&quot;, this method gets it.
    # If 'deffont' is set, this method sets it.

    if {$deffont ne &quot;&quot;} {
      return [set ::apave::_CS_(defFont) $deffont]
    } else {
      return $::apave::_CS_(defFont)
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicFontSize'>basicFontSize</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic size of font used in apave</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicFontSize</span> <span class='ruff_arg'>?fs? ?ds?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fs</code></td><td class='ruff_defitem'>font size Optional, default <code>0</code>.</td></tr>
<tr><td class='ruff_defitem'><code>ds</code></td><td class='ruff_defitem'>incr/decr of size Optional, default <code>0</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'fs' is omitted or ==0, this method gets it. If 'fs' &gt;0, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_102' href="javascript:toggleSource('102')">Show source</a></p>
<div id='102' class='ruff_dyn_src'><pre>method basicFontSize {{fs 0} {ds 0}} {


    # Gets/Sets a basic size of font used in apave
    #    fs - font size
    #    ds - incr/decr of size
    #
    # If 'fs' is omitted or ==0, this method gets it.
    # If 'fs' &gt;0, this method sets it.

    if {$fs} {
      return [set ::apave::_CS_(fs) [expr {$fs + $ds}]]
    } else {
      return [expr {$::apave::_CS_(fs) + $ds}]
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicTextFont'>basicTextFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic font used in editing/viewing text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicTextFont</span> <span class='ruff_arg'>?textfont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>textfont</code></td><td class='ruff_defitem'>font Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'textfont' is omitted or ==&quot;&quot;, this method gets it. If 'textfont' is set, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_103' href="javascript:toggleSource('103')">Show source</a></p>
<div id='103' class='ruff_dyn_src'><pre>method basicTextFont {{textfont {}}} {


    # Gets/Sets a basic font used in editing/viewing text widget.
    #    textfont - font
    #
    # If 'textfont' is omitted or ==&quot;&quot;, this method gets it.
    # If 'textfont' is set, this method sets it.

    if {$textfont ne &quot;&quot;} {
      return [set ::apave::_CS_(textFont) $textfont]
    } else {
      return $::apave::_CS_(textFont)
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::boldTextFont'>boldTextFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a bold fixed font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT boldTextFont</span> <span class='ruff_arg'>?fs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fs</code></td><td class='ruff_defitem'>font size Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a bold fixed font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_104' href="javascript:toggleSource('104')">Show source</a></p>
<div id='104' class='ruff_dyn_src'><pre>method boldTextFont {{fs {}}} {


    # Returns a bold fixed font.
    #    fs - font size

    if {$fs eq &quot;&quot;} {set fs [expr {2+[my basicFontSize]}]}
    set bf [font actual TkFixedFont]
    return [dict replace $bf -family [my basicTextFont] -weight bold -size $fs]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csAdd'>csAdd</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers new color scheme in the list of CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csAdd</span> <span class='ruff_arg'>newcs ?setnew?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>newcs</code></td><td class='ruff_defitem'>CS item</td></tr>
<tr><td class='ruff_defitem'><code>setnew</code></td><td class='ruff_defitem'>if true, sets the CS as current Optional, default <code>true</code>.</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Does not register the CS, if it is already registered.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an index of current CS.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::themeWindow" title="themeWindow" class='ruff_cmd'>themeWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_105' href="javascript:toggleSource('105')">Show source</a></p>
<div id='105' class='ruff_dyn_src'><pre>method csAdd {newcs {setnew true}} {


    # Registers new color scheme in the list of CS.
    #   newcs -  CS item
    #   setnew - if true, sets the CS as current
    #
    # Does not register the CS, if it is already registered.
    #
    # Returns an index of current CS.
    #
    # See also:
    #   themeWindow

    if {[llength $newcs]&lt;4} {
      set newcs [my ColorScheme]  ;# CS should be defined
    }
    lassign $newcs name tfg2 tfg1 tbg2 tbg1 tfhh - - tcur grey bclr
    set found $::apave::_CS_(NONCS)
    set maxcs [::apave::cs_Max]
    for {set i $::apave::_CS_(MINCS)} {$i&lt;=$maxcs} {incr i} {
      lassign [my csGet $i] cfg2 cfg1 cbg2 cbg1 cfhh - - ccur
      if {$cfg2==$tfg2 &amp;&amp; $cfg1==$tfg1 &amp;&amp; $cbg2==$tbg2 &amp;&amp; $cbg1==$tbg1 &amp;&amp;  $cfhh==$tfhh &amp;&amp; $ccur==$tcur} {
        set found $i
        break
      }
    }
    if {$found == $::apave::_CS_(MINCS) &amp;&amp; [my csCurrent] == $::apave::_CS_(NONCS)} {
      set setnew false ;# no moves from default CS to 'basic'
    } elseif {$found == $::apave::_CS_(NONCS)} {
      lappend ::apave::_CS_(ALL) $newcs
      set found [expr {$maxcs+1}]
    }
    if {$setnew} {set ::apave::_CS_(index) [set ::apave::_CS_(old) $found]}
    return [my csCurrent]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csCurrent'>csCurrent</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an index of current color scheme</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csCurrent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_106' href="javascript:toggleSource('106')">Show source</a></p>
<div id='106' class='ruff_dyn_src'><pre>method csCurrent {} {


    # Gets an index of current color scheme

    return $::apave::_CS_(index)
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csDarkEdit'>csDarkEdit</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a flag &quot;the editor of CS is dark&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csDarkEdit</span> <span class='ruff_arg'>?cs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>cs</code></td><td class='ruff_defitem'>color scheme to be checked (the current one, if not set) Optional, default <code>-3</code>.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a flag &quot;the editor of CS is dark&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_107' href="javascript:toggleSource('107')">Show source</a></p>
<div id='107' class='ruff_dyn_src'><pre>method csDarkEdit {{cs -3}} {


    # Returns a flag &quot;the editor of CS is dark&quot;
    #   cs - color scheme to be checked (the current one, if not set)

    if {$cs eq -3} {set cs [my csCurrent]}
    lassign $::apave::_CS_(TONED) csbasic cstoned
    if {$cs==$cstoned} {set cs $csbasic}
    return [expr {$cs&gt;22}]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csDeleteExternal'>csDeleteExternal</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes all external CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csDeleteExternal</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_108' href="javascript:toggleSource('108')">Show source</a></p>
<div id='108' class='ruff_dyn_src'><pre>method csDeleteExternal {} {

    # Removes all external CS.

    set ::apave::_CS_(ALL) [lreplace $::apave::_CS_(ALL) 48 end]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csExport'>csExport</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>TODO</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csExport</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_109' href="javascript:toggleSource('109')">Show source</a></p>
<div id='109' class='ruff_dyn_src'><pre>method csExport {} {


    # TODO

    set theme &quot;&quot;
    foreach arg {tfg1 tbg1 tfg2 tbg2 tfgS tbgS tfgD tbgD tcur bclr args} {
      if {[catch {set a &quot;$::apave::_CS_(expo,$arg)&quot;}] || $a==&quot;&quot;} {
        break
      }
      append theme &quot; $a&quot;
    }
    return $theme
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csFont'>csFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns attributes of CS font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csFont</span> <span class='ruff_arg'>fontname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>fontname</code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns attributes of CS font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_110' href="javascript:toggleSource('110')">Show source</a></p>
<div id='110' class='ruff_dyn_src'><pre>method csFont {fontname} {

    # Returns attributes of CS font.
    if {[catch {set font [font configure $fontname]}]} {
      my Create_Fonts
      set font [font configure $fontname]
    }
    return $font
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csFontDef'>csFontDef</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns attributes of CS default font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csFontDef</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns attributes of CS default font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_111' href="javascript:toggleSource('111')">Show source</a></p>
<div id='111' class='ruff_dyn_src'><pre>method csFontDef {} {

    # Returns attributes of CS default font.
    return [my csFont apaveFontDef]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csFontMono'>csFontMono</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns attributes of CS monotype font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csFontMono</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns attributes of CS monotype font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_112' href="javascript:toggleSource('112')">Show source</a></p>
<div id='112' class='ruff_dyn_src'><pre>method csFontMono {} {

    # Returns attributes of CS monotype font.
    return [my csFont apaveFontMono]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csGet'>csGet</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's colors</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csGet</span> <span class='ruff_arg'>?ncolor?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>ncolor</code></td><td class='ruff_defitem'>index of color scheme Optional, default <code>&quot;&quot;</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_113' href="javascript:toggleSource('113')">Show source</a></p>
<div id='113' class='ruff_dyn_src'><pre>method csGet {{ncolor {}}} {


    # Gets a color scheme's colors
    #   ncolor - index of color scheme

    if {$ncolor eq &quot;&quot;} {set ncolor [my csCurrent]}
    return [lrange [my ColorScheme $ncolor] 1 end]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csGetName'>csGetName</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's name</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csGetName</span> <span class='ruff_arg'>?ncolor?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>ncolor</code></td><td class='ruff_defitem'>index of color scheme Optional, default <code>0</code>.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_114' href="javascript:toggleSource('114')">Show source</a></p>
<div id='114' class='ruff_dyn_src'><pre>method csGetName {{ncolor 0}} {


    # Gets a color scheme's name
    #   ncolor - index of color scheme

    if {$ncolor &lt; $::apave::_CS_(MINCS)} {
      return &quot;Default&quot;
    } elseif {$ncolor == $::apave::_CS_(MINCS)} {
      return &quot;Basic&quot;
    }
    return [lindex [my ColorScheme $ncolor] 0]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csMainColors'>csMainColors</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of main colors' indices of CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csMainColors</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of main colors' indices of CS.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::csMapTheme" title="csMapTheme" class='ruff_cmd'>csMapTheme</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_115' href="javascript:toggleSource('115')">Show source</a></p>
<div id='115' class='ruff_dyn_src'><pre>method csMainColors {} {

    # Returns a list of main colors' indices of CS.
    # See also: csMapTheme

    return [list 0 1 2 3 5 13 16]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csMapTheme'>csMapTheme</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a map of CS / themeWindow method colors.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csMapTheme</span> </div>
<h5 class='ruff'>Description</h5><p class='ruff'>The map is a list of indices in CS corresponding to themeWindow's args.</p>
<p class='ruff'>CS record is: 0-itemfg 1-mainfg 2-itembg 3-mainbg 4-itemsHL 5-actbg 6-actfg 7-cursor 8-greyed 9-hot  10-emfg 11-embg 12-- 13-menubg 14-winfg 15-winbg 16-itemHL2 ...reserved...</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a map of CS / themeWindow method colors.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::themeWindow" title="themeWindow" class='ruff_cmd'>themeWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_116' href="javascript:toggleSource('116')">Show source</a></p>
<div id='116' class='ruff_dyn_src'><pre>method csMapTheme {} {

    # Returns a map of CS / themeWindow method colors.
    #
    # The map is a list of indices in CS corresponding to themeWindow's args.
    #
    # CS record is:
    # 0-itemfg 1-mainfg 2-itembg 3-mainbg 4-itemsHL 5-actbg 6-actfg 7-cursor 8-greyed 9-hot  10-emfg 11-embg 12-- 13-menubg 14-winfg 15-winbg 16-itemHL2 ...reserved...
    #
    # See also: themeWindow

    return [list 1 3 0 2 6 5 8 3 7 9 4 10 11 1 13 14 15 16 17 18 19 20 21]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csSet'>csSet</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a color scheme and applies it to Tk/Ttk widgets.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csSet</span> <span class='ruff_arg'>?ncolor? ?win? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>ncolor</code></td><td class='ruff_defitem'>index of color scheme Optional, default <code>0</code>.</td></tr>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window's name Optional, default <code>.</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of colors if ncolor=&quot;&quot;</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <code>args</code> can be set as &quot;-doit&quot;. In this case the method does set the <code>ncolor</code> color scheme (otherwise it doesn't set the CS if it's already of the same <code>ncolor</code>).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_117' href="javascript:toggleSource('117')">Show source</a></p>
<div id='117' class='ruff_dyn_src'><pre>method csSet {{ncolor 0} {win .} args} {


    # Sets a color scheme and applies it to Tk/Ttk widgets.
    #   ncolor - index of color scheme
    #   win - window's name
    #   args - list of colors if ncolor=&quot;&quot;
    #
    # The `args` can be set as &quot;-doit&quot;. In this case the method does set
    # the `ncolor` color scheme (otherwise it doesn't set the CS if it's
    # already of the same `ncolor`).

    # The clrtitf, clrinaf etc. had been designed for e_menu. And as such,
    # they can be used directly, outside of this &quot;color scheming&quot; UI.
    # They set pairs of related fb/bg:
    #   clrtitf/clrtitb is item's fg/bg
    #   clrinaf/clrinab is main fg/bg
    #   clractf/clractb is active (selection) fg/bg
    # and separate colors:
    #   clrhelp is &quot;help&quot; foreground
    #   clrcurs is &quot;caret&quot; background
    #   clrgrey is &quot;shadowing&quot; background
    #   clrhotk is &quot;hotkey/border&quot; foreground
    #
    # In color scheming, these colors are transformed to be consistent
    # with Tk/Ttk's color mechanics.
    #
    # Additionally, &quot;grey&quot; color is used as &quot;border color/disabled foreground&quot;.
    #
    # Returns a list of colors used by the color scheme.

    if {$ncolor eq &quot;&quot;} {
      lassign $args  clrtitf clrinaf clrtitb clrinab clrhelp clractb clractf clrcurs clrgrey clrhotk tfgI tbgI fM bM tfgW tbgW tHL2 res3 res4 res5 res6 res7
    } else {
      foreach cs [list $ncolor $::apave::_CS_(MINCS)] {
        lassign [my csGet $cs]  clrtitf clrinaf clrtitb clrinab clrhelp clractb clractf clrcurs clrgrey clrhotk tfgI tbgI fM bM tfgW tbgW tHL2 res3 res4 res5 res6 res7
        if {$clrtitf ne &quot;&quot;} break
        set ncolor $cs
      }
      set ::apave::_CS_(index) $ncolor
    }
    set fg $clrinaf  ;# main foreground
    set bg $clrinab  ;# main background
    set fE $clrtitf  ;# fieldforeground foreground
    set bE $clrtitb  ;# fieldforeground background
    set fS $clractf  ;# active/selection foreground
    set bS $clractb  ;# active/selection background
    set hh $clrhelp  ;# (not used in cs' theming) title color
    set gr $clrgrey  ;# (not used in cs' theming) shadowing color
    set cc $clrcurs  ;# caret's color
    set ht $clrhotk  ;# hotkey color
    set grey $gr ;# #808080
    if {$::apave::_CS_(old) != $ncolor || $args eq &quot;-doit&quot;} {
      set ::apave::_CS_(old) $ncolor
      my themeWindow $win [list $fg $bg $fE $bE $fS $bS $grey $bg $cc $ht $hh $tfgI $tbgI $fM $bM $tfgW $tbgW $tHL2 $res3 $res4 $res5 $res6 $res7]
      my UpdateColors
      my initTooltip
    }
    return [list $fg $bg $fE $bE $fS $bS $hh $grey $cc $ht $tfgI $tbgI $fM $bM $tfgW $tbgW $tHL2 $res3 $res4 $res5 $res6 $res7]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csToned'>csToned</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Make an external CS that has tones (hues) of colors for a CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csToned</span> <span class='ruff_arg'>cs hue</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>cs</code></td><td class='ruff_defitem'>internal apave CS to be toned</td></tr>
<tr><td class='ruff_defitem'><code>hue</code></td><td class='ruff_defitem'>a percent to get light (&gt; 0) or dark (&lt; 0) tones</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This method allows only one external CS, eliminating others. Returns: &quot;yes&quot; if the CS was toned</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_118' href="javascript:toggleSource('118')">Show source</a></p>
<div id='118' class='ruff_dyn_src'><pre>method csToned {cs hue} {

    # Make an external CS that has tones (hues) of colors for a CS.
    #   cs - internal apave CS to be toned
    #   hue - a percent to get light (&gt; 0) or dark (&lt; 0) tones
    # This method allows only one external CS, eliminating others.
    # Returns: &quot;yes&quot; if the CS was toned

    if {$cs &lt;= $::apave::_CS_(NONCS) || $cs &gt; $::apave::_CS_(STDCS)} {
      return no
    }
    my csDeleteExternal
    set CS [my csGet $cs]
    set mainc [my csMainColors]
    set hue [expr {(100.0+$hue)/100.0}]
    foreach i [my csMapTheme] {
      set color [lindex $CS $i]
      if {$i in $mainc} {
        set color [string map {black #000000 white #ffffff grey #808080  red #ff0000 yellow #ffff00 orange #ffa500} $color]
        scan $color &quot;#%2x%2x%2x&quot; R G B
        foreach valname {R G B} {
          set val [expr {int([set $valname]*$hue)}]
          set $valname [expr {max(min($val,255),0)}]
        }
        set color [format &quot;#%02x%02x%02x&quot; $R $G $B]
      }
      lappend TWargs $color
    }
    my themeWindow . $TWargs no
    set ::apave::_CS_(TONED) [list $cs [my csCurrent]]
    return yes
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::initTooltip'>initTooltip</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configurates colors and other attributes of tooltip.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT initTooltip</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>options of ::baltip::configure</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_119' href="javascript:toggleSource('119')">Show source</a></p>
<div id='119' class='ruff_dyn_src'><pre>method initTooltip {args} {


    # Configurates colors and other attributes of tooltip.
    #  args - options of ::baltip::configure

    if {[info commands ::baltip::configure] eq &quot;&quot;} {package require baltip}
    lassign [lrange [my csGet] 14 15] fW bW
    ::baltip config -fg $fW -bg $bW -global yes
    ::baltip config {*}$args
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeExternal'>themeExternal</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures an external dialogue so that its colors accord with a current CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeExternal</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of untouched widgets</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_120' href="javascript:toggleSource('120')">Show source</a></p>
<div id='120' class='ruff_dyn_src'><pre>method themeExternal {args} {

    # Configures an external dialogue so that its colors accord with a current CS.
    #   args - list of untouched widgets

    if {[set cs [my csCurrent]] != -2} {
      foreach untw $args {my untouchWidgets $untw}
      after idle [list [self] csSet $cs . -doit]  ;# theme the dialogue to be run
    }
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeNonThemed'>themeNonThemed</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the appearances of currently used widgets (non-themed).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeNonThemed</span> <span class='ruff_arg'>win</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window path whose children will be touched</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="untouchWidgets" class='ruff_cmd'>untouchWidgets</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_121' href="javascript:toggleSource('121')">Show source</a></p>
<div id='121' class='ruff_dyn_src'><pre>method themeNonThemed {win} {


    # Updates the appearances of currently used widgets (non-themed).
    #   win - window path whose children will be touched
    #
    # See also:
    #   untouchWidgets

    set wtypes [my NonThemedWidgets all]
    foreach w1 [winfo children $win] {
      my themeNonThemed $w1
      set ts [string tolower [winfo class $w1]]
      set tch 1
      foreach u $::apave::_CS_(untouch) {
        if {[string match $u $w1]} {set tch 0; break}
      }
      if {$tch &amp;&amp; [info exist ::apave::_C_($ts,0)] &amp;&amp;  [lsearch -exact $wtypes $ts]&gt;-1} {
        set i 0
        while {[incr i] &lt;= $::apave::_C_($ts,0)} {
          lassign $::apave::_C_($ts,$i) opt val
          catch {
            if {[string first __tooltip__.label $w1]&lt;0} {
              $w1 configure $opt $val
              switch -- [$w1 cget -state] {
                &quot;disabled&quot; {
                  $w1 configure {*}[my NonTtkStyle $w1 1]
                }
                &quot;readonly&quot; {
                  $w1 configure {*}[my NonTtkStyle $w1 2]
                }
              }
            }
            set nam3 [string range [my ownWName $w1] 0 2]
            if {$nam3 in {lbx tbl flb enT spX tex}} {
              my UpdateSelectAttrs $w1
            }
          }
        }
      }
    }
    return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themePopup'>themePopup</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures a popup menu so that its colors accord with a current CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themePopup</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>mnu</code></td><td class='ruff_defitem'>menu's name (path)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_122' href="javascript:toggleSource('122')">Show source</a></p>
<div id='122' class='ruff_dyn_src'><pre>method themePopup {mnu} {


    # Configures a popup menu so that its colors accord with a current CS.
    #   mnu - menu's name (path)

    if {[my csCurrent] == $::apave::_CS_(NONCS)} return
    lassign [my csGet] - fg - bg2 - bgS fgS - - - - - - bg
    if {[my csCurrent] &gt; $::apave::_CS_(STDCS)} {set bg $bg2}
    my ThemePopup $mnu -foreground $fg -background $bg  -activeforeground $fgS -activebackground $bgS -font [font actual apaveFontDef]
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeWindow'>themeWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Changes a Tk style (theming a bit)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeWindow</span> <span class='ruff_arg'>win ?clrs? ?isCS? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>win</code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code>clrs</code></td><td class='ruff_defitem'>list of colors Optional, default <code>&quot;&quot;</code>.</td></tr>
<tr><td class='ruff_defitem'><code>isCS</code></td><td class='ruff_defitem'>true, if the colors are taken from a CS Optional, default <code>true</code>.</td></tr>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>other options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The clrs contains:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'>tfg1</td><td class='ruff_defitem'>foreground for themed widgets (main stock)</td></tr>
<tr><td class='ruff_defitem'>tbg1</td><td class='ruff_defitem'>background for themed widgets (main stock)</td></tr>
<tr><td class='ruff_defitem'>tfg2</td><td class='ruff_defitem'>foreground for themed widgets (enter data stock)</td></tr>
<tr><td class='ruff_defitem'>tbg2</td><td class='ruff_defitem'>background for themed widgets (enter data stock)</td></tr>
<tr><td class='ruff_defitem'>tfgS</td><td class='ruff_defitem'>foreground for selection</td></tr>
<tr><td class='ruff_defitem'>tbgS</td><td class='ruff_defitem'>background for selection</td></tr>
<tr><td class='ruff_defitem'>tfgD</td><td class='ruff_defitem'>foreground for disabled themed widgets</td></tr>
<tr><td class='ruff_defitem'>tbgD</td><td class='ruff_defitem'>background for disabled themed widgets</td></tr>
<tr><td class='ruff_defitem'>tcur</td><td class='ruff_defitem'>insertion cursor color</td></tr>
<tr><td class='ruff_defitem'>bclr</td><td class='ruff_defitem'>hotkey/border color</td></tr>
<tr><td class='ruff_defitem'>thlp</td><td class='ruff_defitem'>help color</td></tr>
<tr><td class='ruff_defitem'>tfgI</td><td class='ruff_defitem'>foreground for external CS</td></tr>
<tr><td class='ruff_defitem'>tbgI</td><td class='ruff_defitem'>background for external CS</td></tr>
<tr><td class='ruff_defitem'>tfgM</td><td class='ruff_defitem'>foreground for menus</td></tr>
<tr><td class='ruff_defitem'>tbgM</td><td class='ruff_defitem'>background for menus</td></tr>
</table>
<p class='ruff'>The themeWindow can be used outside of &quot;color scheme&quot; UI. E.g., in TKE editor, e_menu and add_shortcuts plugins use it to be consistent with TKE theme.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_123' href="javascript:toggleSource('123')">Show source</a></p>
<div id='123' class='ruff_dyn_src'><pre>method themeWindow {win {clrs {}} {isCS true} args} {


        # Changes a Tk style (theming a bit)
        #   win - window's name
        #   clrs - list of colors
        #   isCS - true, if the colors are taken from a CS
        #   args - other options
        #
        # The clrs contains:
        #   tfg1 - foreground for themed widgets (main stock)
        #   tbg1 - background for themed widgets (main stock)
        #   tfg2 - foreground for themed widgets (enter data stock)
        #   tbg2 - background for themed widgets (enter data stock)
        #   tfgS - foreground for selection
        #   tbgS - background for selection
        #   tfgD - foreground for disabled themed widgets
        #   tbgD - background for disabled themed widgets
        #   tcur - insertion cursor color
        #   bclr - hotkey/border color
        #   thlp - help color
        #   tfgI - foreground for external CS
        #   tbgI - background for external CS
        #   tfgM - foreground for menus
        #   tbgM - background for menus
        #
        # The themeWindow can be used outside of &quot;color scheme&quot; UI.
        # E.g., in TKE editor, e_menu and add_shortcuts plugins use it to
        # be consistent with TKE theme.

        lassign $clrs tfg1 tbg1 tfg2 tbg2 tfgS tbgS tfgD tbgD tcur bclr  thlp tfgI tbgI tfgM tbgM twfg twbg tHL2 res3 res4 res5 res6 res7
        if {$tfg1 eq &quot;-&quot;} return
        if {!$isCS} {
          # if 'external  scheme' is used, register it in _CS_(ALL)
          # and set it as the current CS

    # &lt;CS&gt;    itemfg  mainfg  itembg  mainbg  itemsHL  actbg   actfg  cursor  greyed   hot  emfg  embg   -  menubg  winfg   winbg   itemHL2 #003...reserved...

          my csAdd [list CS-[expr {[::apave::cs_Max]+1}] $tfg2 $tfg1 $tbg2 $tbg1  $thlp $tbgS $tfgS $tcur $tfgD $bclr $tfgI $tbgI $tfgM $tbgM  $twfg $twbg $tHL2 $res3 $res4 $res5 $res6 $res7]
        }
        if {$tfgI eq &quot;&quot;} {set tfgI $tfg2}
        if {$tbgI eq &quot;&quot;} {set tbgI $tbg2}
        if {$tfgM in {&quot;&quot; -}} {set tfgM $tfg1}
        if {$tbgM eq &quot;&quot;} {set tbgM $tbg1}
        my Main_Style $tfg1 $tbg1 $tfg2 $tbg2 $tfgS $tbgS $tfgD $tbg1 $tfg1 $tbg2 $tbg1
        foreach arg {tfg1 tbg1 tfg2 tbg2 tfgS tbgS tfgD tbgD tcur bclr  thlp tfgI tbgI tfgM tbgM twfg twbg tHL2 res3 res4 res5 res6 res7 args} {
          if {$win eq &quot;.&quot;} {
            set ::apave::_C_($win,$arg) [set $arg]
          }
          set ::apave::_CS_(expo,$arg) [set $arg]
        }
        # configuring themed widgets
        foreach ts {TLabel TLabelframe.Label TButton TMenubutton TCheckbutton TScale  TProgressbar TRadiobutton TScrollbar TSeparator TSizegrip TNotebook.Tab} {
          my Ttk_style configure $ts -font apaveFontDef
          my Ttk_style configure $ts -foreground $tfg1
          my Ttk_style configure $ts -background $tbg1
          my Ttk_style map $ts -background [list pressed $tbg1 active $tbg2 alternate $tbg2 focus $tbg2 selected $tbg2]
          my Ttk_style map $ts -foreground [list disabled $tfgD pressed $tfg1 active $tfg2 alternate $tfg2 focus $tfg2 selected $tfg2]
          my Ttk_style map $ts -bordercolor [list focus $bclr pressed $bclr]
          my Ttk_style map $ts -lightcolor [list focus $bclr]
          my Ttk_style map $ts -darkcolor [list focus $bclr]
          my Ttk_style configure $ts -fieldforeground $tfg2
          my Ttk_style configure $ts -fieldbackground $tbg2
        }
        foreach ts {TNotebook TFrame} {
          my Ttk_style configure $ts -background $tbg1
        }
        foreach ts {TNotebook.Tab} {
          my Ttk_style configure $ts -font apaveFontDef
          my Ttk_style map $ts -foreground [list selected $tfgS active $tfg2]
          my Ttk_style map $ts -background [list selected $tbgS active $tbg2]
        }

        foreach ts {TEntry Treeview TSpinbox TCombobox TCombobox.Spinbox TProgressbar TMatchbox} {
          my Ttk_style configure $ts -font apaveFontDef
          my Ttk_style configure $ts -selectforeground $tfgS
          my Ttk_style configure $ts -selectbackground $tbgS
          my Ttk_style configure $ts -font apaveFontDef
          my Ttk_style map $ts -selectforeground [list !focus $::apave::_CS_(!FG)]
          my Ttk_style map $ts -selectbackground [list !focus $::apave::_CS_(!BG)]
          my Ttk_style configure $ts -fieldforeground $tfg2
          my Ttk_style configure $ts -fieldbackground $tbg2
          my Ttk_style configure $ts -insertcolor $tcur
          my Ttk_style map $ts -bordercolor [list focus $bclr active $bclr]
          my Ttk_style map $ts -lightcolor [list focus $bclr]
          my Ttk_style map $ts -darkcolor [list focus $bclr]
          my Ttk_style configure $ts -insertwidth $::apave::_CS_(CURSORWIDTH)
          if {$ts eq &quot;TCombobox&quot;} {
            # combobox is sort of individual
            my Ttk_style configure $ts -foreground $tfg1
            my Ttk_style configure $ts -background $tbg1
            my Ttk_style map $ts -foreground [list {readonly focus} $tfg1 active $tfg1]
            my Ttk_style map $ts -background [list {readonly focus} $tbg1 active $tbg1]
            my Ttk_style map $ts -fieldbackground [list readonly $tbg1]
            my Ttk_style map $ts -background [list active $tbg2]
          } else {
            my Ttk_style configure $ts -foreground $tfg2
            my Ttk_style configure $ts -background $tbg2
            my Ttk_style map $ts -foreground [list disabled $tfgD readonly $tfgD selected $tfgS]
            my Ttk_style map $ts -background [list disabled $tbgD readonly $tbgD selected $tbgS]
          }
        }
        option add *Listbox.font apaveFontDef
        option add *Menu.font apaveFontDef
        foreach {nam clr} {back tbg1 fore tfg1 selectBack tbgS selectFore tfgS} {
          option add *Listbox.${nam}ground [set $clr]
        }
        foreach {nam clr} {back tbgM fore tfgM selectBack tbgS selectFore tfgS} {
          option add *Menu.${nam}ground [set $clr]
        }
        foreach ts {TRadiobutton TCheckbutton} {
          ttk::style map $ts -background [list focus $tbg2 !focus $tbg1]
        }
        # non-themed widgets of button and entry types
        foreach ts [my NonThemedWidgets button] {
          set ::apave::_C_($ts,0) 6
          set ::apave::_C_($ts,1) &quot;-background $tbg1&quot;
          set ::apave::_C_($ts,2) &quot;-foreground $tfg1&quot;
          set ::apave::_C_($ts,3) &quot;-activeforeground $tfg2&quot;
          set ::apave::_C_($ts,4) &quot;-activebackground $tbg2&quot;
          set ::apave::_C_($ts,5) &quot;-font apaveFontDef&quot;
          set ::apave::_C_($ts,6) &quot;-highlightbackground $tfgD&quot;
          switch -- $ts {
            checkbutton - radiobutton {
              set ::apave::_C_($ts,0) 8
              set ::apave::_C_($ts,7) &quot;-selectcolor $tbg1&quot;
              set ::apave::_C_($ts,8) &quot;-highlightbackground $tbg1&quot;
            }
            frame - scrollbar - scale - tframe - tnotebook {
              set ::apave::_C_($ts,0) 8
              set ::apave::_C_($ts,4) &quot;-activebackground $bclr&quot;
              set ::apave::_C_($ts,7) &quot;-troughcolor $tbg1&quot;
              set ::apave::_C_($ts,8) &quot;-elementborderwidth 2&quot;
            }
            menu {
              set ::apave::_C_($ts,0) 8
              set ::apave::_C_($ts,1) &quot;-background $tbgM&quot;
              set ::apave::_C_($ts,3) &quot;-activeforeground $tfgS&quot;
              set ::apave::_C_($ts,4) &quot;-activebackground $tbgS&quot;
              set ::apave::_C_($ts,5) &quot;-borderwidth 2&quot;
              set ::apave::_C_($ts,7) &quot;-relief raised&quot;
              set ::apave::_C_($ts,8) &quot;-disabledforeground $tfgD&quot;
            }
            canvas {
              set ::apave::_C_($ts,1) &quot;-background $tbg2&quot;
            }
          }
        }
        foreach ts [my NonThemedWidgets entry] {
          set ::apave::_C_($ts,0) 3
          set ::apave::_C_($ts,1) &quot;-foreground $tfg2&quot;
          set ::apave::_C_($ts,2) &quot;-background $tbg2&quot;
          set ::apave::_C_($ts,3) &quot;-highlightbackground $tfgD&quot;
          switch -- $ts {
            tcombobox - tmatchbox {
              set ::apave::_C_($ts,0) 8
              set ::apave::_C_($ts,4) &quot;-disabledforeground $tfgD&quot;
              set ::apave::_C_($ts,5) &quot;-disabledbackground $tbgD&quot;
              set ::apave::_C_($ts,6) &quot;-highlightcolor $bclr&quot;
              set ::apave::_C_($ts,7) &quot;-font apaveFontDef&quot;
              set ::apave::_C_($ts,8) &quot;-insertbackground $tcur&quot;
            }
            text - entry - tentry {
              set ::apave::_C_($ts,0) 11
              set ::apave::_C_($ts,4) &quot;-selectforeground $tfgS&quot;
              set ::apave::_C_($ts,5) &quot;-selectbackground $tbgS&quot;
              set ::apave::_C_($ts,6) &quot;-disabledforeground $tfgD&quot;
              set ::apave::_C_($ts,7) &quot;-disabledbackground $tbgD&quot;
              set ::apave::_C_($ts,8) &quot;-highlightcolor $bclr&quot;
              if {$ts eq &quot;text&quot;} {
                set ::apave::_C_($ts,9) &quot;-font {[font actual apaveFontMono]}&quot;
              } else {
                set ::apave::_C_($ts,9) &quot;-font {[font actual apaveFontDef]}&quot;
              }
              set ::apave::_C_($ts,10) &quot;-insertwidth $::apave::_CS_(CURSORWIDTH)&quot;
              set ::apave::_C_($ts,11) &quot;-insertbackground $tcur&quot;
            }
            spinbox - tspinbox - listbox - tablelist {
              set ::apave::_C_($ts,0) 12
              set ::apave::_C_($ts,4) &quot;-insertbackground $tcur&quot;
              set ::apave::_C_($ts,5) &quot;-buttonbackground $tbg2&quot;
              set ::apave::_C_($ts,6) &quot;-selectforeground $::apave::_CS_(!FG)&quot;
              set ::apave::_C_($ts,7) &quot;-selectbackground $::apave::_CS_(!BG)&quot;
              set ::apave::_C_($ts,8) &quot;-disabledforeground $tfgD&quot;
              set ::apave::_C_($ts,9) &quot;-disabledbackground $tbgD&quot;
              set ::apave::_C_($ts,10) &quot;-font apaveFontDef&quot;
              set ::apave::_C_($ts,11) &quot;-insertwidth $::apave::_CS_(CURSORWIDTH)&quot;
              set ::apave::_C_($ts,12) &quot;-highlightcolor $bclr&quot;
            }
          }
        }
        foreach ts {disabled} {
          set ::apave::_C_($ts,0) 4
          set ::apave::_C_($ts,1) &quot;-foreground $tfgD&quot;
          set ::apave::_C_($ts,2) &quot;-background $tbgD&quot;
          set ::apave::_C_($ts,3) &quot;-disabledforeground $tfgD&quot;
          set ::apave::_C_($ts,4) &quot;-disabledbackground $tbgD&quot;
        }
        foreach ts {readonly} {
          set ::apave::_C_($ts,0) 2
          set ::apave::_C_($ts,1) &quot;-foreground $tfg1&quot;
          set ::apave::_C_($ts,2) &quot;-background $tbg1&quot;
        }
        # set the new options for nested widgets (menu e.g.)
        my themeNonThemed $win
        # other options per widget type
        foreach {typ v1 v2} $args {
          if {$typ==&quot;-&quot;} {
            # config of non-themed widgets
            set ind [incr ::apave::_C_($v1,0)]
            set ::apave::_C_($v1,$ind) &quot;$v2&quot;
          } else {
            # style maps of themed widgets
            my Ttk_style map $typ $v1 [list {*}$v2]
          }
        }
        ::apave::initStyles
        my ThemeChoosers
        catch {::bartabs::drawAll}
        return
}</pre></div>
</div><h4 class='ruffmethod'><a name='::apave::ObjectTheming::untouchWidgets'>untouchWidgets</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes non-ttk widgets to be untouched by coloring or gets their list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT untouchWidgets</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>args</code></td><td class='ruff_defitem'>list of widget globs (e.g. {.em.fr.win.* .em.fr.h1 .em.fr.h2})</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args not set, returns the list of untouched widgets.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="themeNonThemed" class='ruff_cmd'>themeNonThemed</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_124' href="javascript:toggleSource('124')">Show source</a></p>
<div id='124' class='ruff_dyn_src'><pre>method untouchWidgets {args} {


    # Makes non-ttk widgets to be untouched by coloring or gets their list.
    #   args - list of widget globs (e.g. {.em.fr.win.* .em.fr.h1 .em.fr.h2})
    # If args not set, returns the list of untouched widgets.
    #
    # See also:
    #   themeNonThemed

    if {[llength $args]==0} {return $::apave::_CS_(untouch)}
    foreach u $args {
      if {[lsearch -exact $::apave::_CS_(untouch) $u]==-1} {
        lappend ::apave::_CS_(untouch) $u
      }
    }
}</pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a href='#::apave'>apave</a></h1><h2><a href='#::apave-Commands'>Commands</a></h2><h4 class='tooltip'><a href='apave.html#::apave::cs_Max'>cs_Max</a><span class='tooltiptext'>Gets a maximum index of available color schemes
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_MaxBasic'>cs_MaxBasic</a><span class='tooltiptext'>Gets a maximum index of basic color schemes
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_Min'>cs_Min</a><span class='tooltiptext'>Gets a minimum index of available color schemes
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_Non'>cs_Non</a><span class='tooltiptext'>Gets non-existent CS index
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::endWM'>endWM</a><span class='tooltiptext'>Finishes the window management by apave, closing and clearing all.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::eventOnText'>eventOnText</a><span class='tooltiptext'>Generates an event on a text, saving its current index in hl_tcl.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::getN'>getN</a><span class='tooltiptext'>Gets a number from a string
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::getOption'>getOption</a><span class='tooltiptext'>Extracts one option from an option list.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::iconData'>iconData</a><span class='tooltiptext'>Gets an icon's data.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::iconImage'>iconImage</a><span class='tooltiptext'>Gets a defined icon's image or list of icons. If <em>icon</em> equals to &quot;-init&quot;, initializes apave's icon set.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::infoFind'>infoFind</a><span class='tooltiptext'>Searches data of a window in a list of registered windows.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::infoWindow'>infoWindow</a><span class='tooltiptext'>Registers/unregisters windows. Also sets/gets 'count of open modal windows'.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initPOP'>initPOP</a><span class='tooltiptext'>Initializes system popup menu (if possible) to call it in a window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initStyles'>initStyles</a><span class='tooltiptext'>Initializes miscellaneous styles, e.g. button's.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initWM'>initWM</a><span class='tooltiptext'>Initializes Tcl/Tk session. Used to be called at the beginning of it.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::IntStatus'>IntStatus</a><span class='tooltiptext'>Sets/gets a status of window. The status is an integer assigned to a name.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::mc'>mc</a><span class='tooltiptext'>Gets a localized version of a message.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::obj'>obj</a><span class='tooltiptext'>Calls a method of APaveInput class.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::openDoc'>openDoc</a><span class='tooltiptext'>Opens a document.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::parseOptions'>parseOptions</a><span class='tooltiptext'>Parses argument list containing options.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::parseOptionsFile'>parseOptionsFile</a><span class='tooltiptext'>Parses argument list containing options and (possibly) a file name.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::putOption'>putOption</a><span class='tooltiptext'>Replaces or adds one option to an option list.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::readTextFile'>readTextFile</a><span class='tooltiptext'>Reads a text file.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::removeOptions'>removeOptions</a><span class='tooltiptext'>Removes some options from a list of options.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::setAppIcon'>setAppIcon</a><span class='tooltiptext'>Sets application's icon.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::shadowAllowed'>shadowAllowed</a><span class='tooltiptext'>Sets/gets &quot;shadowing&quot; mode.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::WindowStatus'>WindowStatus</a><span class='tooltiptext'>Sets/gets a status of window. The status is a value assigned to a name.
</span></h4><h2><a href='#::apave-Classes'>Classes</a></h2><h3><a href='apave.html#::apave::APave'>APave</a></h3><h4 class='tooltip'><a href='apave.html#::apave::APave::constructor'>constructor</a><span class='tooltiptext'>Creates APave object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::destructor'>destructor</a><span class='tooltiptext'>Clears variables used in the object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::checkTimeoutButton'>checkTimeoutButton</a><span class='tooltiptext'>Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::chooser'>chooser</a><span class='tooltiptext'>Chooser (for all available types).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::colorChooser'>colorChooser</a><span class='tooltiptext'>Color chooser.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::configure'>configure</a><span class='tooltiptext'>Configures the apave object (all of <em>_pav</em> array may be changed).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::dateChooser'>dateChooser</a><span class='tooltiptext'>Date chooser (calendar widget).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::displayTaggedText'>displayTaggedText</a><span class='tooltiptext'>Sets the text widget's contents using tags (ornamental details).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::displayText'>displayText</a><span class='tooltiptext'>Sets the text widget's contents.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::fillGutter'>fillGutter</a><span class='tooltiptext'>Fills a gutter of text with the text's line numbers.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::focusNext'>focusNext</a><span class='tooltiptext'>Sets focus on a next widget (possibly, defined as <code>my Widget</code>).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::fontChooser'>fontChooser</a><span class='tooltiptext'>Font chooser.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::getTextContent'>getTextContent</a><span class='tooltiptext'>Gets text content.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::iconA'>iconA</a><span class='tooltiptext'>Gets icon attributes for buttons, menus etc.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::initLinkFont'>initLinkFont</a><span class='tooltiptext'>Gets/sets font attributes of links (labels &amp; text tags with -link).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::labelFlashing'>labelFlashing</a><span class='tooltiptext'>Options of 'flashing' label: -file (or -data) {list of image files (or data variables)} -label {list of labels' texts} -incr {increment for -alpha option} -pause {pause in seconds for -alpha 1.0} -after {interval for 'after'} -squeeze {value for *-big.png}
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::makeLabelLinked'>makeLabelLinked</a><span class='tooltiptext'>Makes the linked label from a label.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::makePopup'>makePopup</a><span class='tooltiptext'>Makes a popup menu for an editable widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::makeWindow'>makeWindow</a><span class='tooltiptext'>Creates a toplevel window that has to be paved.
</span></h4><h4><a href='apave.html#::apave::APave::onKeyTextM'>onKeyTextM</a></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::optionCascadeText'>optionCascadeText</a><span class='tooltiptext'>Rids a tk_optionCascade item of braces.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::ownWName'>ownWName</a><span class='tooltiptext'>Gets a tail (last part) of widget's name
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::parentWName'>parentWName</a><span class='tooltiptext'>Gets parent name of widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::paveWindow'>paveWindow</a><span class='tooltiptext'>Processes &quot;win / list_of_widgets&quot; pairs.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::readonlyWidget'>readonlyWidget</a><span class='tooltiptext'>Switches on/off a widget's readonly state for a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::res'>res</a><span class='tooltiptext'>Gets/sets a variable for <em>vwait</em> command.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::setDefaultAttrs'>setDefaultAttrs</a><span class='tooltiptext'>Sets or resets default grid options and attributes for widget type.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::setTextBinds'>setTextBinds</a><span class='tooltiptext'>Returns bindings for a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::showModal'>showModal</a><span class='tooltiptext'>Shows a window as modal.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::showWindow'>showWindow</a><span class='tooltiptext'>Displays a windows and goes in tkwait cycle to interact with a user.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::textLink'>textLink</a><span class='tooltiptext'>Gets a label's path of a link in a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::themePopup'>themePopup</a><span class='tooltiptext'>Applies a color scheme to a popup menu.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::timeoutButton'>timeoutButton</a><span class='tooltiptext'>Invokes a button's action after a timeout.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::tk_optionCascade'>tk_optionCascade</a><span class='tooltiptext'>A bit modified tk_optionCascade widget made by Richard Suchenwirth.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::widgetType'>widgetType</a><span class='tooltiptext'>Gets the widget type based on 3 initial letters of its name. Also fills the grid/pack options and attributes of the widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::window'>window</a><span class='tooltiptext'>Obsolete version of paveWindow (remains for compatibility).
</span></h4><h3><a href='apave.html#::apave::APaveDialog'>APaveDialog</a></h3><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::constructor'>constructor</a><span class='tooltiptext'>Creates APaveDialog object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::destructor'>destructor</a><span class='tooltiptext'>Clears variables used in the object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::abortretrycancel'>abortretrycancel</a><span class='tooltiptext'>Shows the <em>ABORTRETRYCANCEL</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::deleteLine'>deleteLine</a><span class='tooltiptext'>Deletes a current line of text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::doubleText'>doubleText</a><span class='tooltiptext'>Doubles a current line or a selection of text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::findInText'>findInText</a><span class='tooltiptext'>Finds a string in text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::get_highlighted'>get_highlighted</a><span class='tooltiptext'>Gets a selected word after double-clicking on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::highlight_matches'>highlight_matches</a><span class='tooltiptext'>Highlights matches of selected word in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::linesMove'>linesMove</a><span class='tooltiptext'>Moves a current line or lines of selection up/down.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::misc'>misc</a><span class='tooltiptext'>Shows the <em>MISCELLANEOUS</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::ok'>ok</a><span class='tooltiptext'>Shows the <em>OK</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::okcancel'>okcancel</a><span class='tooltiptext'>Shows the <em>OKCANCEL</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::pasteText'>pasteText</a><span class='tooltiptext'>Removes a selection at pasting.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::popupBlockCommands'>popupBlockCommands</a><span class='tooltiptext'>Returns block commands for a popup menu on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::popupFindCommands'>popupFindCommands</a><span class='tooltiptext'>Returns find commands for a popup menu on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::popupHighlightCommands'>popupHighlightCommands</a><span class='tooltiptext'>Returns highlighting commands for a popup menu on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::retrycancel'>retrycancel</a><span class='tooltiptext'>Shows the <em>RETRYCANCEL</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::seek_highlight'>seek_highlight</a><span class='tooltiptext'>Seeks the selected word forward/backward/to first/to last in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::selectedWordText'>selectedWordText</a><span class='tooltiptext'>Returns a word under the cursor or a selected text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::set_highlight_matches'>set_highlight_matches</a><span class='tooltiptext'>Creates bindings to highlight matches in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::unhighlight_matches'>unhighlight_matches</a><span class='tooltiptext'>Unhighlights matches of selected word in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::yesno'>yesno</a><span class='tooltiptext'>Shows the <em>YESNO</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::yesnocancel'>yesnocancel</a><span class='tooltiptext'>Shows the <em>YESNOCANCEL</em> dialog.
</span></h4><h3><a href='apave.html#::apave::APaveInput'>APaveInput</a></h3><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::constructor'>constructor</a><span class='tooltiptext'>Creates APaveInput object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::destructor'>destructor</a><span class='tooltiptext'>Clears variables used in the object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::editfile'>editfile</a><span class='tooltiptext'>Edits or views a file with a set of main colors
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::initInput'>initInput</a><span class='tooltiptext'>Initializes input and clears variables made in previous session.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::input'>input</a><span class='tooltiptext'>Makes and runs an input dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::valueInput'>valueInput</a><span class='tooltiptext'>Gets input variables' values.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::varInput'>varInput</a><span class='tooltiptext'>Gets variables made and filled in a previous session as a list of &quot;varname varvalue&quot; pairs where varname is of form: namespace::var<code>$widgetname</code>.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveInput::vieweditFile'>vieweditFile</a><span class='tooltiptext'>Views or edits a file.
</span></h4><h3><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a></h3><h4><a href='apave.html#::apave::ObjectProperty::constructor'>constructor</a></h4><h4><a href='apave.html#::apave::ObjectProperty::destructor'>destructor</a></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectProperty::getProperty'>getProperty</a><span class='tooltiptext'>Gets a property's value.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectProperty::setProperty'>setProperty</a><span class='tooltiptext'>Sets a property's value.
</span></h4><h3><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a></h3><h4><a href='apave.html#::apave::ObjectTheming::constructor'>constructor</a></h4><h4><a href='apave.html#::apave::ObjectTheming::destructor'>destructor</a></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicDefFont'>basicDefFont</a><span class='tooltiptext'>Gets/Sets a basic default font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicFontSize'>basicFontSize</a><span class='tooltiptext'>Gets/Sets a basic size of font used in apave
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicTextFont'>basicTextFont</a><span class='tooltiptext'>Gets/Sets a basic font used in editing/viewing text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::boldTextFont'>boldTextFont</a><span class='tooltiptext'>Returns a bold fixed font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csAdd'>csAdd</a><span class='tooltiptext'>Registers new color scheme in the list of CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csCurrent'>csCurrent</a><span class='tooltiptext'>Gets an index of current color scheme
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csDarkEdit'>csDarkEdit</a><span class='tooltiptext'>Returns a flag &quot;the editor of CS is dark&quot;
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csDeleteExternal'>csDeleteExternal</a><span class='tooltiptext'>Removes all external CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csExport'>csExport</a><span class='tooltiptext'>TODO
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csFont'>csFont</a><span class='tooltiptext'>Returns attributes of CS font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csFontDef'>csFontDef</a><span class='tooltiptext'>Returns attributes of CS default font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csFontMono'>csFontMono</a><span class='tooltiptext'>Returns attributes of CS monotype font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csGet'>csGet</a><span class='tooltiptext'>Gets a color scheme's colors
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csGetName'>csGetName</a><span class='tooltiptext'>Gets a color scheme's name
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csMainColors'>csMainColors</a><span class='tooltiptext'>Returns a list of main colors' indices of CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csMapTheme'>csMapTheme</a><span class='tooltiptext'>Returns a map of CS / themeWindow method colors.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csSet'>csSet</a><span class='tooltiptext'>Sets a color scheme and applies it to Tk/Ttk widgets.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csToned'>csToned</a><span class='tooltiptext'>Make an external CS that has tones (hues) of colors for a CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::initTooltip'>initTooltip</a><span class='tooltiptext'>Configurates colors and other attributes of tooltip.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeExternal'>themeExternal</a><span class='tooltiptext'>Configures an external dialogue so that its colors accord with a current CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeNonThemed'>themeNonThemed</a><span class='tooltiptext'>Updates the appearances of currently used widgets (non-themed).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themePopup'>themePopup</a><span class='tooltiptext'>Configures a popup menu so that its colors accord with a current CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeWindow'>themeWindow</a><span class='tooltiptext'>Changes a Tk style (theming a bit)
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::untouchWidgets'>untouchWidgets</a><span class='tooltiptext'>Makes non-ttk widgets to be untouched by coloring or gets their list.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
