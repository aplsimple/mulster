<!DOCTYPE html><html><head><meta charset="utf-8"/>
<link rel="stylesheet" href="../../../zoo/sh/styles/aplsimple.css">
<title>::apave reference</title>
<style>
/*
Copyright (c) 2009, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.7.0
*/
html{color:#000;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,var,optgroup{font-style:inherit;font-weight:inherit;}del,ins{text-decoration:none;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:baseline;}sub{vertical-align:baseline;}legend{color:#000;}input,button,textarea,select,optgroup,option{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;}input,button,textarea,select{*font-size:100%;}body{font:13px/1.231 arial,helvetica,clean,sans-serif;*font-size:small;*font:x-small;}select,input,button,textarea,button{font:99% arial,helvetica,clean,sans-serif;}table{font-size:inherit;font:100%;}pre,code,kbd,samp,tt{font-family:Consolas,"Courier New",monospace;font-size:100%;line-height:100%;}body{text-align:center;}#doc,#doc2,#doc3,#doc4,.yui-t1,.yui-t2,.yui-t3,.yui-t4,.yui-t5,.yui-t6,.yui-t7{margin:auto;text-align:left;width:57.69em;*width:56.25em;}#doc2{width:73.076em;*width:71.25em;}#doc3{margin:auto;width:auto;}#doc4{width:74.923em;*width:73.05em;}.yui-b{position:relative;}.yui-b{_position:static;}#yui-main .yui-b{position:static;}#yui-main,.yui-g .yui-u .yui-g{width:100%;}.yui-t1 #yui-main,.yui-t2 #yui-main,.yui-t3 #yui-main{float:right;margin-left:-25em;}.yui-t4 #yui-main,.yui-t5 #yui-main,.yui-t6 #yui-main{float:left;margin-right:-25em;}.yui-t1 .yui-b{float:left;width:12.30769em;*width:12.00em;}.yui-t1 #yui-main .yui-b{margin-left:13.30769em;*margin-left:13.05em;}.yui-t2 .yui-b{float:left;width:9.8461em;*width:13.50em;}.yui-t2 #yui-main .yui-b{margin-left:10.8461em;*margin-left:14.55em;}.yui-t3 .yui-b{float:left;width:23.0769em;*width:22.50em;}.yui-t3 #yui-main .yui-b{margin-left:24.0769em;*margin-left:23.62em;}.yui-t4 .yui-b{float:right;width:13.8456em;*width:13.50em;}.yui-t4 #yui-main .yui-b{margin-right:14.8456em;*margin-right:14.55em;}.yui-t5 .yui-b{float:right;width:18.4615em;*width:18.00em;}.yui-t5 #yui-main .yui-b{margin-right:19.4615em;*margin-right:19.125em;}.yui-t6 .yui-b{float:right;width:23.0769em;*width:22.50em;}.yui-t6 #yui-main .yui-b{margin-right:24.0769em;*margin-right:23.62em;}.yui-t7 #yui-main .yui-b{display:block;margin:0 0 1em 0;}#yui-main .yui-b{float:none;width:auto;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf,.yui-gc .yui-u,.yui-gd .yui-g,.yui-g .yui-gc .yui-u,.yui-ge .yui-u,.yui-ge .yui-g,.yui-gf .yui-g,.yui-gf .yui-u{float:right;}.yui-g div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first,.yui-ge div.first,.yui-gf div.first,.yui-g .yui-gc div.first,.yui-g .yui-ge div.first,.yui-gc div.first div.first{float:left;}.yui-g .yui-u,.yui-g .yui-g,.yui-g .yui-gb,.yui-g .yui-gc,.yui-g .yui-gd,.yui-g .yui-ge,.yui-g .yui-gf{width:49.1%;}.yui-gb .yui-u,.yui-g .yui-gb .yui-u,.yui-gb .yui-g,.yui-gb .yui-gb,.yui-gb .yui-gc,.yui-gb .yui-gd,.yui-gb .yui-ge,.yui-gb .yui-gf,.yui-gc .yui-u,.yui-gc .yui-g,.yui-gd .yui-u{width:32%;margin-left:1.99%;}.yui-gb .yui-u{*margin-left:1.9%;*width:31.9%;}.yui-gc div.first,.yui-gd .yui-u{width:66%;}.yui-gd div.first{width:32%;}.yui-ge div.first,.yui-gf .yui-u{width:74.2%;}.yui-ge .yui-u,.yui-gf div.first{width:24%;}.yui-g .yui-gb div.first,.yui-gb div.first,.yui-gc div.first,.yui-gd div.first{margin-left:0;}.yui-g .yui-g .yui-u,.yui-gb .yui-g .yui-u,.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u,.yui-ge .yui-g .yui-u,.yui-gf .yui-g .yui-u{width:49%;*width:48.1%;*margin-left:0;}.yui-g .yui-g .yui-u{width:48.1%;}.yui-g .yui-gb div.first,.yui-gb .yui-gb div.first{*margin-right:0;*width:32%;_width:31.7%;}.yui-g .yui-gc div.first,.yui-gd .yui-g{width:66%;}.yui-gb .yui-g div.first{*margin-right:4%;_margin-right:1.3%;}.yui-gb .yui-gc div.first,.yui-gb .yui-gd div.first{*margin-right:0;}.yui-gb .yui-gb .yui-u,.yui-gb .yui-gc .yui-u{*margin-left:1.8%;_margin-left:4%;}.yui-g .yui-gb .yui-u{_margin-left:1.0%;}.yui-gb .yui-gd .yui-u{*width:66%;_width:61.2%;}.yui-gb .yui-gd div.first{*width:31%;_width:29.5%;}.yui-g .yui-gc .yui-u,.yui-gb .yui-gc .yui-u{width:32%;_float:right;margin-right:0;_margin-left:0;}.yui-gb .yui-gc div.first{width:66%;*float:left;*margin-left:0;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf .yui-u{margin:0;}.yui-gb .yui-gb .yui-u{_margin-left:.7%;}.yui-gb .yui-g div.first,.yui-gb .yui-gb div.first{*margin-left:0;}.yui-gc .yui-g .yui-u,.yui-gd .yui-g .yui-u{*width:48.1%;*margin-left:0;}.yui-gb .yui-gd div.first{width:32%;}.yui-g .yui-gd div.first{_width:29.9%;}.yui-ge .yui-g{width:24%;}.yui-gf .yui-g{width:74.2%;}.yui-gb .yui-ge div.yui-u,.yui-gb .yui-gf div.yui-u{float:right;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf div.first{float:left;}.yui-gb .yui-ge .yui-u,.yui-gb .yui-gf div.first{*width:24%;_width:20%;}.yui-gb .yui-ge div.first,.yui-gb .yui-gf .yui-u{*width:73.5%;_width:65.5%;}.yui-ge div.first .yui-gd .yui-u{width:65%;}.yui-ge div.first .yui-gd div.first{width:32%;}#hd:after,#bd:after,#ft:after,.yui-g:after,.yui-gb:after,.yui-gc:after,.yui-gd:after,.yui-ge:after,.yui-gf:after{content:".";display:block;height:0;clear:both;visibility:hidden;}#hd,#bd,#ft,.yui-g,.yui-gb,.yui-gc,.yui-gd,.yui-ge,.yui-gf{zoom:0;}

body{margin:10px;}h1{font-size:138.5%;}h2{font-size:123.1%;}h3{font-size:108%;}h1,h2,h3{margin:1em 0;}h1,h2,h3,h4,h5,h6,strong,dt{font-weight:bold;}optgroup{font-weight:normal;}abbr,acronym{border-bottom:1px dotted #000;cursor:help;}em{font-style:italic;}del{text-decoration:line-through;}blockquote,ul,ol,dl{margin:1em;}ol,ul,dl{margin-left:2em;}ol li{list-style:decimal outside;}ul li{list-style:disc outside;}dl dd{margin-left:1em;}th,td{border:1px solid #000;padding:.5em;}th{font-weight:bold;text-align:center;}caption{margin-bottom:.5em;text-align:center;}sup{vertical-align:super;}sub{vertical-align:sub;}p,fieldset,table,pre{margin-bottom:1em;}button,input[type="checkbox"],input[type="radio"],input[type="reset"],input[type="submit"]{padding:1px;}

/* Ruff default CSS */

body {
  /*max-width: 70em;*/
  margin: 0;
}

h1,h2 {
  color: #888888;
  margin-bottom: 0.5em;
  margin-top: 0em;
}

#ft { font-size: x-small; font-family: Arial, sans-serif;
  text-align: left;
  border-top: 1px solid #0B3467;
  color: #888888;
  margin-top: 10px;
}

.banner h2 {
  color: #0B3467;
}

#hd.banner {
 font-family: "Times New Roman", serif;
 font-size: 200%;
 line-height: 64px;
 border-bottom: thin solid #0B3467;
 color: #0B3467;
}

p.linkline {
  text-align: right;
  font-size: smaller;
  /*    margin-top: -1em; */
  margin-bottom: 0;
}

.tinylink {
  font-size: x-small;
  font-variant: normal;
  font-family: Arial, sans-serif;
  float: right;
  padding:2px;
}

h1 .tinylink a {
  color: white;
}

#bd {
font-family: Arial, sans-serif;
/*font-size: 108%;*/
}

div.navbox {
  /* margin-top: 1em; */
  background-color: #0B3467;
  color: white;
  padding: 3px 4px 2px 4px;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

div.navbox:hover {
  overflow: visible;
}

/* Note .navbox header css should be based on $header_levels */
.navbox h1, .navbox h2, .navbox h3, .navbox h4, .navbox h5 {
  font-size: 85%;
  margin: 0px;
  font-weight: normal;
}
.navbox h1 {
  font-weight: bold; /* Override */
}
.navbox h2 {
  padding-left: 1em;
}
.navbox h3 {
  padding-left: 2em;
}
.navbox h4 {
  padding-left: 2.5em;
  font-weight: normal;
}
.navbox h5 {
  padding-left: 3em;
  font-weight: normal;
}
.navbox hr {
  color: white;
  margin-top:0.1em;
  margin-bottom:0.1em;
}

.navbox a:link, .navbox a:visited, .navbox a:hover {
  text-decoration: none;
  color: white;
  background-color: #0B3467;
}

.navbox a:hover {
   font-weight: bold;
}

/* Tooltip text - see https://www.w3schools.com/css/css_tooltip.asp */
.tooltip {
  position: relative;
  /* display: inline-block; */
}

.tooltip .tooltiptext {
  width: 100%;
  font-weight: bold;
  background-color: white;
  color: #0B3467;
  text-align: left;
  border: 1px solid #0B3467;
  /* border-radius: 4px; */
  position: absolute;
  z-index: 1;
  margin-left: 4px;
  padding: 2px 3px;
  visibility: hidden;
}

/* Show the tooltip text when you mouse over the tooltip container */
.tooltip:hover .tooltiptext {
  visibility: visible;
}

span.ns_scope {
  color: #aaaaaa;
}

span.ns_scope a:link, span.ns_scope a:visited {
  text-decoration: none;
  color: #aaaaaa;

}

li {
  margin-top: 0.5em;
}

span.ns_scope a:hover {
  text-decoration: none;
  color: #666666;
}

table {
  margin: 1em;
  margin-top: 0.5em;
  border: thin solid;
  border-collapse: collapse;
  border-color: #808080;
  padding: 4px;
}

td {
  border: thin solid;
  border-color: #808080;
  vertical-align: top;
  font-size: 93%;
  padding: 0.3em;
  padding-top: 0.1em;
}
th {
  border: thin solid;
  border-color: #808080;
  padding: 0.3em;
  padding-top: 0.1em;
  background-color: #CCCCCC;
}

dt, dd {
   font-size: 93%;
}

h1.ruff {
  background-color: #0B3467;
  color: #ffffff;
  padding-left: 0.2em;
  font-family: "Times New Roman", serif;
}
h2.ruff {
  font-variant: small-caps;
  color: #0B3467;
  font-weight: bold;
  font-family: "Times New Roman", serif;
}

h3.ruff, h4.ruff, h5.ruff, h6.ruff {
  color: #0B3467;
}
h5.ruff {
  font-style: italic;
  font-weight: normal;
}
h6.ruff {
  font-weight: normal;
}
h3.ruffclass, h3.ruffproc, h3.ruffmethod,
h4.ruffclass, h4.ruffproc, h4.ruffmethod,
h5.ruffclass, h5.ruffproc, h5.ruffmethod {
  border-bottom: thin solid #0B3467;
  color: #0B3467;
  margin-bottom: 0.2em;
}

pre {
  background-color: #f9f9f9;
  margin-top: 1em;
  margin-left: 1em;
  padding: 5px;
  font-family: Consolas, "Courier New", monospace;
  /* width: max-content; --- to leave footsteps */ overflow: auto;
  line-height: 1.2em;
}

.ruff_dyn_src {
  display: none; /* Displayed via JS */
}

.ruff_synopsis {
  border: thin solid #cccccc;
  background: #f9f9f9;
  font-family: Consolas, "Courier New", monospace;
  padding: 5px;
  margin: 0em 2em 1em;
}
.ruff_const, .ruff_cmd, ruff_defitem {
  font-weight: bold;
  font-family: Consolas, "Courier New", monospace;
}
.ruff_arg {
  font-style: italic;
  font-family: Consolas, "Courier New", monospace;
}

.ruff_source_link {
  font-size: smaller;
}

.ruff_index {
  font-size: small;
  color: grey;
  line-height: 1;
}

.ruff_index ul li {
  list-style-type: none;
}

.ruff_index ul li a {
  text-decoration: none;
}
</style>
<script>function toggleSource( id )
{
  /* Copied from Rails */
  var elem
  var link

  if( document.getElementById )
  {
      elem = document.getElementById( id )
      link = document.getElementById( "l_" + id )
  }
  else if ( document.all )
  {
      elem = eval( "document.all." + id )
      link = eval( "document.all.l_" + id )
  }
  else
      return false;

  if( elem.style.display == "block" )
  {
      elem.style.display = "none"
      link.innerHTML = "Show source"
  }
  else
  {
      elem.style.display = "block"
      link.innerHTML = "Hide source"
  }
}
</script></head>
<meta name="author" content="aplsimple">
<meta name="description" content="aplsimple's home page">
<meta name="keywords" content="aplsimple,home">
<link rel="stylesheet" href="../../../en/zoo/style.css">
<style>
table{
background-color: #f9f9f9;
margin: 0%;
margin-bottom: 2%;
padding: 0%;
box-shadow: none;
filter: none;
}
pre{
margin: 0%;
margin-bottom: 2%;
padding: 0%;
}
</style>
<link rel="icon" type="image/jpg" href="../../../zoo/favicon.jpg">
<body>
<div id="wrapper">
<div name="divd1" ALIGN="CENTER"> <FONT SIZE=5em color=#b01c20><B>
<noscript>THIS PAGE IS NOT WORKING WITHOUT JAVASCRIPT!
<BR>
<BR>PLEASE, SWITCH ON JAVASCRIPT IN SETTINGS OF YOUR BROWSER AND RELOAD THE PAGE.
</noscript>
</B></FONT></div>
<div id='doc3' class='yui-t2'>
<script src="../../../zoo/funcs.js"></script>
<script src="../../../en/zoo/this.js"></script>
<section id=sec2>
<div id='hd' class='banner'>
<a name='apave.html'>::apave reference</a>
</div>
<div id='bd'><div id='yui-main'><div class='yui-b'><h1 class='ruff'><a name='::apave'></a>::apave<span class='tinylink'><a href='#top'>Top</a></span></h1>
<div style='clear:both;'></div>
<p class='ruff'>The <em>apave</em> software provides a sort of geometry manager for Tcl/Tk.</p>
<p class='ruff'>The <em>apave</em> isn't designed to replace the existing Tk geometry managers (place, pack, grid). Rather the apave tries to simplify the window layout by using their best, by means of:</p>
<ul class='ruff'>
<li>joining the power of grid and pack</li>
<li>uniting a creation of widgets with their layout (and mostly their configuration)</li>
<li>minimizing a coder's efforts at creating / modifying / removing widgets</li>
<li>setting a natural tab order of widgets</li>
<li>providing 'mega-widgets'</li>
<li>providing 'mega-attributes', right up to the user-defined ones</li>
<li>centralizing things like icons or popup menus</li>
<li>theming both ttk and non-ttk widgets</li>
</ul>
<p class='ruff'>The <em>apave</em> is implemented as <em>APaveBase oo::class</em>, so that you can enhance it with your own inherited / mixin-ed class.</p>
<p class='ruff'>While <em>APaveBase oo::class</em> allows to layout highly sophisticated windows, you can also employ its more 'earthy' descendants:</p>
<p class='ruff'><em>APaveDialog oo::class</em> and <em>APave oo::class</em> that allow you:</p>
<ul class='ruff'>
<li>to call a variety of dialogs, optionally using a &quot;Don't show again&quot; checkbox and a tagged text</li>
<li>to use a variety of widgets in dialogs, with entry, text (incl. readonly and stand-alone), combobox (incl. file content), spinbox, listbox, file listbox, option cascade, tablelist, checkbutton, radiobutton and label (incl. title)</li>
<li>to resize windows neatly (however strange, not done in Tk standard dialogs)</li>
</ul>
<p class='ruff'>The theming facility of <em>apave</em> is enabled by <em>ObjectTheming oo::class</em> which embraces both ttk and non-ttk widgets.</p>
<p class='ruff'>Along with standard widgets, the mentioned <em>apave</em> classes provide a batch of following 'mega-widgets':</p>
<ul class='ruff'>
<li>file picker</li>
<li>saved file picker</li>
<li>directory picker</li>
<li>font picker</li>
<li>color picker</li>
<li>date picker</li>
<li>menubar</li>
<li>toolbar</li>
<li>statusbar</li>
<li>file combobox</li>
<li>file listbox</li>
<li>file viewer/editor</li>
<li>option cascade</li>
<li>e_menu</li>
<li>bartabs</li>
<li>link</li>
<li>baltip</li>
<li>gutter</li>
<li>scrolled frame</li>
<li>switch</li>
</ul>
<p class='ruff'>At last, a CLI stand-alone dialog allows not only to ask &quot;OK/Cancel&quot; or &quot;Yes/No&quot; returning 1/0 but also to set environment variables to use in shell scripts.</p>
<p class='ruff'>The <strong>apave</strong> originates from the old <strong>pave</strong> package, to comply with <a href="https://wiki.tcl-lang.org/page/How+to+build+good+packages" >How to build good packages</a> (&quot;avoid simple, obvious names for your namespace&quot;).</p>
<p class='ruff'>Let it be a sort of <strong>a-pave</strong>.</p>
<p class='ruff'>The details are in <a href="https://aplsimple.github.io/en/tcl/pave" >Description</a>.</p>
<br><h2 class='ruff'><a name='::apave-Commands'></a>Commands<span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><br><h4 class='ruffproc'><a name='::apave::autoexec'>autoexec</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Imitates Tcl's auto_execok.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>autoexec</span> <span class='ruff_arg'>comm ?ext?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>comm</code></code></td><td class='ruff_defitem'>a command to find</td></tr>
<tr><td class='ruff_defitem'><code><code>ext</code></code></td><td class='ruff_defitem'>file's extension (for Windows); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If it doesn't get the command from Tcl's auto_execok, it tries to knock at its file by itself.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_autoexec' href="javascript:toggleSource('apave_autoexec')">Show source</a></p>
<div id='apave_autoexec' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::autoexec {comm {ext {}}} {
  # Imitates Tcl's auto_execok.
  #   comm - a command to find
  #   ext - file's extension (for Windows)
  # If it doesn't get the command from Tcl's auto_execok,
  # it tries to knock at its file by itself.

  if {$ext ne {} &amp;&amp; [::iswindows]} {append comm $ext}
  set res [auto_execok $comm]
  if {$res eq {} &amp;&amp; [file exists $comm]} {
    set res $comm
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::bindCantagToEvent'>bindCantagToEvent</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds an event on a canvas tag to a command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>bindCantagToEvent</span> <span class='ruff_arg'>w tag event ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tag</code></code></td><td class='ruff_defitem'>the tag</td></tr>
<tr><td class='ruff_defitem'><code><code>event</code></code></td><td class='ruff_defitem'>the event</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>the command</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_bindCantagToEvent' href="javascript:toggleSource('apave_bindCantagToEvent')">Show source</a></p>
<div id='apave_bindCantagToEvent' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::bindCantagToEvent {w tag event args} {
  # Binds an event on a canvas tag to a command.
  #   w - the widget's path
  #   tag - the tag
  #   event - the event
  #   args - the command

  ::baltip::my::BindCantagToEvent $w $tag $event {*}$args
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::bindTextagToEvent'>bindTextagToEvent</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds an event on a text tag to a command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>bindTextagToEvent</span> <span class='ruff_arg'>w tag event ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tag</code></code></td><td class='ruff_defitem'>the tag</td></tr>
<tr><td class='ruff_defitem'><code><code>event</code></code></td><td class='ruff_defitem'>the event</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>the command</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_bindTextagToEvent' href="javascript:toggleSource('apave_bindTextagToEvent')">Show source</a></p>
<div id='apave_bindTextagToEvent' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::bindTextagToEvent {w tag event args} {
  # Binds an event on a text tag to a command.
  #   w - the widget's path
  #   tag - the tag
  #   event - the event
  #   args - the command

  ::baltip::my::BindTextagToEvent $w $tag $event {*}$args
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::bindToEvent'>bindToEvent</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Binds an event on a widget to a command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>bindToEvent</span> <span class='ruff_arg'>w event ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>event</code></code></td><td class='ruff_defitem'>the event</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>the command</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_bindToEvent' href="javascript:toggleSource('apave_bindToEvent')">Show source</a></p>
<div id='apave_bindToEvent' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::bindToEvent {w event args} {
  # Binds an event on a widget to a command.
  #   w - the widget's path
  #   event - the event
  #   args - the command

  ::baltip::my::BindToEvent $w $event {*}$args
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::blinkWidget'>blinkWidget</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a widget blink.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>blinkWidget</span> <span class='ruff_arg'>w ?fg? ?bg? ?fg2? ?bg2? ?pause? ?count? ?mode?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>fg</code></code></td><td class='ruff_defitem'>normal foreground color; <i>optional, default</i> <code>#000</code></td></tr>
<tr><td class='ruff_defitem'><code><code>bg</code></code></td><td class='ruff_defitem'>normal background color; <i>optional, default</i> <code>#fff</code></td></tr>
<tr><td class='ruff_defitem'><code><code>fg2</code></code></td><td class='ruff_defitem'>blinking foreground color (if {}, stops the blinking); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>bg2</code></code></td><td class='ruff_defitem'>blinking background color; <i>optional, default</i> <code>red</code></td></tr>
<tr><td class='ruff_defitem'><code><code>pause</code></code></td><td class='ruff_defitem'>pause in millisec between blinkings; <i>optional, default</i> <code>1000</code></td></tr>
<tr><td class='ruff_defitem'><code><code>count</code></code></td><td class='ruff_defitem'>means how many times do blinking; <i>optional, default</i> <code>-1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>for recursive calls; <i>optional, default</i> <code>1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_blinkWidget' href="javascript:toggleSource('apave_blinkWidget')">Show source</a></p>
<div id='apave_blinkWidget' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::blinkWidget {w {fg #000} {bg #fff} {fg2 {}} {bg2 red} {pause 1000} {count -1} {mode 1}} {
  # Makes a widget blink.
  #   w - the widget's path
  #   fg - normal foreground color
  #   bg - normal background color
  #   fg2 - blinking foreground color (if {}, stops the blinking)
  #   bg2 - blinking background color
  #   pause - pause in millisec between blinkings
  #   count - means how many times do blinking
  #   mode - for recursive calls

  if {![winfo exists $w]} return
  if {$count==0 || $fg2 eq {}} {
    catch {after cancel $::apave::BLINKWIDGET1}
    catch {after cancel $::apave::BLINKWIDGET2}
    after idle &quot;$w configure -foreground $fg; $w configure -background $bg&quot;
  } elseif {$mode==1} {
    incr count -1
    $w configure -foreground $fg2
    $w configure -background $bg2
    set ::apave::BLINKWIDGET1 [after  $pause ::apave::blinkWidget $w $fg $bg $fg2 $bg2 $pause $count 2]
  } elseif {$mode==2} {
    $w configure -foreground $fg
    $w configure -background $bg
    set ::apave::BLINKWIDGET2 [after  $pause ::apave::blinkWidget $w $fg $bg $fg2 $bg2 $pause $count 1]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::countChar'>countChar</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Counts a character in a string.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>countChar</span> <span class='ruff_arg'>str ch</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>str</code></code></td><td class='ruff_defitem'>a string</td></tr>
<tr><td class='ruff_defitem'><code><code>ch</code></code></td><td class='ruff_defitem'>a character</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a number of non-escaped occurences of character <em>ch</em> in string <em>str</em>.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="https://wiki.tcl-lang.org/page/Reformatting+Tcl+code+indentation" >wiki.tcl-lang.org</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_countChar' href="javascript:toggleSource('apave_countChar')">Show source</a></p>
<div id='apave_countChar' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::countChar {str ch} {
  # Counts a character in a string.
  #   str - a string
  #   ch - a character
  #
  # Returns a number of non-escaped occurences of character *ch* in
  # string *str*.
  #
  # See also:
  # [wiki.tcl-lang.org](https://wiki.tcl-lang.org/page/Reformatting+Tcl+code+indentation)

  set icnt 0
  while {[set idx [string first $ch $str]] &gt;= 0} {
    set backslashes 0
    set nidx $idx
    while {[string equal [string index $str [incr nidx -1]] \\]} {
      incr backslashes
    }
    if {$backslashes % 2 == 0} { incr icnt }
    set str [string range $str [incr idx] end]
  }
  return $icnt
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::cs_Active'>cs_Active</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets &quot;is changing CS possible&quot; flag for a whole application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Active</span> <span class='ruff_arg'>?flag?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>flag</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_cs_Active' href="javascript:toggleSource('apave_cs_Active')">Show source</a></p>
<div id='apave_cs_Active' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::cs_Active {{flag {}}} {
  # Gets/sets &quot;is changing CS possible&quot; flag for a whole application.

  if {[string is boolean -strict $flag]} {
    set ::apave::_CS_(isActive) $flag
  }
  return $::apave::_CS_(isActive)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::cs_Max'>cs_Max</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a maximum index of available color schemes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Max</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_cs_Max' href="javascript:toggleSource('apave_cs_Max')">Show source</a></p>
<div id='apave_cs_Max' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::cs_Max {} {
  # Gets a maximum index of available color schemes

  return [expr {[llength $::apave::_CS_(ALL)] - 1}]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::cs_MaxBasic'>cs_MaxBasic</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a maximum index of basic color schemes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_MaxBasic</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_cs_MaxBasic' href="javascript:toggleSource('apave_cs_MaxBasic')">Show source</a></p>
<div id='apave_cs_MaxBasic' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::cs_MaxBasic {} {
  # Gets a maximum index of basic color schemes

  return $::apave::_CS_(STDCS)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::cs_Min'>cs_Min</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a minimum index of available color schemes</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Min</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_cs_Min' href="javascript:toggleSource('apave_cs_Min')">Show source</a></p>
<div id='apave_cs_Min' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::cs_Min {} {
  # Gets a minimum index of available color schemes

  return $::apave::_CS_(MINCS)
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::cs_Non'>cs_Non</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets non-existent CS index</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>cs_Non</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_cs_Non' href="javascript:toggleSource('apave_cs_Non')">Show source</a></p>
<div id='apave_cs_Non' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::cs_Non {} {
  # Gets non-existent CS index

  return -3
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::defaultAttrs'>defaultAttrs</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets, gets or registers default options and attributes for widget type.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>defaultAttrs</span> <span class='ruff_arg'>?type? ?opts? ?atrs? ?widget?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>widget type; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>new default grid/pack options; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>atrs</code></code></td><td class='ruff_defitem'>new default attributes; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>widget</code></code></td><td class='ruff_defitem'>Tcl/Tk command for the new registered widget type; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::defaultATTRS" title="APaveBase::defaultATTRS" class='ruff_cmd'>APaveBase::defaultATTRS</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_defaultAttrs' href="javascript:toggleSource('apave_defaultAttrs')">Show source</a></p>
<div id='apave_defaultAttrs' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::defaultAttrs {{type {}} {opts {}} {atrs {}} {widget {}}} {
  # Sets, gets or registers default options and attributes for widget type.
  #   type - widget type
  #   opts - new default grid/pack options
  #   atrs - new default attributes
  #   widget - Tcl/Tk command for the new registered widget type
  # See also: APaveBase::defaultATTRS

  return [obj defaultATTRS $type $opts $atrs $widget]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::deiconify'>deiconify</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does 'deiconify' for a window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>deiconify</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the window's path</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::iconifyOption" title="iconifyOption" class='ruff_cmd'>iconifyOption</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_deiconify' href="javascript:toggleSource('apave_deiconify')">Show source</a></p>
<div id='apave_deiconify' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::deiconify {w} {
  # Does 'deiconify' for a window.
  #   w - the window's path
  # See also: iconifyOption

  switch -- [iconifyOption] {
    none {          ; # no withdraw/deiconify actions
    }
    Linux {         ; # do it for Linux
      catch {wm deiconify $w ; raise $w}
    }
    Windows {       ; # do it for Windows
      if {[wm attributes $w -alpha] &lt; 0.1} {wm attributes $w -alpha 1.0}
      catch {wm deiconify $w ; raise $w}
    }
    default {       ; # do it depending on the platform
      if {[::iswindows]} {
        if {[wm attributes $w -alpha] &lt; 0.1} {wm attributes $w -alpha 1.0}
      }
      catch {wm deiconify $w ; raise $w}
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::dlgPath'>dlgPath</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a current dialogue's path. In fact, it does the same as [my dlgPath], but it can be called outside of apave dialogue object (useful sometimes).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>dlgPath</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_dlgPath' href="javascript:toggleSource('apave_dlgPath')">Show source</a></p>
<div id='apave_dlgPath' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::dlgPath {} {
  # Gets a current dialogue's path.
  # In fact, it does the same as [my dlgPath], but it can be
  # called outside of apave dialogue object (useful sometimes).

  return $::apave::querydlg
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::endWM'>endWM</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finishes the window management by apave, closing and clearing all. Finishes the window management by apave, closing and clearing all.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>endWM</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>if any set, means &quot;ask if apave's WM is finished&quot;</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_endWM' href="javascript:toggleSource('apave_endWM')">Show source</a></p>
<div id='apave_endWM' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::endWM {args} {
  # Finishes the window management by apave, closing and clearing all.
  # Finishes the window management by apave, closing and clearing all.
  #   args - if any set, means &quot;ask if apave's WM is finished&quot;

  if {[llength $args]} {return [info exists ::apave::_CS_(endWM)]}
  set ::apave::_CS_(endWM) yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::error'>error</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the error's message at reading/writing.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>error</span> <span class='ruff_arg'>?fileName?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fileName</code></code></td><td class='ruff_defitem'>if set, return a full error messageat opening file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_error' href="javascript:toggleSource('apave_error')">Show source</a></p>
<div id='apave_error' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::error {{fileName {}}} {
  # Gets the error's message at reading/writing.
  #   fileName - if set, return a full error messageat opening file

  variable _PU_opts
  if {$fileName eq &quot;&quot;} {
    return $_PU_opts(_ERROR_)
  }
  return &quot;Error of access to\n\&quot;$fileName\&quot;\n\n$_PU_opts(_ERROR_)&quot;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::eventOnText'>eventOnText</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Generates an event on a text, saving its current index in hl_tcl.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>eventOnText</span> <span class='ruff_arg'>w ev</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ev</code></code></td><td class='ruff_defitem'>event</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The hl_tcl needs to call MemPos before any action changing the text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_eventOnText' href="javascript:toggleSource('apave_eventOnText')">Show source</a></p>
<div id='apave_eventOnText' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::eventOnText {w ev} {
  # Generates an event on a text, saving its current index in hl_tcl.
  #   w - text widget's path
  #   ev - event
  # The hl_tcl needs to call MemPos before any action changing the text.

  catch {::hl_tcl::my::MemPos $w}
  if {[catch {$w tag ranges sel} sels]} {set sels [list]}
  switch -exact -- $ev {
    &lt;&lt;Cut&gt;&gt; - &lt;&lt;Copy&gt;&gt; {
      if {[set llen [expr {[llength $sels]-1}]] &lt; 2} return
      # multiple ranges of selection:
      # first, copy all selections to clipboard
      clipboard clear -displayof $w
      foreach {pos1 pos2} $sels {
        clipboard append -displayof $w [$w get $pos1 $pos2]
      }
      if {$ev eq {&lt;&lt;Cut&gt;&gt;}} {
        # for Cut event: delete all selections
        for {set i $llen} {$i&gt;0} {incr i -2} {
          set pos1 [lindex $sels $i-1]
          set pos2 [lindex $sels $i]
          $w delete $pos1 $pos2
        }
      }
      return -code break
    }
    default {
      event generate $w $ev
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::extractOptions'>extractOptions</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets options' values and removes the options from the input list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>extractOptions</span> <span class='ruff_arg'>optsVar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>optsVar</code></code></td><td class='ruff_defitem'>variable name for the list of options and values</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of &quot;option / default value&quot; pairs</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of options' values, according to args.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::parseOptions" title="parseOptions" class='ruff_cmd'>parseOptions</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_extractOptions' href="javascript:toggleSource('apave_extractOptions')">Show source</a></p>
<div id='apave_extractOptions' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::extractOptions {optsVar args} {
  # Gets options' values and removes the options from the input list.
  #  optsVar - variable name for the list of options and values
  #  args  - list of &quot;option / default value&quot; pairs
  # Returns a list of options' values, according to args.
  # See also: parseOptions

  upvar 1 $optsVar opts
  set retlist [::apave::parseOptions $opts {*}$args]
  foreach {o v} $args {
    set opts [::apave::removeOptions $opts $o]
  }
  return $retlist
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::focusedWidget'>focusedWidget</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a flag &quot;is a widget can be focused&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>focusedWidget</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>widget's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_focusedWidget' href="javascript:toggleSource('apave_focusedWidget')">Show source</a></p>
<div id='apave_focusedWidget' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::focusedWidget {w} {
  # Gets a flag &quot;is a widget can be focused&quot;.
  #   w - widget's path

  set wclass [string tolower [winfo class $w]]
  foreach c [list entry text button box list view] {
    if {[string match *$c $wclass]} {
      if {[catch {set state [$w cget -state]}]} {set state normal}
      if {$state ne {disabled}} {
        if {[catch {set focus [$w cget -takefocus]}]} {set focus no}
        return [expr {![string is boolean -strict $focus] || $focus}]
      }
      break
    }
  }
  return no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::focusFirst'>focusFirst</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a focus on a first widget of a parent widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>focusFirst</span> <span class='ruff_arg'>w ?dofocus? ?res?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the parent widget</td></tr>
<tr><td class='ruff_defitem'><code><code>dofocus</code></code></td><td class='ruff_defitem'>if no, means &quot;only return the widget's path&quot; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>used for recursive call; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a path to a focused widget or &quot;&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_focusFirst' href="javascript:toggleSource('apave_focusFirst')">Show source</a></p>
<div id='apave_focusFirst' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::focusFirst {w {dofocus yes} {res {}}} {
  # Sets a focus on a first widget of a parent widget.
  #  w - the parent widget
  #  dofocus - if no, means &quot;only return the widget's path&quot;
  #  res - used for recursive call
  # Returns a path to a focused widget or &quot;&quot;.

  if {$w ne {}} {
    foreach w [winfo children $w] {
      if {[focusedWidget $w]} {
        if {$dofocus} {after 200 &quot;catch {focus -force $w}&quot;}
        return $w
      } else {
        if {[set res [focusFirst $w $dofocus]] ne {}} break
      }
    }
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::getN'>getN</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a number from a string</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getN</span> <span class='ruff_arg'>sn ?defn? ?min? ?max?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sn</code></code></td><td class='ruff_defitem'>string containing a number</td></tr>
<tr><td class='ruff_defitem'><code><code>defn</code></code></td><td class='ruff_defitem'>default value when sn is not a number; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>min</code></code></td><td class='ruff_defitem'>minimal value allowed; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>max</code></code></td><td class='ruff_defitem'>maximal value allowed; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_getN' href="javascript:toggleSource('apave_getN')">Show source</a></p>
<div id='apave_getN' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::getN {sn {defn 0} {min {}} {max {}}} {
  # Gets a number from a string
  #   sn - string containing a number
  #   defn - default value when sn is not a number
  #   min - minimal value allowed
  #   max - maximal value allowed

  if {$sn eq &quot;&quot; || [catch {set sn [expr {$sn}]}]} {set sn $defn}
  if {$max ne &quot;&quot;} {
    set sn [expr {min($max,$sn)}]
  }
  if {$min ne &quot;&quot;} {
    set sn [expr {max($min,$sn)}]
  }
  return $sn
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::getOption'>getOption</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Extracts one option from an option list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getOption</span> <span class='ruff_arg'>optname ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>optname</code></code></td><td class='ruff_defitem'>option name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>option list</td></tr>
</table>
<h5 class='ruff'>Description</h5><pre class='ruff'><br><code class="tcl">
set options [list -name some -value &quot;any value&quot; -tip &quot;some tip&quot;]
set optvalue [::apave::getOption -tip {*}$options]
<br></code></pre>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an option value or &quot;&quot;. Example:</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_getOption' href="javascript:toggleSource('apave_getOption')">Show source</a></p>
<div id='apave_getOption' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::getOption {optname args} {
  # Extracts one option from an option list.
  #   optname - option name
  #   args - option list
  # Returns an option value or &quot;&quot;.
  # Example:
  #     set options [list -name some -value &quot;any value&quot; -tip &quot;some tip&quot;]
  #     set optvalue [::apave::getOption -tip {*}$options]

  set optvalue [lindex [::apave::parseOptions $args $optname &quot;&quot;] 0]
  return $optvalue
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::getProperty'>getProperty</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a property's value as &quot;application-wide&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getProperty</span> <span class='ruff_arg'>name ?defvalue?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of property</td></tr>
<tr><td class='ruff_defitem'><code><code>defvalue</code></code></td><td class='ruff_defitem'>default value; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If the property had been set, the method returns its value. Otherwise, the method returns the default value (<code>$defvalue</code>).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_getProperty' href="javascript:toggleSource('apave_getProperty')">Show source</a></p>
<div id='apave_getProperty' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::getProperty {name {defvalue {}}} {
  # Gets a property's value as &quot;application-wide&quot;.
  #   name - name of property
  #   defvalue - default value
  # If the property had been set, the method returns its value.
  # Otherwise, the method returns the default value (`$defvalue`).

  variable _AP_Properties
  if {[info exists _AP_Properties($name)]} {
    return $_AP_Properties($name)
  }
  return $defvalue
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::getTextHotkeys'>getTextHotkeys</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets upper &amp; lower keys for a hot key.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>getTextHotkeys</span> <span class='ruff_arg'>key</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>key</code></code></td><td class='ruff_defitem'>the hot key</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_getTextHotkeys' href="javascript:toggleSource('apave_getTextHotkeys')">Show source</a></p>
<div id='apave_getTextHotkeys' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::getTextHotkeys {key} {
  # Gets upper &amp; lower keys for a hot key.
  #   key - the hot key

  variable _AP_VARS
  if {![info exist _AP_VARS(KEY,$key)]} {return [list]}
  set keys $_AP_VARS(KEY,$key)
  if {[llength $keys]==1} {
    if {[set i [string last - $keys]]&gt;0} {
      set lt [string range $keys $i+1 end]
      if {[string length $lt]==1} {  ;# for lower case of letters
        set keys &quot;[string range $keys 0 $i][string toupper $lt]&quot;
        lappend keys &quot;[string range $keys 0 $i][string tolower $lt]&quot;
      }
    }
  }
  return $keys
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::iconData'>iconData</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an icon's data.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>iconData</span> <span class='ruff_arg'>?icon? ?iconset?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon's name; <i>optional, default</i> <code>info</code></td></tr>
<tr><td class='ruff_defitem'><code><code>iconset</code></code></td><td class='ruff_defitem'>one of small/middle/large; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns data of the icon.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_iconData' href="javascript:toggleSource('apave_iconData')">Show source</a></p>
<div id='apave_iconData' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::iconData {{icon info} {iconset {}}} {
  # Gets an icon's data.
  #   icon - icon's name
  #   iconset - one of small/middle/large
  # Returns data of the icon.

  variable _AP_IMG
  iconImage -init
  if {$iconset ne {} &amp;&amp; &quot;_AP_IMG(img$icon-$iconset)&quot; in [image names]} {
    return [set _AP_IMG($icon-$iconset)]
  }
  return [set _AP_IMG($icon)]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::iconifyOption'>iconifyOption</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets &quot;-iconify&quot; option.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>iconifyOption</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>if contains no arguments, gets &quot;-iconify&quot; option; otherwise sets it</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Option values mean:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>none</code></td><td class='ruff_defitem'>do nothing: no withdraw/deiconify</td></tr>
<tr><td class='ruff_defitem'><code>Linux</code></td><td class='ruff_defitem'>do withdraw/deiconify for Linux</td></tr>
<tr><td class='ruff_defitem'><code>Windows</code></td><td class='ruff_defitem'>do withdraw/deiconify for Windows</td></tr>
<tr><td class='ruff_defitem'><code>default</code></td><td class='ruff_defitem'>do withdraw/deiconify depending on the platform</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::withdraw" title="withdraw" class='ruff_cmd'>withdraw</a>, <a href="apave.html#::apave::deiconify" title="deiconify" class='ruff_cmd'>deiconify</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_iconifyOption' href="javascript:toggleSource('apave_iconifyOption')">Show source</a></p>
<div id='apave_iconifyOption' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::iconifyOption {args} {
  # Gets/sets &quot;-iconify&quot; option.
  #   args - if contains no arguments, gets &quot;-iconify&quot; option; otherwise sets it
  # Option values mean:
  #   none - do nothing: no withdraw/deiconify
  #   Linux - do withdraw/deiconify for Linux
  #   Windows - do withdraw/deiconify for Windows
  #   default - do withdraw/deiconify depending on the platform
  # See also: withdraw, deiconify

  if {[llength $args]} {
    set iconify [::apave::obj setShowOption -iconify $args]
  } else {
    set iconify [::apave::obj getShowOption -iconify]
  }
  return $iconify
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::iconImage'>iconImage</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a defined icon's image or list of icons. If <em>icon</em> equals to &quot;-init&quot;, initializes apave's icon set.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>iconImage</span> <span class='ruff_arg'>?icon? ?iconset? ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon's name; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>iconset</code></code></td><td class='ruff_defitem'>one of small/middle/large; <i>optional, default</i> <code>small</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>force the initialization; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the icon's image or, if <em>icon</em> is blank, a list of icons available in <em>apave</em>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_iconImage' href="javascript:toggleSource('apave_iconImage')">Show source</a></p>
<div id='apave_iconImage' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::iconImage {{icon {}} {iconset small} {doit no}} {
  # Gets a defined icon's image or list of icons.
  # If *icon* equals to &quot;-init&quot;, initializes apave's icon set.
  #   icon - icon's name
  #   iconset - one of small/middle/large
  #   doit - force the initialization
  # Returns the icon's image or, if *icon* is blank, a list of icons
  # available in *apave*.

  variable _AP_IMG
  variable _AP_ICO
  if {$icon eq {}} {return $_AP_ICO}
  ; proc imagename {icon} {   # Get a defined icon's image name
    return _AP_IMG(img$icon)
  }
  variable apaveDir
  if {![array size _AP_IMG] || $doit} {
    # Make images of icons
    source [file join $apaveDir apaveimg.tcl]
    if {$iconset ne &quot;small&quot;} {
      foreach ic $_AP_ICO {  ;# small icons best fit for menus
        set _AP_IMG($ic-small) [set _AP_IMG($ic)]
      }
      if {$iconset eq &quot;middle&quot;} {
        source [file join $apaveDir apaveimg2.tcl]
      } else {
        source [file join $apaveDir apaveimg2.tcl] ;# TODO
      }
    }
    foreach ic $_AP_ICO {
      if {[catch {image create photo [imagename $ic] -data [set _AP_IMG($ic)]}]} {
        # some png issues on old Tk
        image create photo [imagename $ic] -data [set _AP_IMG(none)]
      } elseif {$iconset ne &quot;small&quot;} {
        image create photo [imagename $ic-small] -data [set _AP_IMG($ic-small)]
      }
    }
  }
  if {$icon eq &quot;-init&quot;} {return $_AP_ICO} ;# just to get to icons
  if {$icon ni $_AP_ICO} {set icon [lindex $_AP_ICO 0]}
  if {$iconset eq &quot;small&quot; &amp;&amp; &quot;_AP_IMG(img$icon-small)&quot; in [image names]} {
    set icon $icon-small
  }
  return [imagename $icon]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::InfoFind'>InfoFind</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches data of a window in a list of registered windows.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InfoFind</span> <span class='ruff_arg'>w modal</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>root window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>modal</code></code></td><td class='ruff_defitem'>yes, if the window is modal</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Returns: the window's path or &quot;&quot; if not found.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::InfoWindow" title="InfoWindow" class='ruff_cmd'>InfoWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_InfoFind' href="javascript:toggleSource('apave_InfoFind')">Show source</a></p>
<div id='apave_InfoFind' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::InfoFind {w modal} {
  # Searches data of a window in a list of registered windows.
  #   w - root window's path
  #   modal - yes, if the window is modal
  # Returns: the window's path or &quot;&quot; if not found.
  # See also: InfoWindow

  variable _PU_opts
  foreach winfo [lrange $_PU_opts(_MODALWIN_) 1 end] {  ;# skip 1st window
    incr i
    lassign $winfo w1 var1 modal1
    if {[winfo exists $w1]} {
      if {$w eq $w1 &amp;&amp; ($modal &amp;&amp; $modal1 || !$modal &amp;&amp; !$modal1)} {
        return $w1
      }
    } else {
      catch {set _PU_opts(_MODALWIN_) [lreplace $_PU_opts(_MODALWIN_) $i $i]}
    }
  }
  return {}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::InfoWindow'>InfoWindow</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers/unregisters windows. Also sets/gets 'count of open modal windows'.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InfoWindow</span> <span class='ruff_arg'>?val? ?w? ?modal? ?var? ?regist?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>current number of open modal windows; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>root window's path; <i>optional, default</i> <code>.</code></td></tr>
<tr><td class='ruff_defitem'><code><code>modal</code></code></td><td class='ruff_defitem'>yes, if the window is modal; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>var</code></code></td><td class='ruff_defitem'>variable's name for tkwait; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>regist</code></code></td><td class='ruff_defitem'>yes or no for registering/unregistering; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::showWindow" title="APaveBase::showWindow" class='ruff_cmd'>APaveBase::showWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_InfoWindow' href="javascript:toggleSource('apave_InfoWindow')">Show source</a></p>
<div id='apave_InfoWindow' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::InfoWindow {{val {}} {w .} {modal no} {var {}} {regist no}} {
  # Registers/unregisters windows. Also sets/gets 'count of open modal windows'.
  #   val - current number of open modal windows
  #   w - root window's path
  #   modal - yes, if the window is modal
  #   var - variable's name for tkwait
  #   regist - yes or no for registering/unregistering
  # See also: APaveBase::showWindow

  variable _PU_opts
  if {$modal || $regist} {
    set info [list $w $var $modal]
    set i [lsearch -exact $_PU_opts(_MODALWIN_) $info]
    catch {set _PU_opts(_MODALWIN_) [lreplace $_PU_opts(_MODALWIN_) $i $i]}
    if {$regist} {
      lappend _PU_opts(_MODALWIN_) $info
    }
    set res [IntStatus . MODALS $val]
  } else {
    set res [IntStatus . MODALS]
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::InitAwThemesPath'>InitAwThemesPath</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes the path to awthemes package.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitAwThemesPath</span> <span class='ruff_arg'>libdir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>libdir</code></code></td><td class='ruff_defitem'>root directory of themes (where 'theme' subdirectory is)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_InitAwThemesPath' href="javascript:toggleSource('apave_InitAwThemesPath')">Show source</a></p>
<div id='apave_InitAwThemesPath' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::InitAwThemesPath {libdir} {
  # Initializes the path to awthemes package.
  #   libdir - root directory of themes (where 'theme' subdirectory is)

  global auto_path
  set awpath [file join $libdir theme awthemes-10.4.0]
  if {[lindex $auto_path 0] ne $awpath} {
    set auto_path [linsert $auto_path 0 $awpath]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::initBaltip'>initBaltip</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes baltip package.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initBaltip</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_initBaltip' href="javascript:toggleSource('apave_initBaltip')">Show source</a></p>
<div id='apave_initBaltip' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::initBaltip {} {
  # Initializes baltip package.

  if {[info command ::baltip] eq {}} {
    if {$::apave::ISBALTIP} {
      source [file join $::apave::SRCDIR baltip baltip.tcl]
    } else {
      # disabling baltip facilities with stub proc (no source &quot;baltip.src&quot;)
      namespace eval ::baltip {
        variable expproc [list configure cget tip update hide repaint  optionlist tippath clear sleep showBalloon showTip]
        foreach _ $expproc {
        ; proc $_ {args} {return {}}
          namespace export $_
        }
        namespace ensemble create
        namespace eval my {
        ; proc BindToEvent {args} {}
        }
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::initPOP'>initPOP</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes system popup menu (if possible) to call it in a window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initPOP</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>window's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_initPOP' href="javascript:toggleSource('apave_initPOP')">Show source</a></p>
<div id='apave_initPOP' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::initPOP {w} {
  # Initializes system popup menu (if possible) to call it in a window.
  #   w - window's name

  bind $w &lt;KeyPress&gt; {
    if {&quot;%K&quot; eq &quot;Menu&quot;} {
      if {[winfo exists [set w [focus]]]} {
        event generate $w &lt;Button-3&gt; -rootx [winfo pointerx .]  -rooty [winfo pointery .]
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::initStyle'>initStyle</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes a style for a widget type, e.g. button's.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initStyle</span> <span class='ruff_arg'>wt wbase ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wt</code></code></td><td class='ruff_defitem'>target widget type</td></tr>
<tr><td class='ruff_defitem'><code><code>wbase</code></code></td><td class='ruff_defitem'>base widget type</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of the style</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_initStyle' href="javascript:toggleSource('apave_initStyle')">Show source</a></p>
<div id='apave_initStyle' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::initStyle {wt wbase args} {
  # Initializes a style for a widget type, e.g. button's.
  #   wt - target widget type
  #   wbase - base widget type
  #   args - options of the style

  ttk::style configure $wt {*}[ttk::style configure $wbase]
  ttk::style configure $wt {*}$args
  ttk::style map       $wt {*}[ttk::style map $wbase]
  ttk::style layout    $wt [ttk::style layout $wbase]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::initStyles'>initStyles</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes miscellaneous styles, e.g. button's.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initStyles</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_initStyles' href="javascript:toggleSource('apave_initStyles')">Show source</a></p>
<div id='apave_initStyles' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::initStyles {} {
  # Initializes miscellaneous styles, e.g. button's.

  obj create_Fonts
  initStyle TButtonWest TButton -anchor w -font $::apave::FONTMAIN
  initStyle TButtonBold TButton -font $::apave::FONTMAINBOLD
  initStyle TButtonWestBold TButton -anchor w -font $::apave::FONTMAINBOLD
  initStyle TButtonWestHL TButton -anchor w -foreground [lindex [obj csGet] 4]
  initStyle TMenuButtonWest TMenubutton -anchor w -font $::apave::FONTMAIN -relief raised
  initStyle TreeNoHL Treeview -borderwidth 0
  lassign [obj csGet] - - - - thlp tbgS tfgS - - bclr
  ttk::style map TreeNoHL {*}[ttk::style map Treeview]  -foreground [list {selected focus} $tfgS {selected !focus} $tfgS]  -background [list {selected focus} $tbgS {selected !focus} $tbgS]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::initStylesFS'>initStylesFS</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes miscellaneous styles, e.g. button's.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initStylesFS</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>font options (&quot;name value&quot; pairs)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_initStylesFS' href="javascript:toggleSource('apave_initStylesFS')">Show source</a></p>
<div id='apave_initStylesFS' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::initStylesFS {args} {
  # Initializes miscellaneous styles, e.g. button's.
  #   args - font options (&quot;name value&quot; pairs)

  ::apave::obj create_Fonts
  set font  &quot;$::apave::FONTMAIN $args&quot;
  set fontB &quot;$::apave::FONTMAINBOLD $args&quot;

  initStyle TLabelFS TLabel -font $font
  initStyle TCheckbuttonFS TCheckbutton -font $font
  initStyle TComboboxFS TCombobox -font $font
  initStyle TRadiobuttonFS TRadiobutton -font $font
  initStyle TButtonWestFS TButton -anchor w -font $font
  initStyle TButtonBoldFS TButton -font $fontB
  initStyle TButtonWestBoldFS TButton -anchor w -font $fontB
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::InitTheme'>InitTheme</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes app's theme.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InitTheme</span> <span class='ruff_arg'>intheme libdir</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>intheme</code></code></td><td class='ruff_defitem'>name of the theme</td></tr>
<tr><td class='ruff_defitem'><code><code>libdir</code></code></td><td class='ruff_defitem'>root directory of themes (where 'theme' subdirectory is)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of theme name and label's border (for status bar). The returned values are used in ::apave::initWM procedure.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_InitTheme' href="javascript:toggleSource('apave_InitTheme')">Show source</a></p>
<div id='apave_InitTheme' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::InitTheme {intheme libdir} {
  # Initializes app's theme.
  #   intheme - name of the theme
  #   libdir - root directory of themes (where 'theme' subdirectory is)
  # Returns a list of theme name and label's border (for status bar).
  # The returned values are used in ::apave::initWM procedure.

  set theme {}
  switch -glob -- $intheme {
    azure* - sun-valley* {
      set i [string last - $intheme]
      set name [string range $intheme 0 $i-1]
      set type [string range $intheme $i+1 end]
      catch {source [file join $libdir theme $name $name.tcl]}
      catch {
        set_theme $type
        set theme $intheme
      }
      set lbd 0
    }
    forest* {
      set i [string last - $intheme]
      set name [string range $intheme 0 $i-1]
      set type [string range $intheme $i+1 end]
      catch {
        source [file join $libdir theme $name $intheme.tcl]
        set theme $intheme
      }
      set lbd 0
    }
    awdark - awlight {
      catch {package forget ttk::theme::$intheme}
      catch {namespace delete ttk::theme::$intheme}
      catch {package forget awthemes}
      catch {namespace delete awthemes}
      InitAwThemesPath $libdir
      package require awthemes
      package require ttk::theme::$intheme
      set theme $intheme
      set lbd 1
    }
    plastik - lightbrown - darkbrown {
      set path [file join $libdir theme $intheme]
      source [file join $path $intheme.tcl]
      set theme $intheme
      set lbd 1
    }
    default {
      set theme $intheme
      set lbd 1
    }
  }
  return [list $theme $lbd]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::initWM'>initWM</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes Tcl/Tk session. Used to be called at the beginning of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>initWM</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options (&quot;name value&quot; pairs)</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args eq &quot;?&quot;, return a flag &quot;need to call initWM&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_initWM' href="javascript:toggleSource('apave_initWM')">Show source</a></p>
<div id='apave_initWM' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::initWM {args} {
  # Initializes Tcl/Tk session. Used to be called at the beginning of it.
  #   args - options (&quot;name value&quot; pairs)
  # If args eq &quot;?&quot;, return a flag &quot;need to call initWM&quot;

  if {$args eq {?}} {return $::apave::_CS_(initWM)}
  if {!$::apave::_CS_(initWM)} return
  ::apave::withdraw .
  ::apave::place . 0 0 center
  lassign [parseOptions $args -cursorwidth $::apave::cursorwidth -theme default  -buttonwidth -8 -buttonborder 1 -labelborder 0 -padding 1 -cs -2 -isbaltip yes]  cursorwidth theme buttonwidth buttonborder labelborder padding cs ::apave::ISBALTIP
  initBaltip
  if {$theme eq {}} {set theme default}
  if {$cs&lt;-2 || $cs&gt;47} {set cs -2}
  set ::apave::_CS_(initWM) 0
  set ::apave::_CS_(CURSORWIDTH) $cursorwidth
  set ::apave::_CS_(LABELBORDER) $labelborder
  # for default theme: only most common settings
  set tfg1 $::apave::_CS_(!FG)
  set tbg1 $::apave::_CS_(!BG)
  if {$theme ne {} &amp;&amp; [catch {ttk::style theme use $theme}]} {
    catch {ttk::style theme use default}
  }
  ttk::style map .  -selectforeground [list !focus $tfg1 {focus active} $tfg1]  -selectbackground [list !focus $tbg1 {focus active} $tbg1]
  ttk::style configure . -selectforeground	$tfg1 -selectbackground	$tbg1

  # configure separate widget types
  ttk::style configure TButton -anchor center -width $buttonwidth  -relief raised -borderwidth $buttonborder -padding $padding
  ttk::style configure TMenubutton -width 0 -padding 0
  # TLabel's standard style saved for occasional uses
  initStyle TLabelSTD TLabel -anchor w
  # ... TLabel new style
  ttk::style configure TLabel -borderwidth $labelborder -padding $padding
  # ... Treeview colors
  set twfg [ttk::style map Treeview -foreground]
  set twfg [putOption selected $tfg1 {*}$twfg]
  set twbg [ttk::style map Treeview -background]
  set twbg [putOption selected $tbg1 {*}$twbg]
  ttk::style map Treeview -foreground $twfg
  ttk::style map Treeview -background $twbg
  # ... TCombobox colors
  ttk::style map TCombobox -fieldforeground [list {active focus} $tfg1 readonly $tfg1 disabled grey]
  ttk::style map TCombobox -fieldbackground [list {active focus} $tbg1 {readonly focus} $tbg1 {readonly !focus} white]
  initStyles
  initPOP .
  if {$cs!=-2} {obj csSet $cs}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::InsertChar'>InsertChar</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Inserts character(s) into a text at cursor's position.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>InsertChar</span> <span class='ruff_arg'>wt ch</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>ch</code></code></td><td class='ruff_defitem'>character(s)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_InsertChar' href="javascript:toggleSource('apave_InsertChar')">Show source</a></p>
<div id='apave_InsertChar' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::InsertChar {wt ch} {
  # Inserts character(s) into a text at cursor's position.
  #   wt - text's path
  #   ch - character(s)

  $wt insert [$wt index insert] $ch
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::IntStatus'>IntStatus</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a status of window. The status is an integer assigned to a name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>IntStatus</span> <span class='ruff_arg'>w ?name? ?val?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of status; <i>optional, default</i> <code>status</code></td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>if blank, to get a value of status; otherwise a value to set; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Default value of status is 0.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an old value of status.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::WindowStatus" title="WindowStatus" class='ruff_cmd'>WindowStatus</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_IntStatus' href="javascript:toggleSource('apave_IntStatus')">Show source</a></p>
<div id='apave_IntStatus' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::IntStatus {w {name status} {val {}}} {
  # Sets/gets a status of window. The status is an integer assigned to a name.
  #   w - window's path
  #   name - name of status
  #   val - if blank, to get a value of status; otherwise a value to set
  # Default value of status is 0.
  # Returns an old value of status.
  # See also: WindowStatus

  set old [WindowStatus $w $name {} 0]
  if {$val ne {}} {WindowStatus $w $name $val 1}
  return $old
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::KeyAccelerator'>KeyAccelerator</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a key accelerator.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>KeyAccelerator</span> <span class='ruff_arg'>acc</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>acc</code></code></td><td class='ruff_defitem'>key name, may contain 2 items (e.g. Control-D Control-d)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a key accelerator.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_KeyAccelerator' href="javascript:toggleSource('apave_KeyAccelerator')">Show source</a></p>
<div id='apave_KeyAccelerator' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::KeyAccelerator {acc} {
  # Returns a key accelerator.
  #   acc - key name, may contain 2 items (e.g. Control-D Control-d)

  set acc [lindex $acc 0]
  return [string map {Control Ctrl - + bracketleft [ bracketright ]} $acc]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::LbxSelect'>LbxSelect</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a listbox item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>LbxSelect</span> <span class='ruff_arg'>w idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>listbox's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>item index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_LbxSelect' href="javascript:toggleSource('apave_LbxSelect')">Show source</a></p>
<div id='apave_LbxSelect' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::LbxSelect {w idx} {
  # Selects a listbox item.
  #   w - listbox's path
  #   idx - item index

  $w activate $idx
  $w see $idx
  if {[$w cget -selectmode] in {single browse}} {
    $w selection clear 0 end
    $w selection set $idx
    event generate $w &lt;&lt;ListboxSelect&gt;&gt;
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::logMessage'>logMessage</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Logs messages to a log file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>logMessage</span> <span class='ruff_arg'>msg ?lev?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
<tr><td class='ruff_defitem'><code><code>lev</code></code></td><td class='ruff_defitem'>maximum level for [info level] to introspect calls; <i>optional, default</i> <code>16</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>A log file's name is set by _PU_opts(_LOGFILE_). If it's blank, no logging is made.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_logMessage' href="javascript:toggleSource('apave_logMessage')">Show source</a></p>
<div id='apave_logMessage' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::logMessage {msg {lev 16}} {
  # Logs messages to a log file.
  #   msg - the message
  #   lev - maximum level for [info level] to introspect calls
  # A log file's name is set by _PU_opts(_LOGFILE_). If it's blank,
  # no logging is made.

  variable _PU_opts;
  if {$_PU_opts(_LOGFILE_) eq {}} return
  set chan [open $_PU_opts(_LOGFILE_) a]
  set dt [clock format [clock seconds] -format {%d%b'%y %T}]
  set msg &quot;$dt $msg&quot;
  for {set i $lev} {$i&gt;0} {incr i -1} {
    catch {
      lassign [info level -$i] p1 p2
      if {$p1 eq {my}} {append p1 &quot; $p2&quot;}
      append msg &quot; / $p1&quot;
    }
  }
  puts $chan $msg
  close $chan
  puts &quot;$_PU_opts(_LOGFILE_) - $msg&quot;
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::logName'>logName</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a log file's name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>logName</span> <span class='ruff_arg'>fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If fname is {}, disables logging.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_logName' href="javascript:toggleSource('apave_logName')">Show source</a></p>
<div id='apave_logName' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::logName {fname} {
  # Sets a log file's name.
  #   fname - file name
  # If fname is {}, disables logging.

  variable _PU_opts;
  set _PU_opts(_LOGFILE_) [file normalize $fname]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::lsearchFile'>lsearchFile</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a file name in a list, using normalized file names.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>lsearchFile</span> <span class='ruff_arg'>flist fname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>flist</code></code></td><td class='ruff_defitem'>list of file names</td></tr>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>file name to find</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an index of found file name or -1 if it's not found.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_lsearchFile' href="javascript:toggleSource('apave_lsearchFile')">Show source</a></p>
<div id='apave_lsearchFile' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::lsearchFile {flist fname} {
  # Searches a file name in a list, using normalized file names.
  #   flist - list of file names
  #   fname - file name to find
  # Returns an index of found file name or -1 if it's not found.

  set i 0
  set fname [file normalize $fname]
  foreach fn $flist {
    if {[file normalize $fn] eq $fname} {
      return $i
    }
    incr i
  }
  return -1
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::mainWindowOfApp'>mainWindowOfApp</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a main window of application.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>mainWindowOfApp</span> <span class='ruff_arg'>?win?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This should be run at application start, before opening any window.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_mainWindowOfApp' href="javascript:toggleSource('apave_mainWindowOfApp')">Show source</a></p>
<div id='apave_mainWindowOfApp' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::mainWindowOfApp {{win {}}} {
  # Sets/gets a main window of application.
  #   win - window's path
  # This should be run at application start, before opening any window.

  return [WindowStatus . MAIN_WINDOW_OF_APP $win]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::mc'>mc</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a localized version of a message.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>mc</span> <span class='ruff_arg'>msg</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>the message</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_mc' href="javascript:toggleSource('apave_mc')">Show source</a></p>
<div id='apave_mc' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::mc {msg} {
  # Gets a localized version of a message.
  #   msg - the message

  variable _MC_
  if {[info exists _MC_($msg)]} {return $_MC_($msg)}
  return $msg
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::msgcatDialogs'>msgcatDialogs</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Prepares localized messages used in dialogues.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>msgcatDialogs</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_msgcatDialogs' href="javascript:toggleSource('apave_msgcatDialogs')">Show source</a></p>
<div id='apave_msgcatDialogs' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::msgcatDialogs {} {
  # Prepares localized messages used in dialogues.

  variable msgarray
  foreach n [array names msgarray] {
    set msgarray($n) [msgcat::mc $msgarray($n)]
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::obj'>obj</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Calls a method of APave class.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>obj</span> <span class='ruff_arg'>com ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>com</code></code></td><td class='ruff_defitem'>a method</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>arguments of the method</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It can (and must) be used only for temporary tasks. For persistent tasks, use a &quot;normal&quot; apave object.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the command's result.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_obj' href="javascript:toggleSource('apave_obj')">Show source</a></p>
<div id='apave_obj' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::obj {com args} {
  # Calls a method of APave class.
  #   com - a method
  #   args - arguments of the method
  #
  # It can (and must) be used only for temporary tasks.
  # For persistent tasks, use a &quot;normal&quot; apave object.
  #
  # Returns the command's result.

  variable _OBJ_
  if {$_OBJ_ eq {}} {set _OBJ_ [::apave::APave new]}
  if {[set exported [expr {$com eq &quot;EXPORT&quot;}]]} {
    set com [lindex $args 0]
    set args [lrange $args 1 end]
    oo::objdefine $_OBJ_ &quot;export $com&quot;
  }
  set res [$_OBJ_ $com {*}$args]
  if {$exported} {
    oo::objdefine $_OBJ_ &quot;unexport $com&quot;
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::openDoc'>openDoc</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Opens a document.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>openDoc</span> <span class='ruff_arg'>url</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>url</code></code></td><td class='ruff_defitem'>document's file name, www link, e-mail etc.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_openDoc' href="javascript:toggleSource('apave_openDoc')">Show source</a></p>
<div id='apave_openDoc' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::openDoc {url} {
  # Opens a document.
  #   url - document's file name, www link, e-mail etc.

  set commands {xdg-open open start}
  foreach opener $commands {
    if {$opener eq &quot;start&quot;} {
      set command [list {*}[auto_execok start] {}]
    } else {
      set command [auto_execok $opener]
    }
    if {[string length $command]} {
      break
    }
  }
  if {[string length $command] == 0} {
    puts &quot;ERROR: couldn't find any opener&quot;
  }
  # remove the tailing &quot; &amp;&quot; (as e_menu can set)
  set url [string trimright $url]
  if {[string match &quot;* &amp;&quot; $url]} {set url [string range $url 0 end-2]}
  set url [string trim $url]
  if {[catch {exec -- {*}$command $url &amp;} error]} {
    puts &quot;ERROR: couldn't execute '$command':\n$error&quot;
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::parseOptions'>parseOptions</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Parses argument list containing options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>parseOptions</span> <span class='ruff_arg'>opts ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>list of options and values</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of &quot;option / default value&quot; pairs</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It's the same as parseOptionsFile, excluding the file name stuff.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of options' values, according to args.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::parseOptionsFile" title="parseOptionsFile" class='ruff_cmd'>parseOptionsFile</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_parseOptions' href="javascript:toggleSource('apave_parseOptions')">Show source</a></p>
<div id='apave_parseOptions' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::parseOptions {opts args} {
  # Parses argument list containing options.
  #  opts - list of options and values
  #  args - list of &quot;option / default value&quot; pairs
  # It's the same as parseOptionsFile, excluding the file name stuff.
  # Returns a list of options' values, according to args.
  # See also: parseOptionsFile

  lassign [::apave::parseOptionsFile 0 $opts {*}$args] tmp
  foreach {nam val} $tmp {
    lappend retlist $val
  }
  return $retlist
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::parseOptionsFile'>parseOptionsFile</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Parses argument list containing options and (possibly) a file name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>parseOptionsFile</span> <span class='ruff_arg'>strict inpargs ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>strict</code></code></td><td class='ruff_defitem'>if 1, only 'args' options are allowed, all the rest of inpargs to be a file name - if 2, the 'args' options replace the appropriate options of 'inpargs'</td></tr>
<tr><td class='ruff_defitem'><code><code>inpargs</code></code></td><td class='ruff_defitem'>list of options, values and a file name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of default options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The inpargs list contains:</p>
<ul class='ruff'>
<li>option names beginning with &quot;-&quot;</li>
<li>option values following their names (may be missing)</li>
<li>&quot;--&quot; denoting the end of options</li>
<li>file name following the options (may be missing)</li>
</ul>
<p class='ruff'>The <em>args</em> parameter contains the pairs:</p>
<ul class='ruff'>
<li>option name (e.g., &quot;-dir&quot;)</li>
<li>option default value</li>
</ul>
<p class='ruff'>If the <em>args</em> option value is equal to =NONE=, the <em>inpargs</em> option is considered to be a single option without a value and, if present in inpargs, its value is returned as &quot;yes&quot;.</p>
<p class='ruff'>If any option of <em>inpargs</em> is absent in <em>args</em> and strict==1, the rest of <em>inpargs</em> is considered to be a file name.</p>
<p class='ruff'>The proc returns a list of two items:</p>
<ul class='ruff'>
<li>an option list got from args/inpargs according to 'strict'</li>
<li>a file name from inpargs or {} if absent</li>
</ul>
<p class='ruff'>Examples see in tests/obbit.test.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_parseOptionsFile' href="javascript:toggleSource('apave_parseOptionsFile')">Show source</a></p>
<div id='apave_parseOptionsFile' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::parseOptionsFile {strict inpargs args} {
  # Parses argument list containing options and (possibly) a file name.
  #   strict - if 0, 'args' options will be only counted for,
  #              other options are skipped
  #   strict - if 1, only 'args' options are allowed,
  #              all the rest of inpargs to be a file name
  #          - if 2, the 'args' options replace the
  #              appropriate options of 'inpargs'
  #   inpargs - list of options, values and a file name
  #   args  - list of default options
  #
  # The inpargs list contains:
  #   - option names beginning with &quot;-&quot;
  #   - option values following their names (may be missing)
  #   - &quot;--&quot; denoting the end of options
  #   - file name following the options (may be missing)
  #
  # The *args* parameter contains the pairs:
  #   - option name (e.g., &quot;-dir&quot;)
  #   - option default value
  #
  # If the *args* option value is equal to =NONE=, the *inpargs* option
  # is considered to be a single option without a value and,
  # if present in inpargs, its value is returned as &quot;yes&quot;.
  #
  # If any option of *inpargs* is absent in *args* and strict==1,
  # the rest of *inpargs* is considered to be a file name.
  #
  # The proc returns a list of two items:
  #   - an option list got from args/inpargs according to 'strict'
  #   - a file name from inpargs or {} if absent
  #
  # Examples see in tests/obbit.test.

  variable _PU_opts
  set actopts true
  array set argarray &quot;$args yes yes&quot; ;# maybe, tail option without value
  if {$strict==2} {
    set retlist $inpargs
  } else {
    set retlist $args
  }
  set retfile {}
  for {set i 0} {$i &lt; [llength $inpargs]} {incr i} {
    set parg [lindex $inpargs $i]
    if {$actopts} {
      if {$parg eq &quot;--&quot;} {
        set actopts false
      } elseif {[catch {set defval $argarray($parg)}]} {
        if {$strict==1} {
          set actopts false
          append retfile $parg &quot; &quot;
        } else {
          incr i
        }
      } else {
        if {$strict==2} {
          if {$defval == $_PU_opts(-NONE)} {
            set defval yes
          }
          incr i
        } else {
          if {$defval == $_PU_opts(-NONE)} {
            set defval yes
          } else {
            set defval [lindex $inpargs [incr i]]
          }
        }
        set ai [lsearch -exact $retlist $parg]
        incr ai
        set retlist [lreplace $retlist $ai $ai $defval]
      }
    } else {
      append retfile $parg &quot; &quot;
    }
  }
  return [list $retlist [string trimright $retfile]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::place'>place</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>place</span> <span class='ruff_arg'>path w h ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>path</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>h</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_place' href="javascript:toggleSource('apave_place')">Show source</a></p>
<div id='apave_place' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::place {path w h args} {
  update idletasks

  # If the window is not mapped, it may have any current size.
  # Then use required size, but bound it to the screen width.
  # This is mostly inexact, because any toolbars will still be removed
  # which may reduce size.
  if { $w == 0 &amp;&amp; [winfo ismapped $path] } {
    set w [winfo width $path]
  } else {
    if { $w == 0 } {
      set w [winfo reqwidth $path]
    }
    set vsw [winfo vrootwidth  $path]
    if { $w &gt; $vsw } { set w $vsw }
  }

  if { $h == 0 &amp;&amp; [winfo ismapped $path] } {
    set h [winfo height $path]
  } else {
    if { $h == 0 } {
      set h [winfo reqheight $path]
    }
    set vsh [winfo vrootheight $path]
    if { $h &gt; $vsh } { set h $vsh }
  }

  set arglen [llength $args]
  if { $arglen &gt; 3 } {
    return -code error &quot;apave::place: bad number of argument&quot;
  }

  if { $arglen &gt; 0 } {
    set where [lindex $args 0]
    set list  [list at center left right above below]
    set idx   [lsearch $list $where]
    if { $idx == -1 } {
      return -code error &quot;apave::place: bad position: $where $list&quot;
    }
    if { $idx == 0 } {
      set err [catch {
        # purposely removed the {} around these expressions - [PT]
        set x [expr int([lindex $args 1])]
        set y [expr int([lindex $args 2])]
      } e]
      if { $err } {
        return -code error &quot;apave::place: bad position: $e&quot;
      }
      if {$::tcl_platform(platform) eq {windows}} {
        # handle windows multi-screen. -100 != +-100
        if {[string index [lindex $args 1] 0] ne {-}} {
          set x +$x
        }
        if {[string index [lindex $args 2] 0] ne {-}} {
          set y +$y
        }
      } else {
        if { $x &gt;= 0 } {
          set x +$x
        }
        if { $y &gt;= 0 } {
          set y +$y
        }
      }
    } else {
      if { $arglen == 2 } {
        set widget [lindex $args 1]
        if { ![winfo exists $widget] } {
          return -code error &quot;apave::place: \&quot;$widget\&quot; does not exist&quot;
        }
      } else {
        set widget .
      }
      set sw [winfo screenwidth  $path]
      set sh [winfo screenheight $path]
      if { $idx == 1 } {
        if { $arglen == 2 } {
          # center to widget
          set x0 [expr {[winfo rootx $widget] + ([winfo width  $widget] - $w)/2}]
          set y0 [expr {[winfo rooty $widget] + ([winfo height $widget] - $h)/2}]
        } else {
          # center to screen
          set x0 [expr {($sw - $w)/2 - [winfo vrootx $path]}]
          set y0 [expr {($sh - $h)/2 - [winfo vrooty $path]}]
        }
        set x +$x0
        set y +$y0
        if {$::tcl_platform(platform) ne {windows}} {
          if { $x0+$w &gt; $sw } {set x {-0}; set x0 [expr {$sw-$w}]}
          if { $x0 &lt; 0 }      {set x {+0}}
          if { $y0+$h &gt; $sh } {set y {-0}; set y0 [expr {$sh-$h}]}
          if { $y0 &lt; 0 }      {set y {+0}}
        }
      } else {
        set x0 [winfo rootx $widget]
        set y0 [winfo rooty $widget]
        set x1 [expr {$x0 + [winfo width  $widget]}]
        set y1 [expr {$y0 + [winfo height $widget]}]
        if { $idx == 2 || $idx == 3 } {
          set y +$y0
          if {$::tcl_platform(platform) ne {windows}} {
            if { $y0+$h &gt; $sh } {set y {-0}; set y0 [expr {$sh-$h}]}
            if { $y0 &lt; 0 }      {set y {+0}}
          }
          if { $idx == 2 } {
            # try left, then right if out, then 0 if out
            if { $x0 &gt;= $w } {
              set x [expr {$x0-$w}]
            } elseif { $x1+$w &lt;= $sw } {
              set x +$x1
            } else {
              set x {+0}
            }
          } else {
            # try right, then left if out, then 0 if out
            if { $x1+$w &lt;= $sw } {
              set x +$x1
            } elseif { $x0 &gt;= $w } {
              set x [expr {$x0-$w}]
            } else {
              set x {-0}
            }
          }
        } else {
          set x +$x0
          if {$::tcl_platform(platform) ne {windows}} {
            if { $x0+$w &gt; $sw } {set x {-0}; set x0 [expr {$sw-$w}]}
            if { $x0 &lt; 0 }      {set x {+0}}
          }
          if { $idx == 4 } {
            # try top, then bottom, then 0
            if { $h &lt;= $y0 } {
              set y [expr {$y0-$h}]
            } elseif { $y1+$h &lt;= $sh } {
              set y +$y1
            } else {
              set y {+0}
            }
          } else {
            # try bottom, then top, then 0
            if { $y1+$h &lt;= $sh } {
              set y +$y1
            } elseif { $h &lt;= $y0 } {
              set y [expr {$y0-$h}]
            } else {
              set y {-0}
            }
          }
        }
      }
    }

    ## If there's not a + or - in front of the number, we need to add one.
    if {[string is integer [string index $x 0]]} { set x +$x }
    if {[string is integer [string index $y 0]]} { set y +$y }

    wm geometry $path &quot;${w}x${h}${x}${y}&quot;
  } else {
    wm geometry $path &quot;${w}x${h}&quot;
  }
  update idletasks
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::precedeWidgetName'>precedeWidgetName</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Adds a preceding name to a tail name of widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>precedeWidgetName</span> <span class='ruff_arg'>widname prename</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>widname</code></code></td><td class='ruff_defitem'>widget's full name</td></tr>
<tr><td class='ruff_defitem'><code><code>prename</code></code></td><td class='ruff_defitem'>preceding name</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Useful at getting a entry/button name of chooser.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_precedeWidgetName' href="javascript:toggleSource('apave_precedeWidgetName')">Show source</a></p>
<div id='apave_precedeWidgetName' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::precedeWidgetName {widname prename} {
  # Adds a preceding name to a tail name of widget.
  #   widname - widget's full name
  #   prename - preceding name
  # Useful at getting a entry/button name of chooser.

  # Example:
  #   set wentry [::apave::precedeWidgetName [$pobj DirToChoose] ent]
  # See also: APaveBase::Replace_chooser

  set p [string last . $widname]
  set res [string range $widname 0 $p]
  append res $prename [string range $widname $p+1 end]
  return $res
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::putOption'>putOption</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Replaces or adds one option to an option list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>putOption</span> <span class='ruff_arg'>optname optvalue ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>optname</code></code></td><td class='ruff_defitem'>option name</td></tr>
<tr><td class='ruff_defitem'><code><code>optvalue</code></code></td><td class='ruff_defitem'>option value</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>option list</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an updated option list.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_putOption' href="javascript:toggleSource('apave_putOption')">Show source</a></p>
<div id='apave_putOption' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::putOption {optname optvalue args} {
  # Replaces or adds one option to an option list.
  #   optname - option name
  #   optvalue - option value
  #   args - option list
  # Returns an updated option list.

  set optlist {}
  set doadd true
  foreach {a v} $args {
    if {$a eq $optname} {
      set v $optvalue
      set doadd false
    }
    lappend optlist $a $v
  }
  if {$doadd} {lappend optlist $optname $optvalue}
  return $optlist
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::readTextFile'>readTextFile</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Reads a text file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>readTextFile</span> <span class='ruff_arg'>fileName ?varName? ?doErr? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fileName</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>varName</code></code></td><td class='ruff_defitem'>variable name for file content or &quot;&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doErr</code></code></td><td class='ruff_defitem'>if 'true', exit at errors with error message; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns file contents or &quot;&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_readTextFile' href="javascript:toggleSource('apave_readTextFile')">Show source</a></p>
<div id='apave_readTextFile' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::readTextFile {fileName {varName {}} {doErr 0} args} {
  # Reads a text file.
  #   fileName - file name
  #   varName - variable name for file content or &quot;&quot;
  #   doErr - if 'true', exit at errors with error message
  # Returns file contents or &quot;&quot;.

  variable _PU_opts
  if {$varName ne {}} {upvar $varName fvar}
  if {[catch {set chan [open $fileName]} _PU_opts(_ERROR_)]} {
    if {$doErr} {error [::apave::error $fileName]}
    set fvar {}
  } else {
    set enc [::apave::getOption -encoding {*}$args]
    set eol [string tolower [::apave::getOption -translation {*}$args]]
    if {$eol eq {}} {set eol auto} ;# let EOL be autodetected by default
    ::apave::textChanConfigure $chan $enc $eol
    set fvar [read $chan]
    close $chan
    logMessage &quot;read $fileName&quot;
  }
  return $fvar
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::removeOptions'>removeOptions</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes some options from a list of options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>removeOptions</span> <span class='ruff_arg'>options ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>options</code></code></td><td class='ruff_defitem'>list of options and values</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of option names to remove</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <code>options</code> may contain &quot;key value&quot; pairs and &quot;alone&quot; options without values. To remove &quot;key value&quot; pairs, <code>key</code> should be an exact name. To remove an &quot;alone&quot; option, <code>key</code> should be a glob pattern with <code>*</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_removeOptions' href="javascript:toggleSource('apave_removeOptions')">Show source</a></p>
<div id='apave_removeOptions' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::removeOptions {options args} {
  # Removes some options from a list of options.
  #   options - list of options and values
  #   args - list of option names to remove
  # The `options` may contain &quot;key value&quot; pairs and &quot;alone&quot; options
  # without values.
  # To remove &quot;key value&quot; pairs, `key` should be an exact name.
  # To remove an &quot;alone&quot; option, `key` should be a glob pattern with `*`.

  foreach key $args {
    while {[incr maxi]&lt;99} {
      if {[set i [lsearch -exact $options $key]]&gt;-1} {
        catch {
          # remove a pair &quot;option value&quot;
          set options [lreplace $options $i $i]
          set options [lreplace $options $i $i]
        }
      } elseif {[string first * $key]&gt;=0 &amp;&amp;  [set i [lsearch -glob $options $key]]&gt;-1} {
        # remove an option only
        set options [lreplace $options $i $i]
      } else {
        break
      }
    }
  }
  return $options
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::repaintWindow'>repaintWindow</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a window and, optionally, focuses on a widget of it.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>repaintWindow</span> <span class='ruff_arg'>win ?wfoc?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>the window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>wfoc</code></code></td><td class='ruff_defitem'>the widget's path or a command to get it; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if the window is shown successfully.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_repaintWindow' href="javascript:toggleSource('apave_repaintWindow')">Show source</a></p>
<div id='apave_repaintWindow' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::repaintWindow {win {wfoc {}}} {
  # Shows a window and, optionally, focuses on a widget of it.
  #   win - the window's path
  #   wfoc - the widget's path or a command to get it
  # Returns yes, if the window is shown successfully.

  if {[winfo exists $win]} {
    # esp. for KDE
    if {[isKDE]} {
      wm withdraw $win
      wm deiconify $win
      # KDE is KDE, Tk is Tk, and never the twain shall meet
      wm attributes $win -topmost [wm attributes $win -topmost]
    }
    update
    if {$wfoc ne {}} {
      catch {set wfoc [{*}$wfoc]}
      focus $wfoc
    }
    return yes
  }
  return no
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::rootModalWindow'>rootModalWindow</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a parent modal window for a given one.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>rootModalWindow</span> <span class='ruff_arg'>pwin</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pwin</code></code></td><td class='ruff_defitem'>default parent</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_rootModalWindow' href="javascript:toggleSource('apave_rootModalWindow')">Show source</a></p>
<div id='apave_rootModalWindow' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::rootModalWindow {pwin} {
  # Gets a parent modal window for a given one.
  #   pwin - default parent

  set root $pwin
  foreach w [winfo children $pwin] {
    if {[winfo ismapped $w] &amp;&amp; [InfoFind $w yes] ne {}} {
      set root [winfo toplevel $w]
    }
  }
  return $root
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::setAppIcon'>setAppIcon</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets application's icon.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>setAppIcon</span> <span class='ruff_arg'>win ?winicon?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>path to a window of application</td></tr>
<tr><td class='ruff_defitem'><code><code>winicon</code></code></td><td class='ruff_defitem'>data of icon; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>winicon</em> may be a contents of variable (as supposed by default) or a file's name containing th image data. If it fails to find an image in either, no icon is set.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_setAppIcon' href="javascript:toggleSource('apave_setAppIcon')">Show source</a></p>
<div id='apave_setAppIcon' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::setAppIcon {win {winicon {}}} {
  # Sets application's icon.
  #   win - path to a window of application
  #   winicon - data of icon
  # The *winicon* may be a contents of variable (as supposed by default) or
  # a file's name containing th image data.
  # If it fails to find an image in either, no icon is set.

  set appIcon {}
  if {$winicon ne {}} {
    if {[catch {set appIcon [image create photo -data $winicon]}]} {
      catch {set appIcon [image create photo -file $winicon]}
    }
  }
  if {$appIcon ne {}} {wm iconphoto $win -default $appIcon}
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::setProperty'>setProperty</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a property's value as &quot;application-wide&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>setProperty</span> <span class='ruff_arg'>name ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of property</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>value of property</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>args</em> is omitted, the method returns a property's value. If <em>args</em> is set, the method sets a property's value as <code>$args</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_setProperty' href="javascript:toggleSource('apave_setProperty')">Show source</a></p>
<div id='apave_setProperty' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::setProperty {name args} {
  # Sets a property's value as &quot;application-wide&quot;.
  #   name - name of property
  #   args - value of property
  # If *args* is omitted, the method returns a property's value.
  # If *args* is set, the method sets a property's value as $args.

  variable _AP_Properties
  switch -exact [llength $args] {
    0 {return [getProperty $name]}
    1 {return [set _AP_Properties($name) [lindex $args 0]]}
  }
  puts -nonewline stderr  &quot;Wrong # args: should be \&quot;::apave::setProperty propertyname ?value?\&quot;&quot;
  return -code error
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::setTextHotkeys'>setTextHotkeys</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets new key combinations for some operations on text widgets.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>setTextHotkeys</span> <span class='ruff_arg'>key value</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>key</code></code></td><td class='ruff_defitem'>ctrlD for &quot;double selection&quot;, ctrlY for &quot;delete line&quot; operation</td></tr>
<tr><td class='ruff_defitem'><code><code>value</code></code></td><td class='ruff_defitem'>list of new key combinations</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_setTextHotkeys' href="javascript:toggleSource('apave_setTextHotkeys')">Show source</a></p>
<div id='apave_setTextHotkeys' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::setTextHotkeys {key value} {
  # Sets new key combinations for some operations on text widgets.
  #   key - ctrlD for &quot;double selection&quot;, ctrlY for &quot;delete line&quot; operation
  #   value - list of new key combinations

  variable _AP_VARS
  set _AP_VARS(KEY,$key) $value
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::setTextIndent'>setTextIndent</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets an indenting for text widgets.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>setTextIndent</span> <span class='ruff_arg'>len ?padchar?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>len</code></code></td><td class='ruff_defitem'>length of indenting</td></tr>
<tr><td class='ruff_defitem'><code><code>padchar</code></code></td><td class='ruff_defitem'>indenting character; <i>optional, default</i> <code></code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_setTextIndent' href="javascript:toggleSource('apave_setTextIndent')">Show source</a></p>
<div id='apave_setTextIndent' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::setTextIndent {len {padchar { }}} {
  # Sets an indenting for text widgets.
  #   len - length of indenting
  #   padchar - indenting character

  variable _AP_VARS
  if {$padchar ne &quot;\t&quot;} {set padchar { }}
  set _AP_VARS(INDENT) [string repeat $padchar $len]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::splitGeometry'>splitGeometry</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets widget's geometry components.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>splitGeometry</span> <span class='ruff_arg'>geom</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>geom</code></code></td><td class='ruff_defitem'>geometry</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of width, height, X and Y (coordinates are always with + or -).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_splitGeometry' href="javascript:toggleSource('apave_splitGeometry')">Show source</a></p>
<div id='apave_splitGeometry' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::splitGeometry {geom} {
  # Gets widget's geometry components.
  #   geom - geometry
  # Returns a list of width, height, X and Y (coordinates are always with + or -).

  lassign [split $geom x+-] w h
  lassign [regexp -inline -all {([+-][[:digit:]]+)} $geom] -&gt; x y
  if {$geom ne {}} {
    if {$x in {&quot;&quot; 0} || [catch {expr {$x+0}}]} {set x {+0}}
    if {$y in {&quot;&quot; 0} || [catch {expr {$y+0}}]} {set y {+0}}
  }
  return [list $w $h $x $y]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::textChanConfigure'>textChanConfigure</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures a channel for text file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>textChanConfigure</span> <span class='ruff_arg'>channel ?coding? ?eol?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>channel</code></code></td><td class='ruff_defitem'>the channel</td></tr>
<tr><td class='ruff_defitem'><code><code>coding</code></code></td><td class='ruff_defitem'>if set, defines encoding of the file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>eol</code></code></td><td class='ruff_defitem'>if set, defines EOL of the file; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_textChanConfigure' href="javascript:toggleSource('apave_textChanConfigure')">Show source</a></p>
<div id='apave_textChanConfigure' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::textChanConfigure {channel {coding {}} {eol {}}} {
  # Configures a channel for text file.
  #   channel - the channel
  #   coding - if set, defines encoding of the file
  #   eol - if set, defines EOL of the file

  if {$coding eq {}} {
    chan configure $channel -encoding utf-8
  } else {
    chan configure $channel -encoding $coding
  }
  if {$eol eq {}} {
    chan configure $channel {*}[::apave::textEOL translation]
  } else {
    chan configure $channel -translation $eol
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::textEOL'>textEOL</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets End-of-Line for text reqding/writing.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>textEOL</span> <span class='ruff_arg'>?EOL?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>EOL</code></code></td><td class='ruff_defitem'>LF, CR, CRLF or {}; <i>optional, default</i> <code>-</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If EOL omitted or equals to {} or &quot;-&quot;, return the current EOL. If EOL equals to &quot;translation&quot;, return -translation option or {}.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_textEOL' href="javascript:toggleSource('apave_textEOL')">Show source</a></p>
<div id='apave_textEOL' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::textEOL {{EOL -}} {
  # Gets/sets End-of-Line for text reqding/writing.
  #   EOL - LF, CR, CRLF or {}
  # If EOL omitted or equals to {} or &quot;-&quot;, return the current EOL.
  # If EOL equals to &quot;translation&quot;, return -translation option or {}.

  variable _PU_opts
  if {$EOL eq &quot;-&quot;} {return $_PU_opts(_EOL_)}
  if {$EOL eq &quot;translation&quot;} {
    if {$_PU_opts(_EOL_) eq &quot;&quot;} {return &quot;&quot;}
    return &quot;-translation $_PU_opts(_EOL_)&quot;
  }
  set _PU_opts(_EOL_) [string trim [string tolower $EOL]]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::textsplit'>textsplit</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Splits a text's contents by EOLs. Those inventors of EOLs...</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>textsplit</span> <span class='ruff_arg'>textcont</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>textcont</code></code></td><td class='ruff_defitem'>text's contents</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_textsplit' href="javascript:toggleSource('apave_textsplit')">Show source</a></p>
<div id='apave_textsplit' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::textsplit {textcont} {
  # Splits a text's contents by EOLs. Those inventors of EOLs...
  #   textcont - text's contents

  return [split [string map [list \r\n \n \r \n] $textcont] \n]
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::traceRemove'>traceRemove</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Cancels tracing of a variable.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>traceRemove</span> <span class='ruff_arg'>v</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>v</code></code></td><td class='ruff_defitem'>variable's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_traceRemove' href="javascript:toggleSource('apave_traceRemove')">Show source</a></p>
<div id='apave_traceRemove' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::traceRemove {v} {
  # Cancels tracing of a variable.
  #   v - variable's name

  foreach t [trace info variable $v] {
    lassign $t o c
    trace remove variable $v $o $c
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::TreSelect'>TreSelect</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Selects a treeview item.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>TreSelect</span> <span class='ruff_arg'>w idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>treeview's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>item index</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_TreSelect' href="javascript:toggleSource('apave_TreSelect')">Show source</a></p>
<div id='apave_TreSelect' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::TreSelect {w idx} {
  # Selects a treeview item.
  #   w - treeview's path
  #   idx - item index

  set items [$w children {}]
  catch {
    set it [lindex $items $idx]
    $w see $it
    $w focus $it
    $w selection set $it  ;# generates &lt;&lt;TreeviewSelect&gt;&gt;
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::ttkToolbutton'>ttkToolbutton</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes Toolbutton's style, depending on CS. Creates also btt / brt / blt widget types to be paved, with images top / right / left accordingly.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>ttkToolbutton</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ttkToolbutton' href="javascript:toggleSource('apave_ttkToolbutton')">Show source</a></p>
<div id='apave_ttkToolbutton' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::ttkToolbutton {} {
  # Initializes Toolbutton's style, depending on CS.
  # Creates also btt / brt / blt widget types to be paved,
  # with images top / right / left accordingly.

  lassign [obj csGet] fg1 - bg1
  ttk::style map Toolbutton {*}[dict replace [ttk::style map Toolbutton]  -foreground &quot;pressed $fg1 active $fg1&quot; -background &quot;pressed $bg1 active $bg1&quot;]
  defaultAttrs btt {} {-style Toolbutton -compound top -takefocus 0} ttk::button
  defaultAttrs brt {} {-style Toolbutton -compound right -takefocus 0} ttk::button
  defaultAttrs blt {} {-style Toolbutton -compound left -takefocus 0} ttk::button
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::undoIn'>undoIn</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Enters a block of undo/redo for a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>undoIn</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Run before massive changes of the text, to have Undo/Redo done at one blow.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::undoOut" title="undoOut" class='ruff_cmd'>undoOut</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_undoIn' href="javascript:toggleSource('apave_undoIn')">Show source</a></p>
<div id='apave_undoIn' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::undoIn {wtxt} {
  # Enters a block of undo/redo for a text widget.
  #   wtxt - text widget's path
  # Run before massive changes of the text, to have Undo/Redo done at one blow.
  # See also: undoOut

  $wtxt configure -autoseparators no
  $wtxt edit separator
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::undoOut'>undoOut</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Exits a block of undo/redo for a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>undoOut</span> <span class='ruff_arg'>wtxt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wtxt</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Run after massive changes of the text, to have Undo/Redo done at one blow.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::undoIn" title="undoIn" class='ruff_cmd'>undoIn</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_undoOut' href="javascript:toggleSource('apave_undoOut')">Show source</a></p>
<div id='apave_undoOut' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::undoOut {wtxt} {
  # Exits a block of undo/redo for a text widget.
  #   wtxt - text widget's path
  # Run after massive changes of the text, to have Undo/Redo done at one blow.
  # See also: undoIn

  $wtxt edit separator
  $wtxt configure -autoseparators yes
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::WindowStatus'>WindowStatus</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets/gets a status of window. The status is a value assigned to a name.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>WindowStatus</span> <span class='ruff_arg'>w name ?val? ?defval?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of status</td></tr>
<tr><td class='ruff_defitem'><code><code>val</code></code></td><td class='ruff_defitem'>if blank, to get a value of status; otherwise a value to set; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>defval</code></code></td><td class='ruff_defitem'>default value (actual if the status not set beforehand); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a value of status.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::IntStatus" title="IntStatus" class='ruff_cmd'>IntStatus</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_WindowStatus' href="javascript:toggleSource('apave_WindowStatus')">Show source</a></p>
<div id='apave_WindowStatus' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::WindowStatus {w name {val {}} {defval {}}} {
  # Sets/gets a status of window. The status is a value assigned to a name.
  #   w - window's path
  #   name - name of status
  #   val - if blank, to get a value of status; otherwise a value to set
  #   defval - default value (actual if the status not set beforehand)
  # Returns a value of status.
  # See also: IntStatus

  variable _AP_VARS
  if {$val eq {}} {  ;# getting
    if {[info exist _AP_VARS($w,$name)]} {
      return $_AP_VARS($w,$name)
    }
    return $defval
  }
  return [set _AP_VARS($w,$name) $val]  ;# setting
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::withdraw'>withdraw</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Does 'withdraw' for a window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>withdraw</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>the window's path</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::iconifyOption" title="iconifyOption" class='ruff_cmd'>iconifyOption</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_withdraw' href="javascript:toggleSource('apave_withdraw')">Show source</a></p>
<div id='apave_withdraw' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::withdraw {w} {
  # Does 'withdraw' for a window.
  #   w - the window's path
  # See also: iconifyOption

  switch -- [iconifyOption] {
    none {          ; # no withdraw/deiconify actions
    }
    Linux {         ; # do it for Linux
      wm withdraw $w
    }
    Windows {       ; # do it for Windows
      wm withdraw $w
      wm attributes $w -alpha 0.0
    }
    default {       ; # do it depending on the platform
      wm withdraw $w
      if {[::iswindows]} {
        wm attributes $w -alpha 0.0
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><br><h4 class='ruffproc'><a name='::apave::writeTextFile'>writeTextFile</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Writes to a text file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>writeTextFile</span> <span class='ruff_arg'>fileName ?varName? ?doErr? ?doSave? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fileName</code></code></td><td class='ruff_defitem'>file name</td></tr>
<tr><td class='ruff_defitem'><code><code>varName</code></code></td><td class='ruff_defitem'>variable name for file content or &quot;&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doErr</code></code></td><td class='ruff_defitem'>if 'true', exit at errors with error message; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>doSave</code></code></td><td class='ruff_defitem'>if 'true', saves an empty file, else deletes it; <i>optional, default</i> <code>1</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns &quot;yes&quot; if the file was saved successfully.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_writeTextFile' href="javascript:toggleSource('apave_writeTextFile')">Show source</a></p>
<div id='apave_writeTextFile' class='ruff_dyn_src'><pre><br><code class="tcl">proc ::apave::writeTextFile {fileName {varName {}} {doErr 0} {doSave 1} args} {
  # Writes to a text file.
  #   fileName - file name
  #   varName - variable name for file content or &quot;&quot;
  #   doErr - if 'true', exit at errors with error message
  #   doSave - if 'true', saves an empty file, else deletes it
  # Returns &quot;yes&quot; if the file was saved successfully.

  variable _PU_opts
  if {$varName ne {}} {
    upvar $varName contents
  } else {
    set contents {}
  }
  set res yes
  if {!$doSave &amp;&amp; [string trim $contents] eq {}} {
    if {[catch {file delete $fileName} _PU_opts(_ERROR_)]} {
      set res no
    } else {
      logMessage &quot;delete $fileName&quot;
    }
  } elseif {[catch {set chan [open $fileName w]} _PU_opts(_ERROR_)]} {
    set res no
  } else {
    set enc [::apave::getOption -encoding {*}$args]
    set eol [string tolower [::apave::getOption -translation {*}$args]]
    ::apave::textChanConfigure $chan $enc $eol
    puts -nonewline $chan $contents
    close $chan
    logMessage &quot;write $fileName&quot;
  }
  if {!$res &amp;&amp; $doErr} {error [::apave::error $fileName]}
  return $res
}<br><br></code></pre></div>
</div><br><h2 class='ruff'><a name='::apave-Classes'></a>Classes<span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h2>
<div style='clear:both;'></div>
<br><br><h3 class='ruffclass'><a name='::apave::APave'>APave</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::constructor" title="constructor" class='ruff_cmd'>constructor</a></code></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::destructor" title="destructor" class='ruff_cmd'>destructor</a></code></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><code>abortretrycancel</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::abortretrycancel" title="APaveDialog.abortretrycancel" class='ruff_cmd'>APaveDialog.abortretrycancel</a></td></tr>
<tr><td class='ruff_defitem'><code><code>apaveTheme</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::apaveTheme" title="ObjectTheming.apaveTheme" class='ruff_cmd'>ObjectTheming.apaveTheme</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicDefFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicDefFont" title="ObjectTheming.basicDefFont" class='ruff_cmd'>ObjectTheming.basicDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicFontSize</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicFontSize" title="ObjectTheming.basicFontSize" class='ruff_cmd'>ObjectTheming.basicFontSize</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicSmallFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicSmallFont" title="ObjectTheming.basicSmallFont" class='ruff_cmd'>ObjectTheming.basicSmallFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicTextFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicTextFont" title="ObjectTheming.basicTextFont" class='ruff_cmd'>ObjectTheming.basicTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>boldDefFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldDefFont" title="ObjectTheming.boldDefFont" class='ruff_cmd'>ObjectTheming.boldDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>boldTextFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldTextFont" title="ObjectTheming.boldTextFont" class='ruff_cmd'>ObjectTheming.boldTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>checkTimeoutButton</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::checkTimeoutButton" title="APaveBase.checkTimeoutButton" class='ruff_cmd'>APaveBase.checkTimeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code><code>checkXY</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::checkXY" title="APaveBase.checkXY" class='ruff_cmd'>APaveBase.checkXY</a></td></tr>
<tr><td class='ruff_defitem'><code><code>chooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::chooser" title="APaveBase.chooser" class='ruff_cmd'>APaveBase.chooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>chooserGeomVars</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::chooserGeomVars" title="APaveBase.chooserGeomVars" class='ruff_cmd'>APaveBase.chooserGeomVars</a></td></tr>
<tr><td class='ruff_defitem'><code><code>clearEntry</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::clearEntry" title="APaveBase.clearEntry" class='ruff_cmd'>APaveBase.clearEntry</a></td></tr>
<tr><td class='ruff_defitem'><code><code>colorChooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::colorChooser" title="APaveBase.colorChooser" class='ruff_cmd'>APaveBase.colorChooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>colorWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::colorWindow" title="APaveBase.colorWindow" class='ruff_cmd'>APaveBase.colorWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>configure</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::configure" title="APaveBase.configure" class='ruff_cmd'>APaveBase.configure</a></td></tr>
<tr><td class='ruff_defitem'><code><code>create_Fonts</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::create_Fonts" title="ObjectTheming.create_Fonts" class='ruff_cmd'>ObjectTheming.create_Fonts</a></td></tr>
<tr><td class='ruff_defitem'><code><code>create_FontsType</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::create_FontsType" title="ObjectTheming.create_FontsType" class='ruff_cmd'>ObjectTheming.create_FontsType</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csAdd</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csAdd" title="ObjectTheming.csAdd" class='ruff_cmd'>ObjectTheming.csAdd</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csCurrent</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csCurrent" title="ObjectTheming.csCurrent" class='ruff_cmd'>ObjectTheming.csCurrent</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csDark</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDark" title="ObjectTheming.csDark" class='ruff_cmd'>ObjectTheming.csDark</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csDeleteExternal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="ObjectTheming.csDeleteExternal" class='ruff_cmd'>ObjectTheming.csDeleteExternal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csExport</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csExport" title="ObjectTheming.csExport" class='ruff_cmd'>ObjectTheming.csExport</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFont" title="ObjectTheming.csFont" class='ruff_cmd'>ObjectTheming.csFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFontDef</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontDef" title="ObjectTheming.csFontDef" class='ruff_cmd'>ObjectTheming.csFontDef</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFontMono</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontMono" title="ObjectTheming.csFontMono" class='ruff_cmd'>ObjectTheming.csFontMono</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csGet</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGet" title="ObjectTheming.csGet" class='ruff_cmd'>ObjectTheming.csGet</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csGetName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGetName" title="ObjectTheming.csGetName" class='ruff_cmd'>ObjectTheming.csGetName</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csMainColors</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMainColors" title="ObjectTheming.csMainColors" class='ruff_cmd'>ObjectTheming.csMainColors</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csMapTheme</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMapTheme" title="ObjectTheming.csMapTheme" class='ruff_cmd'>ObjectTheming.csMapTheme</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csNewIndex</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csNewIndex" title="ObjectTheming.csNewIndex" class='ruff_cmd'>ObjectTheming.csNewIndex</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csSet</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csSet" title="ObjectTheming.csSet" class='ruff_cmd'>ObjectTheming.csSet</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csToned</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csToned" title="ObjectTheming.csToned" class='ruff_cmd'>ObjectTheming.csToned</a></td></tr>
<tr><td class='ruff_defitem'><code><code>dateChooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::dateChooser" title="APaveBase.dateChooser" class='ruff_cmd'>APaveBase.dateChooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>defaultATTRS</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::defaultATTRS" title="APaveBase.defaultATTRS" class='ruff_cmd'>APaveBase.defaultATTRS</a></td></tr>
<tr><td class='ruff_defitem'><code><code>deleteLine</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::deleteLine" title="APaveDialog.deleteLine" class='ruff_cmd'>APaveDialog.deleteLine</a></td></tr>
<tr><td class='ruff_defitem'><code><code>displayTaggedText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::displayTaggedText" title="APaveBase.displayTaggedText" class='ruff_cmd'>APaveBase.displayTaggedText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>displayText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::displayText" title="APaveBase.displayText" class='ruff_cmd'>APaveBase.displayText</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::dlgPath" title="dlgPath" class='ruff_cmd'>dlgPath</a></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::dlgPath" title="APaveBase.dlgPath" class='ruff_cmd'>APaveBase.dlgPath</a></td></tr>
<tr><td class='ruff_defitem'><code><code>doubleText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::doubleText" title="APaveDialog.doubleText" class='ruff_cmd'>APaveDialog.doubleText</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::editfile" title="editfile" class='ruff_cmd'>editfile</a></code></td><td class='ruff_defitem'>Edits or views a file with a set of main colors</td></tr>
<tr><td class='ruff_defitem'><code><code>fillGutter</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::fillGutter" title="APaveBase.fillGutter" class='ruff_cmd'>APaveBase.fillGutter</a></td></tr>
<tr><td class='ruff_defitem'><code><code>findInText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::findInText" title="APaveDialog.findInText" class='ruff_cmd'>APaveDialog.findInText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>findWidPath</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::findWidPath" title="APaveBase.findWidPath" class='ruff_cmd'>APaveBase.findWidPath</a></td></tr>
<tr><td class='ruff_defitem'><code><code>focusNext</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::focusNext" title="APaveBase.focusNext" class='ruff_cmd'>APaveBase.focusNext</a></td></tr>
<tr><td class='ruff_defitem'><code><code>fontChooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::fontChooser" title="APaveBase.fontChooser" class='ruff_cmd'>APaveBase.fontChooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>get_highlighted</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::get_highlighted" title="APaveDialog.get_highlighted" class='ruff_cmd'>APaveDialog.get_highlighted</a></td></tr>
<tr><td class='ruff_defitem'><code><code>get_HighlightedString</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::get_HighlightedString" title="APaveDialog.get_HighlightedString" class='ruff_cmd'>APaveDialog.get_HighlightedString</a></td></tr>
<tr><td class='ruff_defitem'><code><code>getShowOption</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::getShowOption" title="APaveBase.getShowOption" class='ruff_cmd'>APaveBase.getShowOption</a></td></tr>
<tr><td class='ruff_defitem'><code><code>getTextContent</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::getTextContent" title="APaveBase.getTextContent" class='ruff_cmd'>APaveBase.getTextContent</a></td></tr>
<tr><td class='ruff_defitem'><code><code>getWidChildren</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::getWidChildren" title="APaveBase.getWidChildren" class='ruff_cmd'>APaveBase.getWidChildren</a></td></tr>
<tr><td class='ruff_defitem'><code><code>gutterContents</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::gutterContents" title="APaveBase.gutterContents" class='ruff_cmd'>APaveBase.gutterContents</a></td></tr>
<tr><td class='ruff_defitem'><code><code>highlight_matches</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::highlight_matches" title="APaveDialog.highlight_matches" class='ruff_cmd'>APaveDialog.highlight_matches</a></td></tr>
<tr><td class='ruff_defitem'><code><code>highlight_matches_real</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::highlight_matches_real" title="APaveDialog.highlight_matches_real" class='ruff_cmd'>APaveDialog.highlight_matches_real</a></td></tr>
<tr><td class='ruff_defitem'><code><code>iconA</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::iconA" title="APaveBase.iconA" class='ruff_cmd'>APaveBase.iconA</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::initInput" title="initInput" class='ruff_cmd'>initInput</a></code></td><td class='ruff_defitem'>Initializes input and clears variables made in previous session.</td></tr>
<tr><td class='ruff_defitem'><code><code>initLinkFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::initLinkFont" title="APaveBase.initLinkFont" class='ruff_cmd'>APaveBase.initLinkFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>initTooltip</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::initTooltip" title="ObjectTheming.initTooltip" class='ruff_cmd'>ObjectTheming.initTooltip</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::input" title="input" class='ruff_cmd'>input</a></code></td><td class='ruff_defitem'>Makes and runs an input dialog.</td></tr>
<tr><td class='ruff_defitem'><code><code>labelFlashing</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::labelFlashing" title="APaveBase.labelFlashing" class='ruff_cmd'>APaveBase.labelFlashing</a></td></tr>
<tr><td class='ruff_defitem'><code><code>leadingSpaces</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::leadingSpaces" title="APaveBase.leadingSpaces" class='ruff_cmd'>APaveBase.leadingSpaces</a></td></tr>
<tr><td class='ruff_defitem'><code><code>linesMove</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::linesMove" title="APaveDialog.linesMove" class='ruff_cmd'>APaveDialog.linesMove</a></td></tr>
<tr><td class='ruff_defitem'><code><code>makeLabelLinked</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::makeLabelLinked" title="APaveBase.makeLabelLinked" class='ruff_cmd'>APaveBase.makeLabelLinked</a></td></tr>
<tr><td class='ruff_defitem'><code><code>makePopup</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::makePopup" title="APaveBase.makePopup" class='ruff_cmd'>APaveBase.makePopup</a></td></tr>
<tr><td class='ruff_defitem'><code><code>makeWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::makeWindow" title="APaveBase.makeWindow" class='ruff_cmd'>APaveBase.makeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>menuTips</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::menuTips" title="APaveBase.menuTips" class='ruff_cmd'>APaveBase.menuTips</a></td></tr>
<tr><td class='ruff_defitem'><code><code>misc</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::misc" title="APaveDialog.misc" class='ruff_cmd'>APaveDialog.misc</a></td></tr>
<tr><td class='ruff_defitem'><code><code>ok</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::ok" title="APaveDialog.ok" class='ruff_cmd'>APaveDialog.ok</a></td></tr>
<tr><td class='ruff_defitem'><code><code>okcancel</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::okcancel" title="APaveDialog.okcancel" class='ruff_cmd'>APaveDialog.okcancel</a></td></tr>
<tr><td class='ruff_defitem'><code><code>onKeyTextM</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::onKeyTextM" title="APaveBase.onKeyTextM" class='ruff_cmd'>APaveBase.onKeyTextM</a></td></tr>
<tr><td class='ruff_defitem'><code><code>optionCascadeText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::optionCascadeText" title="APaveBase.optionCascadeText" class='ruff_cmd'>APaveBase.optionCascadeText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>ownWName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::ownWName" title="APaveBase.ownWName" class='ruff_cmd'>APaveBase.ownWName</a></td></tr>
<tr><td class='ruff_defitem'><code><code>parentWName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::parentWName" title="APaveBase.parentWName" class='ruff_cmd'>APaveBase.parentWName</a></td></tr>
<tr><td class='ruff_defitem'><code><code>pasteText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::pasteText" title="APaveDialog.pasteText" class='ruff_cmd'>APaveDialog.pasteText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>paveoptionValue</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::paveoptionValue" title="APaveBase.paveoptionValue" class='ruff_cmd'>APaveBase.paveoptionValue</a></td></tr>
<tr><td class='ruff_defitem'><code><code>paveWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::paveWindow" title="APaveBase.paveWindow" class='ruff_cmd'>APaveBase.paveWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>popupBlockCommands</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::popupBlockCommands" title="APaveDialog.popupBlockCommands" class='ruff_cmd'>APaveDialog.popupBlockCommands</a></td></tr>
<tr><td class='ruff_defitem'><code><code>popupFindCommands</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::popupFindCommands" title="APaveDialog.popupFindCommands" class='ruff_cmd'>APaveDialog.popupFindCommands</a></td></tr>
<tr><td class='ruff_defitem'><code><code>popupHighlightCommands</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::popupHighlightCommands" title="APaveDialog.popupHighlightCommands" class='ruff_cmd'>APaveDialog.popupHighlightCommands</a></td></tr>
<tr><td class='ruff_defitem'><code><code>progress_Begin</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::progress_Begin" title="APaveDialog.progress_Begin" class='ruff_cmd'>APaveDialog.progress_Begin</a></td></tr>
<tr><td class='ruff_defitem'><code><code>progress_End</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::progress_End" title="APaveDialog.progress_End" class='ruff_cmd'>APaveDialog.progress_End</a></td></tr>
<tr><td class='ruff_defitem'><code><code>progress_Go</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::progress_Go" title="APaveDialog.progress_Go" class='ruff_cmd'>APaveDialog.progress_Go</a></td></tr>
<tr><td class='ruff_defitem'><code><code>readonlyWidget</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::readonlyWidget" title="APaveBase.readonlyWidget" class='ruff_cmd'>APaveBase.readonlyWidget</a></td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::res" title="APaveBase.res" class='ruff_cmd'>APaveBase.res</a></td></tr>
<tr><td class='ruff_defitem'><code><code>resetText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::resetText" title="APaveBase.resetText" class='ruff_cmd'>APaveBase.resetText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>retrycancel</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::retrycancel" title="APaveDialog.retrycancel" class='ruff_cmd'>APaveDialog.retrycancel</a></td></tr>
<tr><td class='ruff_defitem'><code><code>scrolledFrame</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::scrolledFrame" title="APaveBase.scrolledFrame" class='ruff_cmd'>APaveBase.scrolledFrame</a></td></tr>
<tr><td class='ruff_defitem'><code><code>seek_highlight</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::seek_highlight" title="APaveDialog.seek_highlight" class='ruff_cmd'>APaveDialog.seek_highlight</a></td></tr>
<tr><td class='ruff_defitem'><code><code>selectedWordText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::selectedWordText" title="APaveDialog.selectedWordText" class='ruff_cmd'>APaveDialog.selectedWordText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>set_highlight_matches</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::set_highlight_matches" title="APaveDialog.set_highlight_matches" class='ruff_cmd'>APaveDialog.set_highlight_matches</a></td></tr>
<tr><td class='ruff_defitem'><code><code>set_HighlightedString</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::set_HighlightedString" title="APaveDialog.set_HighlightedString" class='ruff_cmd'>APaveDialog.set_HighlightedString</a></td></tr>
<tr><td class='ruff_defitem'><code><code>setShowOption</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::setShowOption" title="APaveBase.setShowOption" class='ruff_cmd'>APaveBase.setShowOption</a></td></tr>
<tr><td class='ruff_defitem'><code><code>setTextBinds</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::setTextBinds" title="APaveBase.setTextBinds" class='ruff_cmd'>APaveBase.setTextBinds</a></td></tr>
<tr><td class='ruff_defitem'><code><code>showModal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::showModal" title="APaveBase.showModal" class='ruff_cmd'>APaveBase.showModal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>showWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::showWindow" title="APaveBase.showWindow" class='ruff_cmd'>APaveBase.showWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>textLink</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::textLink" title="APaveBase.textLink" class='ruff_cmd'>APaveBase.textLink</a></td></tr>
<tr><td class='ruff_defitem'><code><code>thDark</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::thDark" title="ObjectTheming.thDark" class='ruff_cmd'>ObjectTheming.thDark</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeExternal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeExternal" title="ObjectTheming.themeExternal" class='ruff_cmd'>ObjectTheming.themeExternal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeMandatory</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeMandatory" title="ObjectTheming.themeMandatory" class='ruff_cmd'>ObjectTheming.themeMandatory</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeNonThemed</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="ObjectTheming.themeNonThemed" class='ruff_cmd'>ObjectTheming.themeNonThemed</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themePopup</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themePopup" title="ObjectTheming.themePopup" class='ruff_cmd'>ObjectTheming.themePopup</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeWindow" title="ObjectTheming.themeWindow" class='ruff_cmd'>ObjectTheming.themeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>timeoutButton</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::timeoutButton" title="APaveBase.timeoutButton" class='ruff_cmd'>APaveBase.timeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code><code>tk_optionCascade</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::tk_optionCascade" title="APaveBase.tk_optionCascade" class='ruff_cmd'>APaveBase.tk_optionCascade</a></td></tr>
<tr><td class='ruff_defitem'><code><code>touchWidgets</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::touchWidgets" title="ObjectTheming.touchWidgets" class='ruff_cmd'>ObjectTheming.touchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code><code>unhighlight_matches</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::unhighlight_matches" title="APaveDialog.unhighlight_matches" class='ruff_cmd'>APaveDialog.unhighlight_matches</a></td></tr>
<tr><td class='ruff_defitem'><code><code>untouchWidgets</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="ObjectTheming.untouchWidgets" class='ruff_cmd'>ObjectTheming.untouchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code><code>validateColorChoice</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::validateColorChoice" title="APaveBase.validateColorChoice" class='ruff_cmd'>APaveBase.validateColorChoice</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::valueInput" title="valueInput" class='ruff_cmd'>valueInput</a></code></td><td class='ruff_defitem'>Gets input variables' values.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::varInput" title="varInput" class='ruff_cmd'>varInput</a></code></td><td class='ruff_defitem'>Gets variables made and filled in a previous session as a list of &quot;varname varvalue&quot; pairs where varname is of form: namespace::var<code>$widgetname</code>.</td></tr>
<tr><td class='ruff_defitem'><code><code>varName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::varName" title="APaveDialog.varName" class='ruff_cmd'>APaveDialog.varName</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APave::vieweditFile" title="vieweditFile" class='ruff_cmd'>vieweditFile</a></code></td><td class='ruff_defitem'>Views or edits a file.</td></tr>
<tr><td class='ruff_defitem'><code><code>waitWinVar</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::waitWinVar" title="APaveBase.waitWinVar" class='ruff_cmd'>APaveBase.waitWinVar</a></td></tr>
<tr><td class='ruff_defitem'><code><code>widgetType</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::widgetType" title="APaveBase.widgetType" class='ruff_cmd'>APaveBase.widgetType</a></td></tr>
<tr><td class='ruff_defitem'><code><code>window</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::window" title="APaveBase.window" class='ruff_cmd'>APaveBase.window</a></td></tr>
<tr><td class='ruff_defitem'><code><code>yesno</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::yesno" title="APaveDialog.yesno" class='ruff_cmd'>APaveDialog.yesno</a></td></tr>
<tr><td class='ruff_defitem'><code><code>yesnocancel</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveDialog::yesnocancel" title="APaveDialog.yesnocancel" class='ruff_cmd'>APaveDialog.yesnocancel</a></td></tr>
</table>
<h5 class='ruff'>Superclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveDialog" title="APaveDialog" class='ruff_cmd'>APaveDialog</a></p>
<br><br><h4 class='ruffmethod'><a name='::apave::APave::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates APave object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>APave create</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments</td></tr>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's name (path)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_constructor' href="javascript:toggleSource('apave_APave_constructor')">Show source</a></p>
<div id='apave_APave_constructor' class='ruff_dyn_src'><pre><br><code class="tcl">method constructor {args} {
  # Creates APave object.
  #   win - window's name (path)
  #   args - additional arguments

  set _savedvv [list]
  if {[llength [self next]]} { next {*}$args }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears variables used in the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_destructor' href="javascript:toggleSource('apave_APave_destructor')">Show source</a></p>
<div id='apave_APave_destructor' class='ruff_dyn_src'><pre><br><code class="tcl">method destructor {} {
  # Clears variables used in the object.

  my initInput
  unset _savedvv
  if {[llength [self next]]} next
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::editfile'>editfile</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Edits or views a file with a set of main colors</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT editfile</span> <span class='ruff_arg'>fname fg bg cc ?prepcom? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>name of file</td></tr>
<tr><td class='ruff_defitem'><code><code>fg</code></code></td><td class='ruff_defitem'>foreground color of text widget</td></tr>
<tr><td class='ruff_defitem'><code><code>bg</code></code></td><td class='ruff_defitem'>background color of text widget</td></tr>
<tr><td class='ruff_defitem'><code><code>cc</code></code></td><td class='ruff_defitem'>caret's color of text widget</td></tr>
<tr><td class='ruff_defitem'><code><code>prepcom</code></code></td><td class='ruff_defitem'>a command performing before and after creating a dialog; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional options (<code>-readonly 1</code> for viewing the file).</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>fg</em> isn't empty, all three colors are used to color a text.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="https://aplsimple.github.io/en/tcl/pave/index.html" >aplsimple.github.io</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_editfile' href="javascript:toggleSource('apave_APave_editfile')">Show source</a></p>
<div id='apave_APave_editfile' class='ruff_dyn_src'><pre><br><code class="tcl">method editfile {fname fg bg cc {prepcom {}} args} {
  # Edits or views a file with a set of main colors
  #   fname - name of file
  #   fg - foreground color of text widget
  #   bg - background color of text widget
  #   cc - caret's color of text widget
  #   prepcom - a command performing before and after creating a dialog
  #   args - additional options (`-readonly 1` for viewing the file).
  #
  # If *fg* isn't empty, all three colors are used to color a text.
  #
  # See also:
  # [aplsimple.github.io](https://aplsimple.github.io/en/tcl/pave/index.html)

  if {$fname eq {}} {
    return false
  }
  set newfile 0
  if {[catch {set filetxt [::apave::readTextFile $fname {} yes]}]} {
    return false
  }
  lassign [::apave::parseOptions $args -rotext {} -readonly 1 -ro 1] rotext readonly ro
  lassign [::apave::extractOptions args -buttons {}] buttadd
  set btns {Close 0}  ;# by default 'view' mode
  set oper VIEW
  if {$rotext eq {} &amp;&amp; (!$readonly || !$ro)} {
    set btns {Save 1 Close 0}
    set oper EDIT
  }
  if {$fg eq {}} {
    set tclr {}
  } else {
    set tclr &quot;-fg $fg -bg $bg -cc $cc&quot;
  }
  if {$prepcom eq {}} {set aa {}} {set aa [$prepcom filetxt]}
  set res [my misc {} &quot;$oper: $fname&quot; &quot;$filetxt&quot; &quot;$buttadd $btns&quot;  TEXT -text 1 -w {100 80} -h 32 {*}$tclr  -post $prepcom {*}$aa {*}$args]
  set data [string range $res 2 end]
  if {[set res [string index $res 0]] eq &quot;1&quot;} {
    set data [string range $data [string first &quot; &quot; $data]+1 end]
    set data [string trimright $data]
    set res [::apave::writeTextFile $fname data]
  } elseif {$newfile} {
    file delete $fname
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::initInput'>initInput</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initializes input and clears variables made in previous session.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT initInput</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_initInput' href="javascript:toggleSource('apave_APave_initInput')">Show source</a></p>
<div id='apave_APave_initInput' class='ruff_dyn_src'><pre><br><code class="tcl">method initInput {} {
  # Initializes input and clears variables made in previous session.

  foreach {vn vv} $_savedvv {
    catch {unset $vn}
  }
  set _savedvv [list]
  set Widgetopts [list]
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::input'>input</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes and runs an input dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT input</span> <span class='ruff_arg'>icon ttl iopts ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon (omitted if equals to &quot;&quot;)</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title of window</td></tr>
<tr><td class='ruff_defitem'><code><code>iopts</code></code></td><td class='ruff_defitem'>list of widgets and their attributes</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of dialog's attributes</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <code>iopts</code> contains lists of three items:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>name of widgets</td></tr>
<tr><td class='ruff_defitem'><code>prompt</code></td><td class='ruff_defitem'>prompt for entering data</td></tr>
<tr><td class='ruff_defitem'><code>valopts</code></td><td class='ruff_defitem'>value options</td></tr>
</table>
<p class='ruff'>The <code>valopts</code> is a list specific for a widget's type, however a first item of <code>valopts</code> is always an initial input value.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_input' href="javascript:toggleSource('apave_APave_input')">Show source</a></p>
<div id='apave_APave_input' class='ruff_dyn_src'><pre><br><code class="tcl">method input {icon ttl iopts args} {
  # Makes and runs an input dialog.
  #  icon - icon (omitted if equals to &quot;&quot;)
  #  ttl - title of window
  #  iopts - list of widgets and their attributes
  #  args - list of dialog's attributes
  #
  # The `iopts` contains lists of three items:
  #   name - name of widgets
  #   prompt - prompt for entering data
  #   valopts - value options
  #
  # The `valopts` is a list specific for a widget's type, however
  # a first item of `valopts` is always an initial input value.

  if {$iopts ne {}} {
    my initInput  ;# clear away all internal vars
  }
  set pady &quot;-pady 2&quot;
  if {[set focusopt [::apave::getOption -focus {*}$args]] ne {}} {
    set focusopt &quot;-focus $focusopt&quot;
  }
  lappend inopts [list fraM + T 1 98 &quot;-st nsew $pady -rw 1&quot;]
  set savedvv [list]
  set frameprev {}
  foreach {name prompt valopts} $iopts {
    if {$name eq {}} continue
    lassign $prompt prompt gopts attrs
    lassign [::apave::extractOptions attrs -method {} -toprev {}] ismeth toprev
    if {[string toupper $name 0] eq $name} {
      set ismeth yes  ;# overcomes the above setting
      set name [string tolower $name 0]
    }
    set ismeth [string is true -strict $ismeth]
    set gopts &quot;$pady $gopts&quot;
    set typ [string tolower [string range $name 0 1]]
    if {$typ eq &quot;v_&quot; || $typ eq &quot;se&quot;} {
      lappend inopts [list fraM.$name - - - - &quot;pack -fill x $gopts&quot;]
      continue
    }
    set tvar &quot;-tvar&quot;
    switch -exact -- $typ {
      ch { set tvar &quot;-var&quot; }
      sp { set gopts &quot;$gopts -expand 0 -side left&quot;}
    }
    set framename fraM.fra$name
    if {$typ in {lb te tb}} {  ;# the widgets sized vertically
      lappend inopts [list $framename - - - - &quot;pack -expand 1 -fill both&quot;]
    } else {
      lappend inopts [list $framename - - - - &quot;pack -fill x&quot;]
    }
    set vv [my varName $name]
    set ff [my FieldName $name]
    set Name [string toupper $name 0]
    if {$ismeth &amp;&amp; $typ ni {ra}} {
      # -method option forces making &quot;WidgetName&quot; method from &quot;widgetName&quot;
      my MakeWidgetName $ff $Name -
    }
    if {$typ ne {la} &amp;&amp; $toprev eq {}} {
      set takfoc [::apave::parseOptions $attrs -takefocus 1]
      if {$focusopt eq {} &amp;&amp; $takfoc} {
        if {$typ in {fi di cl fo da}} {
          set _ en*$name  ;# 'entry-like mega-widgets'
        } elseif {$typ eq &quot;ft&quot;} {
          set _ te*$name  ;# ftx - 'text-like mega-widget'
        } else {
          set _ $name
        }
        set focusopt &quot;-focus $_&quot;
      }
      if {$typ in {lb tb te}} {set anc nw} {set anc w}
      lappend inopts [list fraM.fra$name.labB$name - - - -  &quot;pack -side left -anchor $anc -padx 3&quot;  &quot;-t \&quot;$prompt\&quot; -font  \&quot;-family {[my basicTextFont]} -size [my basicFontSize]\&quot;&quot;]
    }
    # for most widgets:
    #   1st item of 'valopts' list is the current value
    #   2nd and the rest of 'valopts' are a list of values
    if {$typ ni {fc te la}} {
      # curr.value can be set with a variable, so 'subst' is applied
      set vsel [lindex $valopts 0]
      catch {set vsel [subst -nocommands -nobackslashes $vsel]}
      set vlist [lrange $valopts 1 end]
    }
    if {[set msgLab [::apave::getOption -msgLab {*}$attrs]] ne {}} {
      set attrs [::apave::removeOptions $attrs -msgLab]
    }
    # define a current widget's info
    switch -exact -- $typ {
      lb - tb {
        set $vv $vlist
        lappend attrs -lvar $vv
        if {$vsel ni {{} -}} {
          lappend attrs -lbxsel &quot;$::apave::UFF$vsel$::apave::UFF&quot;
        }
        lappend inopts [list $ff - - - -  &quot;pack -side left -expand 1 -fill both $gopts&quot; $attrs]
        lappend inopts [list fraM.fra$name.sbv$name $ff L - - &quot;pack -fill y&quot;]
      }
      cb {
        if {![info exist $vv]} {catch {set $vv $vsel}}
        lappend attrs -tvar $vv -values $vlist
        if {$vsel ni {{} -}} {
          lappend attrs -cbxsel $::apave::UFF$vsel$::apave::UFF
        }
        lappend inopts [list $ff - - - - &quot;pack -side left -expand 1 -fill x $gopts&quot; $attrs]
      }
      fc {
        if {![info exist $vv]} {catch {set $vv {}}}
        lappend inopts [list $ff - - - - &quot;pack -side left -expand 1 -fill x $gopts&quot; &quot;-tvar $vv -values \{$valopts\} $attrs&quot;]
      }
      op {
        set $vv $vsel
        lappend inopts [list $ff - - - - &quot;pack -fill x $gopts&quot; &quot;$vv $vlist&quot;]
      }
      ra {
        if {![info exist $vv]} {catch {set $vv $vsel}}
        set padx 0
        foreach vo $vlist {
          set name $name
          set FF $ff[incr nnn]
          lappend inopts [list $FF - - - - &quot;pack -side left $gopts -padx $padx&quot; &quot;-var $vv -value \&quot;$vo\&quot; -t \&quot;$vo\&quot; $attrs&quot;]
          if {$ismeth} {
            my MakeWidgetName $FF $Name$nnn -
          }
          set padx [expr {$padx ? 0 : 9}]
        }
      }
      te {
        if {![info exist $vv]} {
          set valopts [string map [list \\n \n \\t \t] $valopts]
          set $vv [string map [list \\\\ \\ \\\} \} \\\{ \{] $valopts]
        }
        if {[dict exist $attrs -state] &amp;&amp; [dict get $attrs -state] eq &quot;disabled&quot;}  {
          # disabled text widget cannot be filled with a text, so we should
          # compensate this through a home-made attribute (-disabledtext)
          set disattr &quot;-disabledtext \{[set $vv]\}&quot;
        } elseif {[dict exist $attrs -readonly] &amp;&amp; [dict get $attrs -readonly] || [dict exist $attrs -ro] &amp;&amp; [dict get $attrs -ro]} {
          set disattr &quot;-rotext \{[set $vv]\}&quot;
          set attrs [::apave::removeOptions $attrs -readonly -ro]
        } else {
          set disattr {}
        }
        lappend inopts [list $ff - - - - &quot;pack -side left -expand 1 -fill both $gopts&quot; &quot;$attrs $disattr&quot;]
        lappend inopts [list fraM.fra$name.sbv$name $ff L - - &quot;pack -fill y&quot;]
      }
      la {
        if {$prompt ne {}} { set prompt &quot;-t \&quot;$prompt\&quot; &quot; } ;# prompt as -text
        lappend inopts [list $ff - - - - &quot;pack -anchor w $gopts&quot; &quot;$prompt$attrs&quot;]
        continue
      }
      bu - bt - ch {
        set prompt {}
        if {$toprev eq {}} {
          lappend inopts [list $ff - - - -  &quot;pack -side left -expand 1 -fill both $gopts&quot; &quot;$tvar $vv $attrs&quot;]
        } else {
          lappend inopts [list $frameprev.$name - - - -  &quot;pack -side left $gopts&quot; &quot;$tvar $vv $attrs&quot;]
        }
        if {$vv ne {}} {
          if {![info exist $vv]} {
            catch {
              if {$vsel eq {}} {set vsel 0}
              set $vv $vsel
            }
          }
        }
      }
      default {
        if {$vlist ne {}} {lappend attrs -values $vlist}
        lappend inopts [list $ff - - - -  &quot;pack -side left -expand 1 -fill x $gopts&quot; &quot;$tvar $vv $attrs&quot;]
        if {$vv ne {}} {
          if {![info exist $vv]} {catch {set $vv $vsel}}
        }
      }
    }
    if {$msgLab ne {}} {
      lassign $msgLab lab msg attlab
      set lab [my parentWName [lindex $inopts end 0]].$lab
      if {$msg ne {}} {set msg &quot;-t {$msg}&quot;}
      append msg &quot; $attlab&quot;
      lappend inopts [list $lab - - - - &quot;pack -side left -expand 1 -fill x&quot; $msg]
    }
    if {![info exist $vv]} {set $vv {}}
    lappend _savedvv $vv [set $vv]
    set frameprev $framename
  }
  lassign [::apave::parseOptions $args -titleHELP {} -buttons {} -comOK 1  -titleOK OK -titleCANCEL Cancel -centerme {}]  titleHELP buttons comOK titleOK titleCANCEL centerme
  if {$titleHELP eq {}} {
    set butHelp {}
  } else {
    lassign $titleHELP title command
    set butHelp [list butHELP $title $command]
  }
  if {$titleCANCEL eq {}} {
    set butCancel {}
  } else {
    set butCancel &quot;butCANCEL $titleCANCEL destroy&quot;
  }
  if {$centerme eq {}} {
    set centerme {-centerme 1}
  } else {
    set centerme &quot;-centerme $centerme&quot;
  }
  set args [::apave::removeOptions $args  -titleHELP -buttons -comOK -titleOK -titleCANCEL -centerme -modal]
  lappend args {*}$focusopt
  if {[catch {  lassign [my PrepArgs {*}$args] args
      set res [my Query $icon $ttl {}  &quot;$butHelp $buttons butOK $titleOK $comOK $butCancel&quot;  butOK $inopts $args {} {*}$centerme -input yes]} e]} {
    catch {destroy $Dlgpath}  ;# Query's window
    ::apave::obj ok err &quot;ERROR&quot; &quot;\n$e\n&quot;  -t 1 -head &quot;\nAPave returned an error: \n&quot; -hfg red -weight bold
    return 0
  }
  if {![lindex $res 0]} {  ;# restore old values if OK not chosen
    foreach {vn vv} $_savedvv {
      # tk_optionCascade (destroyed now) was tracing its variable =&gt; catch
      catch {set $vn $vv}
    }
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::valueInput'>valueInput</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets input variables' values.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT valueInput</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_valueInput' href="javascript:toggleSource('apave_APave_valueInput')">Show source</a></p>
<div id='apave_APave_valueInput' class='ruff_dyn_src'><pre><br><code class="tcl">method valueInput {} {
  # Gets input variables' values.

  set _values {}
  foreach {vnam -} [my varInput] {
    lappend _values [set $vnam]
  }
  return $_values
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::varInput'>varInput</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets variables made and filled in a previous session as a list of &quot;varname varvalue&quot; pairs where varname is of form: namespace::var<code>$widgetname</code>.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT varInput</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_varInput' href="javascript:toggleSource('apave_APave_varInput')">Show source</a></p>
<div id='apave_APave_varInput' class='ruff_dyn_src'><pre><br><code class="tcl">method varInput {} {
  # Gets variables made and filled in a previous session
  # as a list of &quot;varname varvalue&quot; pairs where varname
  # is of form: namespace::var$widgetname.

  return $_savedvv
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APave::vieweditFile'>vieweditFile</a><span class='ns_scope'> [<a href="apave.html#::apave::APave" title="::apave::APave" class='ruff_cmd'>::apave::APave</a>]</span><span class='tinylink'><a href='apave.html#::apave::APave'>APave</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Views or edits a file.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT vieweditFile</span> <span class='ruff_arg'>fname ?prepcom? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fname</code></code></td><td class='ruff_defitem'>name of file</td></tr>
<tr><td class='ruff_defitem'><code><code>prepcom</code></code></td><td class='ruff_defitem'>a command performing before and after creating a dialog; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>It's a sort of stub for calling <em>editfile</em> method.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APave::editfile" title="editfile" class='ruff_cmd'>editfile</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APave_vieweditFile' href="javascript:toggleSource('apave_APave_vieweditFile')">Show source</a></p>
<div id='apave_APave_vieweditFile' class='ruff_dyn_src'><pre><br><code class="tcl">method vieweditFile {fname {prepcom {}} args} {
  # Views or edits a file.
  #   fname - name of file
  #   prepcom - a command performing before and after creating a dialog
  #   args - additional options
  # It's a sort of stub for calling *editfile* method.
  # See also: editfile

  return [my editfile $fname {} {} {} $prepcom {*}$args]
}<br><br></code></pre></div>
</div><br><br><h3 class='ruffclass'><a name='::apave::APaveBase'>APaveBase</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::constructor" title="constructor" class='ruff_cmd'>constructor</a></code></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::destructor" title="destructor" class='ruff_cmd'>destructor</a></code></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><code>apaveTheme</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::apaveTheme" title="ObjectTheming.apaveTheme" class='ruff_cmd'>ObjectTheming.apaveTheme</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicDefFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicDefFont" title="ObjectTheming.basicDefFont" class='ruff_cmd'>ObjectTheming.basicDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicFontSize</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicFontSize" title="ObjectTheming.basicFontSize" class='ruff_cmd'>ObjectTheming.basicFontSize</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicSmallFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicSmallFont" title="ObjectTheming.basicSmallFont" class='ruff_cmd'>ObjectTheming.basicSmallFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicTextFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicTextFont" title="ObjectTheming.basicTextFont" class='ruff_cmd'>ObjectTheming.basicTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>boldDefFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldDefFont" title="ObjectTheming.boldDefFont" class='ruff_cmd'>ObjectTheming.boldDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>boldTextFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldTextFont" title="ObjectTheming.boldTextFont" class='ruff_cmd'>ObjectTheming.boldTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::checkTimeoutButton" title="checkTimeoutButton" class='ruff_cmd'>checkTimeoutButton</a></code></td><td class='ruff_defitem'>Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::checkXY" title="checkXY" class='ruff_cmd'>checkXY</a></code></td><td class='ruff_defitem'>Checks the coordinates of window (against the screen).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::chooser" title="chooser" class='ruff_cmd'>chooser</a></code></td><td class='ruff_defitem'>Chooser (for all available types).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::chooserGeomVars" title="chooserGeomVars" class='ruff_cmd'>chooserGeomVars</a></code></td><td class='ruff_defitem'>Sets variables to save/restore geometry of Tcl/Tk dir/file choosers (in Linux).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::clearEntry" title="clearEntry" class='ruff_cmd'>clearEntry</a></code></td><td class='ruff_defitem'>Clears entry-like widget's value, after calling a command.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::colorChooser" title="colorChooser" class='ruff_cmd'>colorChooser</a></code></td><td class='ruff_defitem'>Color chooser.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::colorWindow" title="colorWindow" class='ruff_cmd'>colorWindow</a></code></td><td class='ruff_defitem'>Initialize colors of a window.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::configure" title="configure" class='ruff_cmd'>configure</a></code></td><td class='ruff_defitem'>Configures the apave object (all of options may be changed).</td></tr>
<tr><td class='ruff_defitem'><code><code>create_Fonts</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::create_Fonts" title="ObjectTheming.create_Fonts" class='ruff_cmd'>ObjectTheming.create_Fonts</a></td></tr>
<tr><td class='ruff_defitem'><code><code>create_FontsType</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::create_FontsType" title="ObjectTheming.create_FontsType" class='ruff_cmd'>ObjectTheming.create_FontsType</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csAdd</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csAdd" title="ObjectTheming.csAdd" class='ruff_cmd'>ObjectTheming.csAdd</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csCurrent</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csCurrent" title="ObjectTheming.csCurrent" class='ruff_cmd'>ObjectTheming.csCurrent</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csDark</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDark" title="ObjectTheming.csDark" class='ruff_cmd'>ObjectTheming.csDark</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csDeleteExternal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="ObjectTheming.csDeleteExternal" class='ruff_cmd'>ObjectTheming.csDeleteExternal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csExport</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csExport" title="ObjectTheming.csExport" class='ruff_cmd'>ObjectTheming.csExport</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFont" title="ObjectTheming.csFont" class='ruff_cmd'>ObjectTheming.csFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFontDef</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontDef" title="ObjectTheming.csFontDef" class='ruff_cmd'>ObjectTheming.csFontDef</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFontMono</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontMono" title="ObjectTheming.csFontMono" class='ruff_cmd'>ObjectTheming.csFontMono</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csGet</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGet" title="ObjectTheming.csGet" class='ruff_cmd'>ObjectTheming.csGet</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csGetName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGetName" title="ObjectTheming.csGetName" class='ruff_cmd'>ObjectTheming.csGetName</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csMainColors</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMainColors" title="ObjectTheming.csMainColors" class='ruff_cmd'>ObjectTheming.csMainColors</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csMapTheme</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMapTheme" title="ObjectTheming.csMapTheme" class='ruff_cmd'>ObjectTheming.csMapTheme</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csNewIndex</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csNewIndex" title="ObjectTheming.csNewIndex" class='ruff_cmd'>ObjectTheming.csNewIndex</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csSet</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csSet" title="ObjectTheming.csSet" class='ruff_cmd'>ObjectTheming.csSet</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csToned</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csToned" title="ObjectTheming.csToned" class='ruff_cmd'>ObjectTheming.csToned</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::dateChooser" title="dateChooser" class='ruff_cmd'>dateChooser</a></code></td><td class='ruff_defitem'>Date chooser (calendar widget).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::defaultATTRS" title="defaultATTRS" class='ruff_cmd'>defaultATTRS</a></code></td><td class='ruff_defitem'>Sets, gets or registers default options and attributes for widget type.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::displayTaggedText" title="displayTaggedText" class='ruff_cmd'>displayTaggedText</a></code></td><td class='ruff_defitem'>Sets the text widget's contents using tags (ornamental details).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::displayText" title="displayText" class='ruff_cmd'>displayText</a></code></td><td class='ruff_defitem'>Sets the text widget's contents.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::dlgPath" title="dlgPath" class='ruff_cmd'>dlgPath</a></code></td><td class='ruff_defitem'>Gets a window name of apave open dialogue.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::fillGutter" title="fillGutter" class='ruff_cmd'>fillGutter</a></code></td><td class='ruff_defitem'>Fills a gutter of text with the text's line numbers.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::findWidPath" title="findWidPath" class='ruff_cmd'>findWidPath</a></code></td><td class='ruff_defitem'>Searches a widget's path among the active widgets.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::focusNext" title="focusNext" class='ruff_cmd'>focusNext</a></code></td><td class='ruff_defitem'>Sets focus on a next widget (possibly, defined as <code>my Widget</code>).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::fontChooser" title="fontChooser" class='ruff_cmd'>fontChooser</a></code></td><td class='ruff_defitem'>Font chooser.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::getShowOption" title="getShowOption" class='ruff_cmd'>getShowOption</a></code></td><td class='ruff_defitem'>Gets a default show option, used in showModal.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::getTextContent" title="getTextContent" class='ruff_cmd'>getTextContent</a></code></td><td class='ruff_defitem'>Gets text content.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::getWidChildren" title="getWidChildren" class='ruff_cmd'>getWidChildren</a></code></td><td class='ruff_defitem'>Gets children of a widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::gutterContents" title="gutterContents" class='ruff_cmd'>gutterContents</a></code></td><td class='ruff_defitem'>Gets contents of a text's gutter</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::iconA" title="iconA" class='ruff_cmd'>iconA</a></code></td><td class='ruff_defitem'>Gets icon attributes for buttons, menus etc.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::initLinkFont" title="initLinkFont" class='ruff_cmd'>initLinkFont</a></code></td><td class='ruff_defitem'>Gets/sets font attributes of links (labels &amp; text tags with -link).</td></tr>
<tr><td class='ruff_defitem'><code><code>initTooltip</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::initTooltip" title="ObjectTheming.initTooltip" class='ruff_cmd'>ObjectTheming.initTooltip</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::labelFlashing" title="labelFlashing" class='ruff_cmd'>labelFlashing</a></code></td><td class='ruff_defitem'>Options of 'flashing' label: -file (or -data) {list of image files (or data variables)} -label {list of labels' texts} -incr {increment for -alpha option} -pause {pause in seconds for -alpha 1.0} -after {interval for 'after'} -squeeze {value for *-big.png}</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::leadingSpaces" title="leadingSpaces" class='ruff_cmd'>leadingSpaces</a></code></td><td class='ruff_defitem'>Returns a number of leading spaces of a line</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::makeLabelLinked" title="makeLabelLinked" class='ruff_cmd'>makeLabelLinked</a></code></td><td class='ruff_defitem'>Makes the linked label from a label.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::makePopup" title="makePopup" class='ruff_cmd'>makePopup</a></code></td><td class='ruff_defitem'>Makes a popup menu for an editable widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::makeWindow" title="makeWindow" class='ruff_cmd'>makeWindow</a></code></td><td class='ruff_defitem'>Creates a toplevel window that has to be paved.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::menuTips" title="menuTips" class='ruff_cmd'>menuTips</a></code></td><td class='ruff_defitem'>Makes tip(s) for menu and its items.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::onKeyTextM" title="onKeyTextM" class='ruff_cmd'>onKeyTextM</a></code></td><td class='ruff_defitem'>Processes indents and braces at pressing keys.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::optionCascadeText" title="optionCascadeText" class='ruff_cmd'>optionCascadeText</a></code></td><td class='ruff_defitem'>Rids a tk_optionCascade item of braces.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::ownWName" title="ownWName" class='ruff_cmd'>ownWName</a></code></td><td class='ruff_defitem'>Gets a tail (last part) of widget's name</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::parentWName" title="parentWName" class='ruff_cmd'>parentWName</a></code></td><td class='ruff_defitem'>Gets parent name of widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::paveoptionValue" title="paveoptionValue" class='ruff_cmd'>paveoptionValue</a></code></td><td class='ruff_defitem'>Gets an option's value.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::paveWindow" title="paveWindow" class='ruff_cmd'>paveWindow</a></code></td><td class='ruff_defitem'>Processes &quot;win / list_of_widgets&quot; pairs.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::readonlyWidget" title="readonlyWidget" class='ruff_cmd'>readonlyWidget</a></code></td><td class='ruff_defitem'>Switches on/off a widget's readonly state for a text widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::res" title="res" class='ruff_cmd'>res</a></code></td><td class='ruff_defitem'>Gets/sets a variable for <em>vwait</em> command.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::resetText" title="resetText" class='ruff_cmd'>resetText</a></code></td><td class='ruff_defitem'>Resets a text widget to edit/view from scratch.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::scrolledFrame" title="scrolledFrame" class='ruff_cmd'>scrolledFrame</a></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::setShowOption" title="setShowOption" class='ruff_cmd'>setShowOption</a></code></td><td class='ruff_defitem'>Sets / gets a default show option, used in showModal.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::setTextBinds" title="setTextBinds" class='ruff_cmd'>setTextBinds</a></code></td><td class='ruff_defitem'>Returns bindings for a text widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::showModal" title="showModal" class='ruff_cmd'>showModal</a></code></td><td class='ruff_defitem'>Shows a window as modal.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::showWindow" title="showWindow" class='ruff_cmd'>showWindow</a></code></td><td class='ruff_defitem'>Displays a windows and goes in tkwait cycle to interact with a user.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::textLink" title="textLink" class='ruff_cmd'>textLink</a></code></td><td class='ruff_defitem'>Gets a label's path of a link in a text widget.</td></tr>
<tr><td class='ruff_defitem'><code><code>thDark</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::thDark" title="ObjectTheming.thDark" class='ruff_cmd'>ObjectTheming.thDark</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeExternal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeExternal" title="ObjectTheming.themeExternal" class='ruff_cmd'>ObjectTheming.themeExternal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeMandatory</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeMandatory" title="ObjectTheming.themeMandatory" class='ruff_cmd'>ObjectTheming.themeMandatory</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeNonThemed</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="ObjectTheming.themeNonThemed" class='ruff_cmd'>ObjectTheming.themeNonThemed</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::themePopup" title="themePopup" class='ruff_cmd'>themePopup</a></code></td><td class='ruff_defitem'>Applies a color scheme to a popup menu.</td></tr>
<tr><td class='ruff_defitem'><code><code>themeWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeWindow" title="ObjectTheming.themeWindow" class='ruff_cmd'>ObjectTheming.themeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::timeoutButton" title="timeoutButton" class='ruff_cmd'>timeoutButton</a></code></td><td class='ruff_defitem'>Invokes a button's action after a timeout.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::tk_optionCascade" title="tk_optionCascade" class='ruff_cmd'>tk_optionCascade</a></code></td><td class='ruff_defitem'>A bit modified tk_optionCascade widget made by Richard Suchenwirth.</td></tr>
<tr><td class='ruff_defitem'><code><code>touchWidgets</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::touchWidgets" title="ObjectTheming.touchWidgets" class='ruff_cmd'>ObjectTheming.touchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code><code>untouchWidgets</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="ObjectTheming.untouchWidgets" class='ruff_cmd'>ObjectTheming.untouchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::validateColorChoice" title="validateColorChoice" class='ruff_cmd'>validateColorChoice</a></code></td><td class='ruff_defitem'>Displays a current color of color chooser's entry.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::waitWinVar" title="waitWinVar" class='ruff_cmd'>waitWinVar</a></code></td><td class='ruff_defitem'>Tk waiting for variable's change.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::widgetType" title="widgetType" class='ruff_cmd'>widgetType</a></code></td><td class='ruff_defitem'>Gets the widget type based on 3 initial letters of its name. Also fills the grid/pack options and attributes of the widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveBase::window" title="window" class='ruff_cmd'>window</a></code></td><td class='ruff_defitem'>Obsolete version of paveWindow (remains for compatibility).</td></tr>
</table>
<h5 class='ruff'>Mixins</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming" title="ObjectTheming" class='ruff_cmd'>ObjectTheming</a></p>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveDialog" title="APaveDialog" class='ruff_cmd'>APaveDialog</a></p>
<br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates APaveBase object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>APaveBase create</span> <span class='ruff_arg'>?cs? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cs</code></code></td><td class='ruff_defitem'>color scheme (CS); <i>optional, default</i> <code>-2</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If cs&gt;-2, the appropriate CS is set for the created APaveBase object.</p>
<p class='ruff'>Makes few procedures in the object's namespace to access from event handlers:</p>
<ul class='ruff'>
<li>ListboxHandle</li>
<li>ListboxSelect</li>
<li>WinResize</li>
</ul>
<p class='ruff'>This trick with <em>proc</em> inside an object is discussed at <a href="https://stackoverflow.com/questions/54804964/proc-in-tcl-ooclass" >proc-in-tcl-ooclass</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_constructor' href="javascript:toggleSource('apave_APaveBase_constructor')">Show source</a></p>
<div id='apave_APaveBase_constructor' class='ruff_dyn_src'><pre><br><code class="tcl">method constructor {{cs -2} args} {
  # Creates APaveBase object.
  #   cs - color scheme (CS)
  #   args - additional arguments
  #
  # If cs&gt;-2, the appropriate CS is set for the created APaveBase object.
  #
  # Makes few procedures in the object's namespace to access from
  # event handlers:
  #   - ListboxHandle
  #   - ListboxSelect
  #   - WinResize
  # This trick with *proc* inside an object is discussed at
  #   [proc-in-tcl-ooclass](https://stackoverflow.com/questions/54804964/proc-in-tcl-ooclass)

  # keep the 'important' data of Pave object in array
  array set PV [list]
  set Moveall 1
  set Tonemoves 1
  set Initialcolor {}
  set Modalwin .
  set Fgbut [ttk::style lookup TButton -foreground]
  set Bgbut [ttk::style lookup TButton -background]
  set Fgtxt [ttk::style lookup TEntry -foreground]
  set Prepost [list]
  set Widgetopts [list]
  set Edge @@
  if {$Fgtxt in {black #000000}} {
    set Bgtxt white
  } else {
    set Bgtxt [ttk::style lookup TEntry -background]
  }
  # set/reset a color scheme if it is/was requested
  if {$cs&gt;=-1} {my csSet $cs} {my initTooltip}

  # object's procedures

  ; proc ListboxHandle {W offset maxChars} {

    set list {}
    foreach index [$W curselection] { lappend list [$W get $index] }
    set text [join $list \n]
    return [string range $text $offset [expr {$offset+$maxChars-1}]]
  }

  ; proc ListboxSelect {W} {
    # This code had been taken from Tcl's wiki:
    #   https://wiki.tcl-lang.org/page/listbox+selection

    selection clear -displayof $W
    selection own -command {} $W
    selection handle -type UTF8_STRING  $W [list [namespace current]::ListboxHandle $W]
    selection handle  $W [list [namespace current]::ListboxHandle $W]
    return
  }

  ; proc WinResize {win} {
    # Restricts the window's sizes (thus fixing Tk's issue with a menubar)
    #   win - path to a window to be of restricted sizes

    if {[$win cget -menu] ne {}} {
      lassign [::apave::splitGeometry [wm geometry $win]] w h
      lassign [wm minsize $win] wmin hmin
      if {$w&lt;$wmin &amp;&amp; $h&lt;$hmin} {
        set corrgeom ${wmin}x$hmin
      } elseif {$w&lt;$wmin} {
        set corrgeom ${wmin}x$h
      } elseif {$h&lt;$hmin} {
        set corrgeom ${w}x$hmin
      } else {
        return
      }
      wm geometry $win $corrgeom
    }
    return
  }

  # the end of APaveBase constructor
  if {[llength [self next]]} { next {*}$args }
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears variables used in the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_destructor' href="javascript:toggleSource('apave_APaveBase_destructor')">Show source</a></p>
<div id='apave_APaveBase_destructor' class='ruff_dyn_src'><pre><br><code class="tcl">method destructor {} {
  # Clears variables used in the object.

  array unset PV *
  if {[llength [self next]]} next
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::checkTimeoutButton'>checkTimeoutButton</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT checkTimeoutButton</span> <span class='ruff_arg'>w tmo lbl ?lbltext?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>button's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tmo</code></code></td><td class='ruff_defitem'>timeout in sec.</td></tr>
<tr><td class='ruff_defitem'><code><code>lbl</code></code></td><td class='ruff_defitem'>label widget, where seconds to wait are displayed</td></tr>
<tr><td class='ruff_defitem'><code><code>lbltext</code></code></td><td class='ruff_defitem'>original text of label; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_checkTimeoutButton' href="javascript:toggleSource('apave_APaveBase_checkTimeoutButton')">Show source</a></p>
<div id='apave_APaveBase_checkTimeoutButton' class='ruff_dyn_src'><pre><br><code class="tcl">method checkTimeoutButton {w tmo lbl {lbltext {}}} {
  # Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.
  #   w - button's path
  #   tmo - timeout in sec.
  #   lbl - label widget, where seconds to wait are displayed
  #   lbltext - original text of label

  if {[winfo exists $lbl]} {
    if {[focus] in [list $w {}]} {
      if {$w in $::apave::_AP_VARS(TIMW)} {
        my timeoutButton $w $tmo $lbl $lbltext
      }
    } else {
      $lbl configure -text $lbltext
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::checkXY'>checkXY</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks the coordinates of window (against the screen).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT checkXY</span> <span class='ruff_arg'>w h x y</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>width of window</td></tr>
<tr><td class='ruff_defitem'><code><code>h</code></code></td><td class='ruff_defitem'>height of window</td></tr>
<tr><td class='ruff_defitem'><code><code>x</code></code></td><td class='ruff_defitem'>window's X coordinate</td></tr>
<tr><td class='ruff_defitem'><code><code>y</code></code></td><td class='ruff_defitem'>window's Y coordinate</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns new coordinates in +X+Y form.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_checkXY' href="javascript:toggleSource('apave_APaveBase_checkXY')">Show source</a></p>
<div id='apave_APaveBase_checkXY' class='ruff_dyn_src'><pre><br><code class="tcl">method checkXY {w h x y} {
  # Checks the coordinates of window (against the screen).
  #   w - width of window
  #   h - height of window
  #   x - window's X coordinate
  #   y - window's Y coordinate
  # Returns new coordinates in +X+Y form.

  # check for left/right edge of screen (accounting decors)
  set scrw [expr {[winfo vrootwidth .] - 12}]
  set scrh [expr {[winfo vrootheight .] - 36}]
  if {($x + $w) &gt; $scrw } {
    set x [expr {$scrw - $w}]
  }
  if {($y + $h) &gt; $scrh } {
    set y [expr {$scrh - $h}]
  }
  if {![string match -* $x]} {set x +[string trimleft $x +]}
  if {![string match -* $y]} {set y +[string trimleft $y +]}
  return $x$y
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::chooser'>chooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Chooser (for all available types).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT chooser</span> <span class='ruff_arg'>nchooser tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>nchooser</code></code></td><td class='ruff_defitem'>name of chooser</td></tr>
<tr><td class='ruff_defitem'><code><code>tvar</code></code></td><td class='ruff_defitem'>name of variable containing an input/output value</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of the chooser</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The chooser names are:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>tk_getOpenFile</code></td><td class='ruff_defitem'>choose a file to open</td></tr>
<tr><td class='ruff_defitem'><code>tk_getSaveFile</code></td><td class='ruff_defitem'>choose a file to save</td></tr>
<tr><td class='ruff_defitem'><code>tk_chooseDirectory</code></td><td class='ruff_defitem'>choose a directory</td></tr>
<tr><td class='ruff_defitem'><code>fontChooser</code></td><td class='ruff_defitem'>choose a font</td></tr>
<tr><td class='ruff_defitem'><code>dateChooser</code></td><td class='ruff_defitem'>choose a date</td></tr>
<tr><td class='ruff_defitem'><code>colorChooser</code></td><td class='ruff_defitem'>choose a color</td></tr>
<tr><td class='ruff_defitem'><code>ftx_OpenFile</code></td><td class='ruff_defitem'>(internal) choose a file for ftx widget</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected value.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_chooser' href="javascript:toggleSource('apave_APaveBase_chooser')">Show source</a></p>
<div id='apave_APaveBase_chooser' class='ruff_dyn_src'><pre><br><code class="tcl">method chooser {nchooser tvar args} {
  # Chooser (for all available types).
  #   nchooser - name of chooser
  #   tvar - name of variable containing an input/output value
  #   args - options of the chooser
  #
  # The chooser names are:
  #   tk_getOpenFile - choose a file to open
  #   tk_getSaveFile - choose a file to save
  #   tk_chooseDirectory - choose a directory
  #   fontChooser - choose a font
  #   dateChooser - choose a date
  #   colorChooser - choose a color
  #   ftx_OpenFile - (internal) choose a file for ftx widget
  #
  # Returns a selected value.

  set isfilename [set rootname 0]
  lassign [::apave::extractOptions args  -ftxvar {} -tname {} -bname {} -parent {}] ftxvar tname bname parent
  if {$parent ne {}} {
    set parent &quot;-parent $parent&quot;
  } else {
    set parent [my ParentOpt]
  }
  lassign [::apave::getProperty DirFilGeoVars] dirvar filvar
  set vargeo {}
  if {$nchooser eq {ftx_OpenFile}} {
    set nchooser tk_getOpenFile
  }
  set widname {}
  set choosname $nchooser
  if {$choosname in {fontChooser colorChooser dateChooser}} {
    set nchooser &quot;my $choosname $tvar $parent $args&quot;
  } elseif {$choosname in {tk_getOpenFile tk_getSaveFile}} {
    set vargeo $filvar
    set widname [my AuxSetChooserGeometry $vargeo $dirvar $parent __tk_filedialog]
    if {[set fn [set $tvar]] eq {}} {
      set dn [pwd]
    } else {
      set dn [file dirname $fn]
      set fn [file tail $fn]
    }
    set dn [::apave::extractOptions args -initialdir $dn]
    if {[string match -* $dn]} {
      set rootname 1
      set dn [string range $dn 1 end]
    }
    set args &quot;-initialfile \&quot;$fn\&quot; -initialdir $dn $parent $args&quot;
    incr isfilename
  } elseif {$nchooser eq {tk_chooseDirectory}} {
    set vargeo $dirvar
    set widname [my AuxSetChooserGeometry $vargeo $filvar $parent __tk_choosedir]
    set args &quot;-initialdir \&quot;[set $tvar]\&quot; $parent $args&quot;
    incr isfilename
  }
  if {[::isunix] &amp;&amp; $choosname ne {dateChooser}} {
    my themeExternal *.foc.* *f1.demo  ;# don't touch tkcc's boxes
  }
  set res [{*}$nchooser {*}$args]
  if {&quot;$res&quot; ne {} &amp;&amp; &quot;$tvar&quot; ne {}} {
    if {$rootname} {set res [file rootname [file tail $res]]}
    if {$isfilename} {
      lassign [my SplitContentVariable $ftxvar] -&gt; txtnam wid
      if {[info exist $ftxvar] &amp;&amp;  [file exist [set res [file nativename $res]]]} {
        set $ftxvar [::apave::readTextFile $res]
        if {[winfo exist $txtnam]} {
          my readonlyWidget $txtnam no
          my displayTaggedText $txtnam $ftxvar
          my readonlyWidget $txtnam yes
          set wid [string range $txtnam 0 [string last . $txtnam]]$wid
          $wid configure -text &quot;$res&quot;
          ::tk::TextSetCursor $txtnam 1.0
          update
        }
      }
    }
    set $tvar $res
  }
  if {$vargeo ne {} &amp;&amp; $widname ne {} &amp;&amp; [::isunix]} {
    catch {
      set $vargeo [list $widname [wm geometry $widname]]  ;# 1st item for possible usage only
    }
  }
  if {$tname ne {}} {
    set tname [my [my ownWName $tname]]
    if {$bname ne {}} {
      # re-focus to fire invalidation of the entry (esp. for Windows)
      set ent [my ownWName $tname]
      set but [my ownWName $bname]
      set bname [string map [list .$ent .$but] $tname]
      focus $bname
    }
    focus $tname
    after idle &quot;$tname selection range 0 end ; $tname icursor end&quot;
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::chooserGeomVars'>chooserGeomVars</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets variables to save/restore geometry of Tcl/Tk dir/file choosers (in Linux).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT chooserGeomVars</span> <span class='ruff_arg'>dirvar filevar</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>dirvar</code></code></td><td class='ruff_defitem'>variable's name for geometry of directory chooser</td></tr>
<tr><td class='ruff_defitem'><code><code>filevar</code></code></td><td class='ruff_defitem'>variable's name for geometry of file chooser</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::chooser" title="chooser" class='ruff_cmd'>chooser</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_chooserGeomVars' href="javascript:toggleSource('apave_APaveBase_chooserGeomVars')">Show source</a></p>
<div id='apave_APaveBase_chooserGeomVars' class='ruff_dyn_src'><pre><br><code class="tcl">method chooserGeomVars {dirvar filevar} {
  # Sets variables to save/restore geometry of Tcl/Tk dir/file choosers (in Linux).
  #   dirvar - variable's name for geometry of directory chooser
  #   filevar - variable's name for geometry of file chooser
  # See also: chooser

  ::apave::setProperty DirFilGeoVars [list $dirvar $filevar]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::clearEntry'>clearEntry</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears entry-like widget's value, after calling a command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT clearEntry</span> <span class='ruff_arg'>w clearcom</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>clearcom</code></code></td><td class='ruff_defitem'>a command to call, can have %w for <em>w</em> (widget's path)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_clearEntry' href="javascript:toggleSource('apave_APaveBase_clearEntry')">Show source</a></p>
<div id='apave_APaveBase_clearEntry' class='ruff_dyn_src'><pre><br><code class="tcl">method clearEntry {w clearcom} {
  # Clears entry-like widget's value, after calling a command.
  #   w - widget's path
  #   clearcom - a command to call, can have %w for *w* (widget's path)

  if {$clearcom ne {}} {
    {*}[string map [list %w $w %p [self]] $clearcom]
  }
  #! perhaps, needs refactoring:
  if {[catch {$w delete 0 end}]} { ;# entry
    if {[catch {$w set {}}]} {     ;# combobox
      # others
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::colorChooser'>colorChooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Color chooser.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT colorChooser</span> <span class='ruff_arg'>tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tvar</code></code></td><td class='ruff_defitem'>name of variable containing a color</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of <em>tk_chooseColor</em></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>tvar</em> sets the value of <em>-initialcolor</em> option. Also it gets a color selected in the chooser.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected color.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_colorChooser' href="javascript:toggleSource('apave_APaveBase_colorChooser')">Show source</a></p>
<div id='apave_APaveBase_colorChooser' class='ruff_dyn_src'><pre><br><code class="tcl">method colorChooser {tvar args} {
  # Color chooser.
  #   tvar - name of variable containing a color
  #   args - options of *tk_chooseColor*
  #
  # The *tvar* sets the value of *-initialcolor* option. Also
  # it gets a color selected in the chooser.
  #
  # Returns a selected color.

  if {$Initialcolor eq {} &amp;&amp; [::isunix]} {
    source [file join $::apave::apaveDir pickers color clrpick.tcl]
  }
  lassign [::apave::extractOptions args -entry {}] ent
  if {$ent ne {}} {
    set ent [my [my ownWName $ent]]
    set x [winfo rootx $ent]
    set y [expr {[winfo rooty $ent]+32}]
    dict set args -geometry +$x+$y  ;# the same as with date picker
  }
  if {[set _ [string trim [set $tvar]]] ne {}} {
    set ic $_
    set _ [. cget -background]
    if {[catch {. configure -background $ic}]} {
      set ic &quot;#$ic&quot;
      if {[catch {. configure -background $ic}]} {set ic black}
    }
    set Initialcolor $ic
    . configure -background $_
  } else {
    set Initialcolor black
  }
  if {[catch {lassign [tk_chooseColor -moveall $Moveall  -tonemoves $Tonemoves -initialcolor $Initialcolor {*}$args]  res Moveall Tonemoves}]} {
    set args [::apave::removeOptions $args -moveall -tonemoves -geometry]
    set res [tk_chooseColor -initialcolor $Initialcolor {*}$args]
  }
  if {$res ne {}} {
    set Initialcolor [set $tvar $res]
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::colorWindow'>colorWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Initialize colors of a window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT colorWindow</span> <span class='ruff_arg'>win ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>arguments for csSet</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_colorWindow' href="javascript:toggleSource('apave_APaveBase_colorWindow')">Show source</a></p>
<div id='apave_APaveBase_colorWindow' class='ruff_dyn_src'><pre><br><code class="tcl">method colorWindow {win args} {
  # Initialize colors of a window.
  #   win - window's path
  #   args - arguments for csSet

  if {[my apaveTheme]} {
    my csSet [my csCurrent] $win {*}$args
    if {$args ne {-doit}} {my themeNonThemed $win}
  } else {
    my themeNonThemed $win
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::configure'>configure</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures the apave object (all of options may be changed).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT configure</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of pairs name/value of options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Example:</p>
<pre class='ruff'><br><code class="tcl">
pobj configure edge &quot;@@&quot;
<br></code></pre>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_configure' href="javascript:toggleSource('apave_APaveBase_configure')">Show source</a></p>
<div id='apave_APaveBase_configure' class='ruff_dyn_src'><pre><br><code class="tcl">method configure {args} {
  # Configures the apave object (all of options may be changed).
  #   args - list of pairs name/value of options
  # Example:
  #     pobj configure edge &quot;@@&quot;

  foreach {optnam optval} $args {set $optnam $optval}
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::dateChooser'>dateChooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Date chooser (calendar widget).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT dateChooser</span> <span class='ruff_arg'>tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tvar</code></code></td><td class='ruff_defitem'>name of variable containing a date</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of <em>::klnd::calendar</em></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected date.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_dateChooser' href="javascript:toggleSource('apave_APaveBase_dateChooser')">Show source</a></p>
<div id='apave_APaveBase_dateChooser' class='ruff_dyn_src'><pre><br><code class="tcl">method dateChooser {tvar args} {
  # Date chooser (calendar widget).
  #   tvar - name of variable containing a date
  #   args - options of *::klnd::calendar*
  #
  # Returns a selected date.

  my SourceKlnd {}
  if {![catch {set ent [my [my ownWName [::apave::getOption -entry {*}$args]]]}]} {
    dict set args -entry $ent
    set res [::klnd::calendar {*}$args -tvar $tvar -parent [winfo toplevel $ent]]
  } else {
    set res [::klnd::calendar {*}$args -tvar $tvar]
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::defaultATTRS'>defaultATTRS</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets, gets or registers default options and attributes for widget type.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT defaultATTRS</span> <span class='ruff_arg'>?type? ?opts? ?atrs? ?widget?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>widget type; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>opts</code></code></td><td class='ruff_defitem'>new default grid/pack options; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>atrs</code></code></td><td class='ruff_defitem'>new default attributes; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>widget</code></code></td><td class='ruff_defitem'>Tcl/Tk command for the new registered widget type; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>type</em> should be a three letter unique string.</p>
<p class='ruff'>If the <em>type</em> is absent in the registered types and <em>opts</em> and/or <em>atrs</em> is not set to &quot;&quot;, defaultATTRS registers the new <em>type</em> with its grid/pack options and attributes. At that <em>widget</em> is a command for the new widget type. For example, to register &quot;toolbutton&quot; widget: my defaultATTRS tbt {} {-style Toolbutton -compound top} ttk::button</p>
<p class='ruff'>Options and attributes may contain data (variables and commands) to be processed by [subst].</p>
<p class='ruff'>Returns:</p>
<ul class='ruff'>
<li>if not set <em>type</em>: a full list of options and attributes of all types</li>
<li>if set <em>type</em> only: a list of options, attributes and <em>widget</em></li>
<li>else: a list of updated options, attributes and <em>widget</em></li>
</ul>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_defaultATTRS' href="javascript:toggleSource('apave_APaveBase_defaultATTRS')">Show source</a></p>
<div id='apave_APaveBase_defaultATTRS' class='ruff_dyn_src'><pre><br><code class="tcl">method defaultATTRS {{type {}} {opts {}} {atrs {}} {widget {}}} {
  # Sets, gets or registers default options and attributes for widget type.
  #   type - widget type
  #   opts - new default grid/pack options
  #   atrs - new default attributes
  #   widget - Tcl/Tk command for the new registered widget type
  #
  # The *type* should be a three letter unique string.
  #
  # If the *type* is absent in the registered types and *opts* and/or *atrs*
  # is not set to &quot;&quot;, defaultATTRS registers the new *type* with its grid/pack
  # options and attributes. At that *widget* is a command for the new widget
  # type. For example, to register &quot;toolbutton&quot; widget:
  #   my defaultATTRS tbt {} {-style Toolbutton -compound top} ttk::button
  #
  # Options and attributes may contain data (variables and commands)
  # to be processed by [subst].
  #
  # Returns:
  #   - if not set *type*: a full list of options and attributes of all types
  #   - if set *type* only: a list of options, attributes and *widget*
  #   - else: a list of updated options, attributes and *widget*

  if {$type eq {}} {return $::apave::_Defaults}
  set optatr &quot;$opts$atrs&quot;
  if {[catch {set def1 [dict get $::apave::_Defaults $type]}]} {
    if {$optatr eq {}} {
      set err &quot;[self method]: \&quot;$type\&quot; widget type not registered.&quot;
      puts -nonewline stderr $err
      return -code error $err
    }
    set def1 [list $opts $atrs $widget]
  }
  if {$optatr eq {}} {return [subst $def1]}
  lassign $def1 defopts defatrs widget
  if {[catch {set defopts [dict replace $defopts {*}$opts]}]} {
    set defopts [string trim &quot;$defopts $opts&quot;]
  }
  if {[catch {set defatrs [dict replace $defatrs {*}$atrs]}]} {
    set defatrs [string trim &quot;$defatrs $atrs&quot;]
  }
  set newval [list $defopts $defatrs $widget]
  dict set ::apave::_Defaults $type $newval
  return $newval
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::displayTaggedText'>displayTaggedText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the text widget's contents using tags (ornamental details).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT displayTaggedText</span> <span class='ruff_arg'>w contsName ?tags?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text widget's name</td></tr>
<tr><td class='ruff_defitem'><code><code>contsName</code></code></td><td class='ruff_defitem'>variable name for contents to be set in the widget</td></tr>
<tr><td class='ruff_defitem'><code><code>tags</code></code></td><td class='ruff_defitem'>list of tags to be applied to the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The lines in <em>text contents</em> are divided by \n and can include <em>tags</em> like in a html layout, e.g. <red>RED ARMY</red>. The <em>tags</em> is a list of &quot;name/value&quot; pairs. 1st is a tag's name, 2nd is a tag's value. The tag's name is &quot;pure&quot; one (without &lt;&gt;) so e.g.for <b>..</b> the tag list contains &quot;b&quot;. The tag's value is a string of text attributes (-font etc.). If the tag's name is FG, FG2, BG or BG2, then it is really a link color.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_displayTaggedText' href="javascript:toggleSource('apave_APaveBase_displayTaggedText')">Show source</a></p>
<div id='apave_APaveBase_displayTaggedText' class='ruff_dyn_src'><pre><br><code class="tcl">method displayTaggedText {w contsName {tags {}}} {
  # Sets the text widget's contents using tags (ornamental details).
  #   w - text widget's name
  #   contsName - variable name for contents to be set in the widget
  #   tags - list of tags to be applied to the text
  #
  # The lines in *text contents* are divided by \n and can include
  # *tags* like in a html layout, e.g. &lt;red&gt;RED ARMY&lt;/red&gt;.
  # The *tags* is a list of &quot;name/value&quot; pairs. 1st is a tag's name, 2nd
  # is a tag's value.
  # The tag's name is &quot;pure&quot; one (without &lt;&gt;) so e.g.for &lt;b&gt;..&lt;/b&gt; the tag
  # list contains &quot;b&quot;.
  # The tag's value is a string of text attributes (-font etc.).
  # If the tag's name is FG, FG2, BG or BG2, then it is really a link color.

  upvar $contsName conts
  if {$tags eq {}} {
    my displayText $w $conts
    return
  }
  lassign [my csGet] fg fg2 bg bg2
  if { [set state [$w cget -state]] ne {normal}} {
    $w configure -state normal
  }
  set taglist [set tagpos [set taglen [list]]]
  foreach tagi $tags {
    lassign $tagi tag opts
    if {$tag in {FG FG2 BG BG2} } {
      set [string tolower $tag] $opts
    } elseif {![string match link* $tag]} {
      $w tag config $tag {*}$opts
    }
    lappend tagpos 0
    lappend taglen [string length $tag]
  }
  set tLen [llength $tags]
  set disptext {}
  set irow 1
  foreach line [split $conts \n] {
    if {$irow &gt; 1} {
      append disptext \n
    }
    set newline {}
    while 1 {
      set p [string first \&lt; $line]
      if {$p &lt; 0} {
        break
      }
      append newline [string range $line 0 $p-1]
      set line [string range $line $p end]
      set i 0
      set nrnc $irow.[string length $newline]
      foreach tagi $tags pos $tagpos len $taglen {
        lassign $tagi tag
        if {[string first &lt;$tag&gt; $line]==0} {
          if {$pos ne {0}} {
            error &quot;\napaveme.tcl: mismatched &lt;$tag&gt; in line $irow.\n&quot;
          }
          lset tagpos $i $nrnc
          set line [string range $line $len+2 end]
          break
        } elseif {[string first &lt;/$tag&gt; $line]==0} {
          if {$pos eq {0}} {
            error &quot;\napaveme.tcl: mismatched &lt;/$tag&gt; in line $irow.\n&quot;
          }
          lappend taglist [list $i $pos $nrnc]
          lset tagpos $i 0
          set line [string range $line $len+3 end]
          break
        }
        incr i
      }
      if {$i == $tLen} {
        # tag not found after &quot;&lt;&quot; - shift by 1 character
        append newline [string index $line 0]
        set line [string range $line 1 end]
      }
    }
    append disptext $newline $line
    incr irow
  }
  $w replace 1.0 end $disptext
  set lfont [$w cget -font]
  catch {set lfont [font actual $lfont]}
  foreach {o v} [my initLinkFont] {dict set lfont $o $v}
  set ::apave::__TEXTLINKS__($w) [list]
  for {set it [llength $taglist]} {[incr it -1]&gt;=0} {} {
    set tagli [lindex $taglist $it]
    lassign $tagli i p1 p2
    lassign [lindex $tags $i] tag opts
    if {[string match link* $tag] &amp;&amp;  [set ist [lsearch -exact -index 0 $tags $tag]]&gt;=0} {
      set txt [$w get $p1 $p2]
      set lab ${w}l[incr ::apave::__linklab__]
      ttk::label $lab -text $txt -font $lfont -foreground $fg -background $bg
      set ::apave::__TEXTLINKS__($w) [linsert $::apave::__TEXTLINKS__($w) 0 $lab]
      $w delete $p1 $p2
      $w window create $p1 -window $lab
      set v [lindex $tags $ist 1]
      my makeLabelLinked $lab $v $fg $bg $fg2 $bg2
    } else {
      $w tag add $tag $p1 $p2
    }
  }
  my resetText $w $state
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::displayText'>displayText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets the text widget's contents.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT displayText</span> <span class='ruff_arg'>w conts ?pos?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text widget's name</td></tr>
<tr><td class='ruff_defitem'><code><code>conts</code></code></td><td class='ruff_defitem'>contents to be set in the widget</td></tr>
<tr><td class='ruff_defitem'><code><code>pos</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>1.0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_displayText' href="javascript:toggleSource('apave_APaveBase_displayText')">Show source</a></p>
<div id='apave_APaveBase_displayText' class='ruff_dyn_src'><pre><br><code class="tcl">method displayText {w conts {pos 1.0}} {
  # Sets the text widget's contents.
  #   w - text widget's name
  #   conts - contents to be set in the widget

  if {[set state [$w cget -state]] ne {normal}} {
    $w configure -state normal
  }
  $w replace 1.0 end $conts
  $w edit reset; $w edit modified no
  if {$state eq {normal}} {
    ::tk::TextSetCursor $w $pos
  } else {
    $w configure -state $state
  }
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::dlgPath'>dlgPath</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a window name of apave open dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT dlgPath</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_dlgPath' href="javascript:toggleSource('apave_APaveBase_dlgPath')">Show source</a></p>
<div id='apave_APaveBase_dlgPath' class='ruff_dyn_src'><pre><br><code class="tcl">method dlgPath {} {
  # Gets a window name of apave open dialogue.

  if {[catch {set res $Dlgpath}] || $Dlgpath eq {}} {
    set res $::apave::MODALWINDOW
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::fillGutter'>fillGutter</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Fills a gutter of text with the text's line numbers.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT fillGutter</span> <span class='ruff_arg'>txt ?canvas? ?width? ?shift? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text widget</td></tr>
<tr><td class='ruff_defitem'><code><code>canvas</code></code></td><td class='ruff_defitem'>canvas of the gutter; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>width</code></code></td><td class='ruff_defitem'>width of the gutter, in chars; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>shift</code></code></td><td class='ruff_defitem'>addition to the width (to shift from the left side); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments for tracing</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The code is borrowed from open source tedit project.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_fillGutter' href="javascript:toggleSource('apave_APaveBase_fillGutter')">Show source</a></p>
<div id='apave_APaveBase_fillGutter' class='ruff_dyn_src'><pre><br><code class="tcl">method fillGutter {txt {canvas {}} {width {}} {shift {}} args} {
  # Fills a gutter of text with the text's line numbers.
  #  txt - path to the text widget
  #  canvas - canvas of the gutter
  #  width - width of the gutter, in chars
  #  shift - addition to the width (to shift from the left side)
  #  args - additional arguments for tracing
  # The code is borrowed from open source tedit project.

  set savedcont [namespace current]::gc$txt
  if {![winfo exists $txt] || ![winfo ismapped $txt]} {
    unset -nocomplain $savedcont
    return
  }
  if {$canvas eq {}} {
    event generate $txt &lt;Configure&gt; ;# repaints the gutter
    return
  }
  set oper [lindex $args 0 1]
  if {![llength $args] || [lindex $args 0 4] eq {-elide} ||  $oper in {configure delete insert see yview}} {
    set i [$txt index @0,0]
    set gcont [list]
    while true {
      set dline [$txt dlineinfo $i]
      if {[llength $dline] == 0} break
      set height [lindex $dline 3]
      set y [expr {[lindex $dline 1]}]
      set linenum [format &quot;%${width}d&quot; [lindex [split $i .] 0]]
      set i [$txt index &quot;$i +1 lines linestart&quot;]
      lappend gcont [list $y $linenum]
    }
    # update the gutter at changing its contents/config
    if {[::apave::cs_Active]} {
      lassign [my csGet] - - - bg - - - - fg
      ::apave::setProperty _GUTTER_FGBG [list $fg $bg]
    } else {
      lassign [::apave::getProperty _GUTTER_FGBG] fg bg
    }
    set cwidth [expr {$shift +  [font measure apaveFontMono -displayof $txt [string repeat 0 $width]]}]
    set newbg [expr {$bg ne [$canvas cget -background]}]
    set newwidth [expr {$cwidth ne [$canvas cget -width]}]
    if {![llength $args] || $newbg || $newwidth || ![info exists $savedcont] ||  $gcont ne [set $savedcont]} {
      if {$newbg} {$canvas config -background $bg}
      if {$newwidth} {$canvas config -width $cwidth}
      $canvas delete all
      foreach g $gcont {
        lassign $g y linenum
        $canvas create text 2 $y -anchor nw -text $linenum -font apaveFontMono -fill $fg
      }
      set $savedcont $gcont
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::findWidPath'>findWidPath</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Searches a widget's path among the active widgets.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT findWidPath</span> <span class='ruff_arg'>wid ?mode? ?visible?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wid</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>if &quot;exact&quot;, searches <em>.wid; if &quot;globe&quot;, searches </em>wid*; <i>optional, default</i> <code>exact</code></td></tr>
<tr><td class='ruff_defitem'><code><code>visible</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>widget name, set partially e.g. &quot;wid&quot; instead of &quot;.win.wid&quot;</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the widget's full path or &quot;&quot; if the widget isn't active.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_findWidPath' href="javascript:toggleSource('apave_APaveBase_findWidPath')">Show source</a></p>
<div id='apave_APaveBase_findWidPath' class='ruff_dyn_src'><pre><br><code class="tcl">method findWidPath {wid {mode exact} {visible yes}} {
  # Searches a widget's path among the active widgets.
  #   w - widget name, set partially e.g. &quot;wid&quot; instead of &quot;.win.wid&quot;
  #   mode - if &quot;exact&quot;, searches *.wid; if &quot;globe&quot;, searches *wid*
  # Returns the widget's full path or &quot;&quot; if the widget isn't active.

  my getWidChildren . tree
  if {$mode eq {exact}} {
    set i [lsearch -glob $tree &quot;*.$wid&quot;]
  } else {
    set i [lsearch -glob $tree &quot;*$wid*&quot;]
  }
  if {$i&gt;-1} {return [lindex $tree $i]}
  return {}
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::focusNext'>focusNext</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets focus on a next widget (possibly, defined as <code>my Widget</code>).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT focusNext</span> <span class='ruff_arg'>w wnext ?wnext0?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>parent window name</td></tr>
<tr><td class='ruff_defitem'><code><code>wnext</code></code></td><td class='ruff_defitem'>next widget's name</td></tr>
<tr><td class='ruff_defitem'><code><code>wnext0</code></code></td><td class='ruff_defitem'>core next name (used internally, for recursive search); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_focusNext' href="javascript:toggleSource('apave_APaveBase_focusNext')">Show source</a></p>
<div id='apave_APaveBase_focusNext' class='ruff_dyn_src'><pre><br><code class="tcl">method focusNext {w wnext {wnext0 {}}} {
  # Sets focus on a next widget (possibly, defined as `my Widget`).
  #   w - parent window name
  #   wnext - next widget's name
  #   wnext0 - core next name (used internally, for recursive search)

  if {$wnext eq {}} return
  if {[winfo exist $wnext]} {
    focus $wnext  ;# direct path to the next widget
    return
  }
  # try to find the next widget in hierarchy of widgets
  set ws $wnext
  if {$wnext0 eq {}} {
    # get the real next widget (wnext can be uppercased or calculated)
    catch {set wnext [subst $wnext]}
    if {![string match {my *} $wnext]} {
      catch {set wnext [my [my ownWName $wnext]]}
    }
    my focusNext $w $wnext $wnext
  } else {
    set wnext $wnext0
  }
  foreach wn [winfo children $w] {
    my focusNext $wn $wnext $wnext0
    if {[string match &quot;*.$wnext&quot; $wn] || [string match &quot;*.$ws&quot; $wn]} {
      focus $wn
      return
    }
  }
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::fontChooser'>fontChooser</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Font chooser.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT fontChooser</span> <span class='ruff_arg'>tvar ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tvar</code></code></td><td class='ruff_defitem'>name of variable containing a font</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of <em>tk fontchooser</em></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>tvar</em> sets the value of <em>-font</em> option. Also it gets a font selected in the chooser.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a selected font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_fontChooser' href="javascript:toggleSource('apave_APaveBase_fontChooser')">Show source</a></p>
<div id='apave_APaveBase_fontChooser' class='ruff_dyn_src'><pre><br><code class="tcl">method fontChooser {tvar args} {
  # Font chooser.
  #   tvar - name of variable containing a font
  #   args - options of *tk fontchooser*
  #
  # The *tvar* sets the value of *-font* option. Also
  # it gets a font selected in the chooser.
  #
  # Returns a selected font.

  set parw [::apave::parseOptions $args -parent [::apave::rootModalWindow .]]
  ; proc [namespace current]::applyFont {font} &quot;  set $tvar \[font actual \$font\];  focus -force $parw&quot;
  set font [set $tvar]
  if {$font eq {}} {
    catch {font create fontchoose {*}$::apave::FONTMAIN}
  } else {
    catch {font delete fontchoose}
    catch {font create fontchoose {*}[font actual $font]}
  }
  tk fontchooser configure -font fontchoose {*}[my ParentOpt]  {*}$args -command [namespace current]::applyFont
  set res [tk fontchooser show]
  # core Tk font chooser is bad with focusing in and out, it isn't modal
  if {[set foc [info commands *__tk__fontchooser.ok]] ne {}} {
    after idle [list after 0 [list catch &quot;focus -force $foc&quot;]]
  }
  return [set $tvar] ;#$font
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::getShowOption'>getShowOption</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a default show option, used in showModal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT getShowOption</span> <span class='ruff_arg'>name ?defval?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>defval</code></code></td><td class='ruff_defitem'>default value; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::showModal" title="showModal" class='ruff_cmd'>showModal</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_getShowOption' href="javascript:toggleSource('apave_APaveBase_getShowOption')">Show source</a></p>
<div id='apave_APaveBase_getShowOption' class='ruff_dyn_src'><pre><br><code class="tcl">method getShowOption {name {defval {}}} {
  # Gets a default show option, used in showModal.
  #   name - name of option
  #   defval - default value
  # See also: showModal

  ::apave::getProperty [my ShowOption $name] $defval
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::getTextContent'>getTextContent</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets text content.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT getTextContent</span> <span class='ruff_arg'>tvar</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>tvar</code></code></td><td class='ruff_defitem'>text variable</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Uses an internal text variable to extract the text contents.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the content of text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_getTextContent' href="javascript:toggleSource('apave_APaveBase_getTextContent')">Show source</a></p>
<div id='apave_APaveBase_getTextContent' class='ruff_dyn_src'><pre><br><code class="tcl">method getTextContent {tvar} {
  # Gets text content.
  #   tvar - text variable
  # Uses an internal text variable to extract the text contents.
  # Returns the content of text.

  lassign [my SplitContentVariable [my GetContentVariable $tvar]]  -&gt; txtnam wid
  return [string trimright [$txtnam get 1.0 end]]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::getWidChildren'>getWidChildren</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets children of a widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT getWidChildren</span> <span class='ruff_arg'>wid treeName ?init?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wid</code></code></td><td class='ruff_defitem'>widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>treeName</code></code></td><td class='ruff_defitem'>name of variable to hold the result.</td></tr>
<tr><td class='ruff_defitem'><code><code>init</code></code></td><td class='ruff_defitem'>Not documented; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_getWidChildren' href="javascript:toggleSource('apave_APaveBase_getWidChildren')">Show source</a></p>
<div id='apave_APaveBase_getWidChildren' class='ruff_dyn_src'><pre><br><code class="tcl">method getWidChildren {wid treeName {init yes}} {
  # Gets children of a widget.
  #   wid - widget's path
  #   treeName - name of variable to hold the result.

  upvar $treeName tree
  if {$init} {set tree [list]}
  foreach ch [winfo children $wid] {
    lappend tree $ch
    my getWidChildren $ch $treeName no
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::gutterContents'>gutterContents</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets contents of a text's gutter</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT gutterContents</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_gutterContents' href="javascript:toggleSource('apave_APaveBase_gutterContents')">Show source</a></p>
<div id='apave_APaveBase_gutterContents' class='ruff_dyn_src'><pre><br><code class="tcl">method gutterContents {txt} {
  # Gets contents of a text's gutter
  #   txt - text's path

  set savedcont [namespace current]::gc$txt
  if {[info exists $savedcont]} {
    return [set $savedcont]
  }
  return {}
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::iconA'>iconA</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets icon attributes for buttons, menus etc.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT iconA</span> <span class='ruff_arg'>icon ?iconset? ?cmpd?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>name of icon</td></tr>
<tr><td class='ruff_defitem'><code><code>iconset</code></code></td><td class='ruff_defitem'>one of small/middle/large; <i>optional, default</i> <code>small</code></td></tr>
<tr><td class='ruff_defitem'><code><code>cmpd</code></code></td><td class='ruff_defitem'>value of -compound option; <i>optional, default</i> <code>left</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>iconset</em> is &quot;small&quot; for menus (recommended and default).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_iconA' href="javascript:toggleSource('apave_APaveBase_iconA')">Show source</a></p>
<div id='apave_APaveBase_iconA' class='ruff_dyn_src'><pre><br><code class="tcl">method iconA {icon {iconset small} {cmpd left}} {
  # Gets icon attributes for buttons, menus etc.
  #   icon - name of icon
  #   iconset - one of small/middle/large
  #   cmpd - value of -compound option
  # The *iconset* is &quot;small&quot; for menus (recommended and default).

  return &quot;-image [::apave::iconImage $icon $iconset] -compound $cmpd&quot;
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::initLinkFont'>initLinkFont</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets font attributes of links (labels &amp; text tags with -link).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT initLinkFont</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>font attributes (&quot;-underline 1&quot; by default)</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the current value of these attributes.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_initLinkFont' href="javascript:toggleSource('apave_APaveBase_initLinkFont')">Show source</a></p>
<div id='apave_APaveBase_initLinkFont' class='ruff_dyn_src'><pre><br><code class="tcl">method initLinkFont {args} {
  # Gets/sets font attributes of links (labels &amp; text tags with -link).
  #  args - font attributes (&quot;-underline 1&quot; by default)
  # Returns the current value of these attributes.

  if {[set ll [llength $args]]} {
    if {$ll%2} {   ;# clear the attributes, if called with &quot;&quot;
      set ::apave::_AP_VARS(LINKFONT) [list]
    } else {
      lassign [::apave::extractOptions args -foreground {} -background {}]  ::apave::_AP_VARS(LINKFG) ::apave::_AP_VARS(LINKBG)
      set ::apave::_AP_VARS(LINKFONT) $args
    }
  }
  return $::apave::_AP_VARS(LINKFONT)
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::labelFlashing'>labelFlashing</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Options of 'flashing' label: -file (or -data) {list of image files (or data variables)} -label {list of labels' texts} -incr {increment for -alpha option} -pause {pause in seconds for -alpha 1.0} -after {interval for 'after'} -squeeze {value for *-big.png}</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT labelFlashing</span> <span class='ruff_arg'>w1 w2 first ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w1</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>w2</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>first</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_labelFlashing' href="javascript:toggleSource('apave_APaveBase_labelFlashing')">Show source</a></p>
<div id='apave_APaveBase_labelFlashing' class='ruff_dyn_src'><pre><br><code class="tcl">method labelFlashing {w1 w2 first args} {
  # Options of 'flashing' label:
  #   -file (or -data) {list of image files (or data variables)}
  #   -label {list of labels' texts}
  #   -incr {increment for -alpha option}
  #   -pause {pause in seconds for -alpha 1.0}
  #   -after {interval for 'after'}
  #   -squeeze {value for *-big.png}

  if {![winfo exists $w1]} return
  if {$first} {
    lassign [::apave::parseOptions $args  -file {} -data {} -label {} -incr 0.01 -pause 3.0 -after 10 -squeeze {} -static 0]  ofile odata olabel oincr opause oafter osqueeze ostatic
    if {$osqueeze ne {}} {set osqueeze &quot;-subsample $osqueeze&quot;}
    lassign {0 -2 0 1} idx incev waitev direv
  } else {
    lassign $args ofile odata olabel oincr opause oafter osqueeze ostatic  idx incev waitev direv
  }
  set llf [llength $ofile]
  set lld [llength $odata]
  if {[set llen [expr {max($llf,$lld)}]]==0} return
  incr incev $direv
  set alphaev [expr {$oincr*$incev}]
  if {$alphaev&gt;=1} {
    set alpha 1.0
    if {[incr waitev -1]&lt;0} {
      set direv -1
    }
  } elseif {$alphaev&lt;0} {
    set alpha 0.0
    set idx [expr {$idx%$llen+1}]
    set direv 1
    set incev 0
    set waitev [expr {int($opause/$oincr)}]
  } else {
    set alpha $alphaev
  }
  if {$llf} {
    set png [list -file [lindex $ofile $idx-1]]
  } elseif {[info exists [set datavar [lindex $odata $idx-1]]]} {
    set png [list -data [set $datavar]]
  } else {
    set png [list -data $odata]
  }
  set NS [namespace current]
  if {$ostatic} {
    image create photo ${NS}::ImgT$w1 {*}$png
    $w1 configure -image ${NS}::ImgT$w1
  } else {
    image create photo ${NS}::ImgT$w1 {*}$png -format &quot;png -alpha $alpha&quot;
    image create photo ${NS}::Img$w1
    ${NS}::Img$w1 copy ${NS}::ImgT$w1 {*}$osqueeze
    $w1 configure -image ${NS}::Img$w1
  }
  if {$w2 ne {}} {
    if {$alphaev&lt;0.33 &amp;&amp; !$ostatic} {
      set fg [$w1 cget -background]
    } else {
      if {[info exists ::apave::_AP_VISITED(FG,$w2)]} {
        set fg $::apave::_AP_VISITED(FG,$w2)
      } else {
        set fg [$w1 cget -foreground]
      }
    }
    $w2 configure -text [lindex $olabel $idx-1] -foreground $fg
  }
  after $oafter [list [self] labelFlashing $w1 $w2 0  $ofile $odata $olabel $oincr $opause $oafter $osqueeze $ostatic  $idx $incev $waitev $direv]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::leadingSpaces'>leadingSpaces</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a number of leading spaces of a line</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT leadingSpaces</span> <span class='ruff_arg'>line</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>line</code></code></td><td class='ruff_defitem'>the line</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a number of leading spaces of a line</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_leadingSpaces' href="javascript:toggleSource('apave_APaveBase_leadingSpaces')">Show source</a></p>
<div id='apave_APaveBase_leadingSpaces' class='ruff_dyn_src'><pre><br><code class="tcl">method leadingSpaces {line} {
  # Returns a number of leading spaces of a line
  #   line - the line

  return [expr {[string length $line]-[string length [string trimleft $line]]}]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::makeLabelLinked'>makeLabelLinked</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes the linked label from a label.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT makeLabelLinked</span> <span class='ruff_arg'>lab v fg bg fg2 bg2 ?doadd? ?inv?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lab</code></code></td><td class='ruff_defitem'>label's path</td></tr>
<tr><td class='ruff_defitem'><code><code>v</code></code></td><td class='ruff_defitem'>data of the link: command, tip, visited</td></tr>
<tr><td class='ruff_defitem'><code><code>fg</code></code></td><td class='ruff_defitem'>foreground unhovered</td></tr>
<tr><td class='ruff_defitem'><code><code>bg</code></code></td><td class='ruff_defitem'>background unhovered</td></tr>
<tr><td class='ruff_defitem'><code><code>fg2</code></code></td><td class='ruff_defitem'>foreground hovered</td></tr>
<tr><td class='ruff_defitem'><code><code>bg2</code></code></td><td class='ruff_defitem'>background hovered</td></tr>
<tr><td class='ruff_defitem'><code><code>doadd</code></code></td><td class='ruff_defitem'>flag &quot;register the label in the list of visited&quot; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>inv</code></code></td><td class='ruff_defitem'>flag &quot;invert the meaning of colors&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_makeLabelLinked' href="javascript:toggleSource('apave_APaveBase_makeLabelLinked')">Show source</a></p>
<div id='apave_APaveBase_makeLabelLinked' class='ruff_dyn_src'><pre><br><code class="tcl">method makeLabelLinked {lab v fg bg fg2 bg2 {doadd yes} {inv no}} {
  # Makes the linked label from a label.
  #   lab - label's path
  #   v - data of the link: command, tip, visited
  #   fg - foreground unhovered
  #   bg - background unhovered
  #   fg2 - foreground hovered
  #   bg2 - background hovered
  #   doadd - flag &quot;register the label in the list of visited&quot;
  #   inv - flag &quot;invert the meaning of colors&quot;

  set txt [$lab cget -text]
  lassign [split [string map [list $Edge $::apave::UFF] $v] $::apave::UFF] v tt vz
  set tt [string map [list %l $txt] $tt]
  set v [string map [list %l $txt %t $tt] $v]
  if {$tt ne {}} {
    set tt [my MC $tt]
    ::baltip tip $lab $tt
    lappend ::apave::_AP_VARS(TIMW) $lab
  }
  if {$inv} {
    set ft $fg
    set bt $bg
    set fg $fg2
    set bg $bg2
    set fg2 $ft
    set bg2 $bt
  }
  my VisitedLab $lab $v $vz $fg $bg
  bind $lab &lt;Enter&gt; &quot;::apave::obj EXPORT HoverLab $lab {$v} yes $fg2 $bg2&quot;
  bind $lab &lt;Leave&gt; &quot;::apave::obj EXPORT HoverLab $lab {$v} no $fg $bg&quot;
  bind $lab &lt;Button-1&gt; &quot;::apave::obj EXPORT VisitedLab $lab {$v} yes $fg2 $bg2;$v&quot;
  if {$doadd} {lappend ::apave::_AP_VISITED(ALL) [list $lab $v $inv]}
  return [list $fg $bg $fg2 $bg2]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::makePopup'>makePopup</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes a popup menu for an editable widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT makePopup</span> <span class='ruff_arg'>w ?isRO? ?istext? ?tearoff? ?addpop? ?clearcom?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>widget's name</td></tr>
<tr><td class='ruff_defitem'><code><code>isRO</code></code></td><td class='ruff_defitem'>flag for &quot;is it readonly&quot; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>istext</code></code></td><td class='ruff_defitem'>flag for &quot;is it a text&quot; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>tearoff</code></code></td><td class='ruff_defitem'>flag for &quot;-tearoff&quot; option; <i>optional, default</i> <code>no</code></td></tr>
<tr><td class='ruff_defitem'><code><code>addpop</code></code></td><td class='ruff_defitem'>additional commands for popup menu; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>clearcom</code></code></td><td class='ruff_defitem'>command for &quot;Clear&quot; item; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_makePopup' href="javascript:toggleSource('apave_APaveBase_makePopup')">Show source</a></p>
<div id='apave_APaveBase_makePopup' class='ruff_dyn_src'><pre><br><code class="tcl">method makePopup {w {isRO no} {istext no} {tearoff no} {addpop {}} {clearcom {}}} {
  # Makes a popup menu for an editable widget.
  #   w - widget's name
  #   isRO - flag for &quot;is it readonly&quot;
  #   istext - flag for &quot;is it a text&quot;
  #   tearoff - flag for &quot;-tearoff&quot; option
  #   addpop - additional commands for popup menu
  #   clearcom - command for &quot;Clear&quot; item

  set pop $w.popupMenu
  catch {menu $pop -tearoff $tearoff}
  $pop delete 0 end
  if {$isRO || [$w cget -state] eq {disabled}} {
    $pop add command {*}[my iconA copy] -accelerator Ctrl+C -label Copy  -command &quot;event generate $w &lt;&lt;Copy&gt;&gt;&quot;
    if {$istext} {
      eval [my popupHighlightCommands $pop $w]
      after idle [list [self] set_highlight_matches $w]
    }
  } else {
    if {$istext} {
      ::apave::bindToEvent $w &lt;&lt;Copy&gt;&gt; ::apave::eventOnText $w &lt;&lt;Copy&gt;&gt;
      ::apave::bindToEvent $w &lt;&lt;Cut&gt;&gt; ::apave::eventOnText $w &lt;&lt;Cut&gt;&gt;
      $pop add command {*}[my iconA cut] -accelerator Ctrl+X -label Cut  -command &quot;event generate $w &lt;&lt;Cut&gt;&gt;&quot;
      $pop add command {*}[my iconA copy] -accelerator Ctrl+C -label Copy  -command &quot;event generate $w &lt;&lt;Copy&gt;&gt;&quot;
      $pop add command {*}[my iconA paste] -accelerator Ctrl+V -label Paste  -command &quot;::apave::eventOnText $w &lt;&lt;Paste&gt;&gt;&quot;
      $pop add separator
      $pop add command {*}[my iconA undo] -accelerator Ctrl+Z -label Undo  -command &quot;::apave::eventOnText $w &lt;&lt;Undo&gt;&gt;&quot;
      $pop add command {*}[my iconA redo] -accelerator Ctrl+Shift+Z -label Redo  -command &quot;::apave::eventOnText $w &lt;&lt;Redo&gt;&gt;&quot;
      catch {
        eval [my popupBlockCommands $pop $w]
        eval [my popupHighlightCommands $pop $w]
        if {$addpop ne {}} {
          lassign $addpop com par1 par2
          eval [my $com $pop $w {*}$par1 {*}$par2]
        }
        after idle [list [self] set_highlight_matches $w]
        after idle [my setTextBinds $w]
      }
    } else {
      if {$clearcom ne {}} {
        $pop add command {*}[my iconA no] -label Clear  -command [list [self] clearEntry $w $clearcom]
        $pop add separator
      }
      $pop add command {*}[my iconA cut] -accelerator Ctrl+X -label Cut  -command &quot;event generate $w &lt;&lt;Cut&gt;&gt;&quot;
      $pop add command {*}[my iconA copy] -accelerator Ctrl+C -label Copy  -command &quot;event generate $w &lt;&lt;Copy&gt;&gt;&quot;
      $pop add command {*}[my iconA paste] -accelerator Ctrl+V -label Paste  -command &quot;event generate $w &lt;&lt;Paste&gt;&gt;&quot;
    }
  }
  if {$istext} {
    $pop add separator
    $pop add command {*}[my iconA none] -accelerator Ctrl+A -label {Select All}  -command &quot;$w tag add sel 1.0 end&quot;
    bind $w &lt;Control-a&gt; &quot;$w tag add sel 1.0 end; break&quot;
  }
  bind $w &lt;Button-3&gt; &quot;[self] themePopup $w.popupMenu; tk_popup $w.popupMenu %X %Y&quot;
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::makeWindow'>makeWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates a toplevel window that has to be paved.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT makeWindow</span> <span class='ruff_arg'>w ttl ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>window's title</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options for 'toplevel' command</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <code>$w</code> matches &quot;*.fra&quot; then ttk::frame is created with name <code>$w</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_makeWindow' href="javascript:toggleSource('apave_APaveBase_makeWindow')">Show source</a></p>
<div id='apave_APaveBase_makeWindow' class='ruff_dyn_src'><pre><br><code class="tcl">method makeWindow {w ttl args} {
  # Creates a toplevel window that has to be paved.
  #   w - window's name
  #   ttl - window's title
  #   args - options for 'toplevel' command
  # If $w matches &quot;*.fra&quot; then ttk::frame is created with name $w.

  my CleanUps
  set w [set wtop [string trimright $w .]]
  set withfr [expr {[set pp [string last . $w]]&gt;0 &amp;&amp;  [string match *.fra $w]}]
  if {$withfr} {
    set wtop [string range $w 0 $pp-1]
  }
  catch {destroy $wtop}
  lassign [::apave::extractOptions args -type {}] type
  toplevel $wtop {*}$args
  ::apave::withdraw $wtop ;# nice to hide all gui manipulations
  if {$type ne {} &amp;&amp; [tk windowingsystem] eq {x11}} {
    wm attributes $wtop -type $type
  }
  if {$withfr} {
    pack [frame $w -background [lindex [my csGet] 3]] -expand 1 -fill both
  }
  wm title $wtop $ttl
  return $wtop
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::menuTips'>menuTips</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes tip(s) for menu and its items.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT menuTips</span> <span class='ruff_arg'>win tip ?wpar?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>menu's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tip</code></code></td><td class='ruff_defitem'>tip's text</td></tr>
<tr><td class='ruff_defitem'><code><code>wpar</code></code></td><td class='ruff_defitem'>path to menu's parent (for opc widget); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The tips for menu items are set by &quot;-indexedtips ?idx tip...?&quot; e.g., a tip can be &quot;parent tip -indexedtips 0 1stItem 9 {10th Item}&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_menuTips' href="javascript:toggleSource('apave_APaveBase_menuTips')">Show source</a></p>
<div id='apave_APaveBase_menuTips' class='ruff_dyn_src'><pre><br><code class="tcl">method menuTips {win tip {wpar {}}} {
  # Makes tip(s) for menu and its items.
  #   win - menu's path
  #   tip - tip's text
  #   wpar - path to menu's parent (for opc widget)
  # The tips for menu items are set by &quot;-indexedtips ?idx tip...?&quot;
  # e.g., a tip can be &quot;parent tip -indexedtips 0 1stItem 9 {10th Item}&quot;

  if {$tip ne {}} {
    set tip [my MC $tip]
    if {[set i [string first {-indexedtips } $tip]]&gt;-1} {
      set indexedtips [string range $tip [string first { } $tip $i]+1 end]
      set tip [string range $tip 0 $i-1]
    } else {
      set indexedtips {}
    }
    # \indexedtips to present -indexedtips in parent tip
    set tip [string map &quot;\\indexedtips -indexedtips&quot; $tip]
    catch {
      # tips for indexed items of menu
      while {$indexedtips ne {}} {
        lassign $indexedtips idx itip
        if {$idx eq {}} break
        after idle [list ::baltip tip $win $itip -index $idx]
        set indexedtips [lrange $indexedtips 2 end]
      }
    }
    if {$tip ne {} &amp;&amp; $wpar ne {}} {
      after idle [list ::baltip tip $wpar $tip]  ;# tip for the parent widget
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::onKeyTextM'>onKeyTextM</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes indents and braces at pressing keys.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT onKeyTextM</span> <span class='ruff_arg'>w K ?s?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>K</code></code></td><td class='ruff_defitem'>key's name</td></tr>
<tr><td class='ruff_defitem'><code><code>s</code></code></td><td class='ruff_defitem'>key's state; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_onKeyTextM' href="javascript:toggleSource('apave_APaveBase_onKeyTextM')">Show source</a></p>
<div id='apave_APaveBase_onKeyTextM' class='ruff_dyn_src'><pre><br><code class="tcl">method onKeyTextM {w K {s {}}} {
  # Processes indents and braces at pressing keys.
  #   w - text's path
  #   K - key's name
  #   s - key's state

  set lindt [string length $::apave::_AP_VARS(INDENT)]
  switch -exact $K {
    Return - KP_Enter {
      # at pressing Enter key, indent (and possibly add the right brace)
      # but shift/ctrl+Enter acts by default - without indenting
      if {$s &amp; 1 || $s &amp; 4} return
      set idx1 [$w index {insert linestart}]
      set idx2 [$w index {insert lineend}]
      set line [$w get $idx1 $idx2]
      set nchars [my leadingSpaces $line]
      set indent [string range $line 0 $nchars-1]
      set ch1 [string range $line $nchars $nchars+1]
      set islist [expr {$ch1 in {{* } {- } {# }}}]
      set ch2 [string index $line end]
      set idx1 [$w index insert]
      set idx2 [$w index &quot;$idx1 +1 line&quot;]
      set st2 [$w get &quot;$idx2 linestart&quot; &quot;$idx2 lineend&quot;]
      set ch3 [string index [string trimleft $st2] 0]
      if {$indent ne {} || $ch2 eq &quot;\{&quot; || $K eq {KP_Enter} || $st2 ne {} || $islist} {
        set st1 [$w get &quot;$idx1&quot; &quot;$idx1 lineend&quot;]
        if {[string index $st1 0] in [list \t { }]} {
          # if space(s) are at the right, remove them at cutting
          set n1 [my leadingSpaces $st1]
          $w delete $idx1 [$w index &quot;$idx1 +$n1 char&quot;]
        } elseif {$ch2 eq &quot;\{&quot; &amp;&amp; $st1 eq {}} {
          # indent + closing brace
          set nchars2 [my leadingSpaces $st2]
          if {$st2 eq {} || $nchars&gt;$nchars2 || ($nchars==$nchars2 &amp;&amp; $ch3 ne &quot;\}&quot;)} {
            append indent $::apave::_AP_VARS(INDENT) \n $indent &quot;\}&quot;
          } else {
            append indent $::apave::_AP_VARS(INDENT)
          }
          incr nchars $lindt
        } elseif {$indent eq {} &amp;&amp; $st2 ne {}} {
          # no indent of previous line, try to get it from the next
          if {[string trim $st2] eq &quot;\}&quot;} {
            # add indentation for the next brace
            set st2 &quot;$::apave::_AP_VARS(INDENT)$st2&quot;
          }
          set nchars [my leadingSpaces $st2]
          set indent [string range $st2 0 [expr {$nchars-1}]]
        }
        # a new line supplied with &quot;list-like pattern&quot;
        if {$islist &amp;&amp; ![string match *.0 $idx1] &amp;&amp;  [string trim [$w get &quot;$idx1 linestart&quot; $idx1]] ne {}} {
          if {$ch1 eq {# } &amp;&amp; int($idx1)&gt;1} {
            # for comments: if only more than 1 of them, then add another
            set idx0 [$w index &quot;$idx1 -1 line&quot;]
            set st0 [string trimleft [$w get &quot;$idx0 linestart&quot; &quot;$idx0 lineend&quot;]]
            if {[string index $st0 0] ne {#} &amp;&amp; $ch3 ne {#}} {
              set ch1 {}
            }
          }
          set indent &quot;$indent$ch1&quot;
          incr nchars [string length $ch1]
        }
        $w insert $idx1 \n$indent
        ::tk::TextSetCursor $w [$w index &quot;$idx2 linestart +$nchars char&quot;]
        return -code break
      }
    }
  braceright {
      # right brace pressed: shift the brace to left
      set idx1 [$w index insert]
      set st [$w get &quot;$idx1 linestart&quot; &quot;$idx1 lineend&quot;]
      set idx2 [$w index &quot;$idx1 -1 line&quot;]
      set st2 [$w get &quot;$idx2 linestart&quot; &quot;$idx2 lineend&quot;]
      set nchars [my leadingSpaces $st]
      set nchars2 [my leadingSpaces $st2]
      set st2 [string index $st2 end]
      if {($st2 ne &quot;\{&quot; &amp;&amp; $nchars2&lt;=$nchars || $st2 eq &quot;\{&quot; &amp;&amp; $nchars2&lt;$nchars)  &amp;&amp; [string trimright $st] eq {} &amp;&amp; [string length $st]&gt;=$lindt} {
        if {$nchars&gt;$nchars2} {set lindt [expr {$nchars-$nchars2}]}
        $w delete &quot;$idx1 lineend -$lindt char&quot; &quot;$idx1 lineend&quot;
      }
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::optionCascadeText'>optionCascadeText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Rids a tk_optionCascade item of braces.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT optionCascadeText</span> <span class='ruff_arg'>it</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>it</code></code></td><td class='ruff_defitem'>an item to be trimmed</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Reason: tk_optionCascade items shimmer between 'list' and 'string' so a multiline item is displayed with braces, if not got rid of them.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns the item trimmed.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::tk_optionCascade" title="tk_optionCascade" class='ruff_cmd'>tk_optionCascade</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_optionCascadeText' href="javascript:toggleSource('apave_APaveBase_optionCascadeText')">Show source</a></p>
<div id='apave_APaveBase_optionCascadeText' class='ruff_dyn_src'><pre><br><code class="tcl">method optionCascadeText {it} {
  # Rids a tk_optionCascade item of braces.
  #   it - an item to be trimmed
  #
  # Reason: tk_optionCascade items shimmer between 'list' and 'string'
  # so a multiline item is displayed with braces, if not got rid of them.
  #
  # Returns the item trimmed.
  #
  # See also: tk_optionCascade

  if {[string match &quot;\{*\}&quot; $it]} {
    set it [string range $it 1 end-1]
  }
  return $it
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::ownWName'>ownWName</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a tail (last part) of widget's name</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ownWName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name (path) of the widget</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_ownWName' href="javascript:toggleSource('apave_APaveBase_ownWName')">Show source</a></p>
<div id='apave_APaveBase_ownWName' class='ruff_dyn_src'><pre><br><code class="tcl">method ownWName {name} {
  # Gets a tail (last part) of widget's name
  #   name - name (path) of the widget

  return [lindex [split $name .] end]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::parentWName'>parentWName</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets parent name of widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT parentWName</span> <span class='ruff_arg'>name</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name (path) of the widget</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_parentWName' href="javascript:toggleSource('apave_APaveBase_parentWName')">Show source</a></p>
<div id='apave_APaveBase_parentWName' class='ruff_dyn_src'><pre><br><code class="tcl">method parentWName {name} {
  # Gets parent name of widget.
  #   name - name (path) of the widget

  return [string range $name 0 [string last . $name]-1]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::paveoptionValue'>paveoptionValue</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an option's value.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT paveoptionValue</span> <span class='ruff_arg'>opt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>opt</code></code></td><td class='ruff_defitem'>option's name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a value for options like &quot;Moveall&quot;, &quot;Tonemoves&quot;.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_paveoptionValue' href="javascript:toggleSource('apave_APaveBase_paveoptionValue')">Show source</a></p>
<div id='apave_APaveBase_paveoptionValue' class='ruff_dyn_src'><pre><br><code class="tcl">method paveoptionValue {opt} {
  # Gets an option's value.
  #   opt - option's name
  # Returns a value for options like &quot;Moveall&quot;, &quot;Tonemoves&quot;.

  if {$opt in [info object vars [self]]} {
    variable $opt
    return [set $opt]
  }
  return {}
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::paveWindow'>paveWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Processes &quot;win / list_of_widgets&quot; pairs.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT paveWindow</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of pairs &quot;win / lwidgets&quot;</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>win</em> is a window's path. The <em>lwidgets</em> is a list of widget items.</p>
<p class='ruff'>Each widget item contains:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>name</code></td><td class='ruff_defitem'>widget's name (first 3 characters define its type)</td></tr>
<tr><td class='ruff_defitem'><code>neighbor</code></td><td class='ruff_defitem'>top or left neighbor of the widget</td></tr>
<tr><td class='ruff_defitem'><code>posofnei</code></td><td class='ruff_defitem'>position of neighbor: T (top) or L (left)</td></tr>
<tr><td class='ruff_defitem'><code>rowspan</code></td><td class='ruff_defitem'>row span of the widget</td></tr>
<tr><td class='ruff_defitem'><code>colspan</code></td><td class='ruff_defitem'>column span of the widget</td></tr>
<tr><td class='ruff_defitem'><code>options</code></td><td class='ruff_defitem'>grid/pack options</td></tr>
<tr><td class='ruff_defitem'><code>attrs</code></td><td class='ruff_defitem'>attributes of widget</td></tr>
</table>
<p class='ruff'>First 3 items are mandatory, others are set at need.</p>
<p class='ruff'>This method calls <em>paveWindow</em> in a cycle, to process a current &quot;win / lwidgets&quot; pair.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_paveWindow' href="javascript:toggleSource('apave_APaveBase_paveWindow')">Show source</a></p>
<div id='apave_APaveBase_paveWindow' class='ruff_dyn_src'><pre><br><code class="tcl">method paveWindow {args} {
  # Processes &quot;win / list_of_widgets&quot; pairs.
  #   args - list of pairs &quot;win / lwidgets&quot;
  #
  # The *win* is a window's path. The *lwidgets* is a list of
  # widget items.
  #
  # Each widget item contains:
  #   name - widget's name (first 3 characters define its type)
  #   neighbor - top or left neighbor of the widget
  #   posofnei - position of neighbor: T (top) or L (left)
  #   rowspan - row span of the widget
  #   colspan - column span of the widget
  #   options - grid/pack options
  #   attrs - attributes of widget
  # First 3 items are mandatory, others are set at need.
  #
  # This method calls *paveWindow* in a cycle, to process a current
  # &quot;win / lwidgets&quot; pair.

  set res [list]
  set wmain [set wdia {}]
  foreach {w lwidgets} $args {
    if {[lindex $lwidgets 0 0] eq {after}} {
      # if 1st item is &quot;after idle&quot; or like &quot;after 1000&quot;, layout the window after...
      # (fit for &quot;invisible independent&quot; windows/frames/tabs)
      set what [lindex $lwidgets 0 1]
      if {$what eq {idle} || [string is integer -strict $what]} {
        after $what [list [self] paveWindow $w [lrange $lwidgets 1 end]]
        after $what [list [self] colorWindow $w -doit]
      }
      continue
    }
    lappend res {*}[my Window $w $lwidgets]
    if {[set ifnd [regexp -indices -inline {[.]dia\d+} $w]] ne {}} {
      set wdia [string range $w 0 [lindex $ifnd 0 1]]
    } else {
      set wmain .[lindex [split $w .] 1]
    }
  }
  # add a system Menu binding for the created window
  if {[winfo exists $wdia]} {::apave::initPOP $wdia} elseif {
      [winfo exists $wmain]} {::apave::initPOP $wmain}
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::readonlyWidget'>readonlyWidget</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Switches on/off a widget's readonly state for a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT readonlyWidget</span> <span class='ruff_arg'>w ?on? ?popup?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text widget's path</td></tr>
<tr><td class='ruff_defitem'><code><code>on</code></code></td><td class='ruff_defitem'>&quot;on/off&quot; boolean flag; <i>optional, default</i> <code>yes</code></td></tr>
<tr><td class='ruff_defitem'><code><code>popup</code></code></td><td class='ruff_defitem'>&quot;make popup menu&quot; boolean flag; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="https://wiki.tcl-lang.org/page/Read-only+text+widget" >wiki.tcl-lang.org</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_readonlyWidget' href="javascript:toggleSource('apave_APaveBase_readonlyWidget')">Show source</a></p>
<div id='apave_APaveBase_readonlyWidget' class='ruff_dyn_src'><pre><br><code class="tcl">method readonlyWidget {w {on yes} {popup yes}} {
  # Switches on/off a widget's readonly state for a text widget.
  #   w - text widget's path
  #   on - &quot;on/off&quot; boolean flag
  #   popup - &quot;make popup menu&quot; boolean flag
  # See also:
  #   [wiki.tcl-lang.org](https://wiki.tcl-lang.org/page/Read-only+text+widget)

  my TextCommandForChange $w {} $on
  if {$popup} {my makePopup $w $on yes}
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::res'>res</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/sets a variable for <em>vwait</em> command.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT res</span> <span class='ruff_arg'>?win? ?result?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's path; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>result</code></code></td><td class='ruff_defitem'>value of variable; <i>optional, default</i> <code>get</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This method is used when</p>
<ul class='ruff'>
<li>an event cycle should be stopped with changing a variable's value</li>
<li>a result of event cycle (the variable's value) should be got</li>
</ul>
<p class='ruff'>In the first case, <em>result</em> is set to an integer. In <em>apave</em> dialogs the integer is corresponding a pressed button's index.</p>
<p class='ruff'>In the second case, <em>result</em> is omitted or equal to &quot;get&quot;.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a value of variable that controls an event cycle.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_res' href="javascript:toggleSource('apave_APaveBase_res')">Show source</a></p>
<div id='apave_APaveBase_res' class='ruff_dyn_src'><pre><br><code class="tcl">method res {{win {}} {result get}} {
  # Gets/sets a variable for *vwait* command.
  #   win - window's path
  #   result - value of variable
  #
  # This method is used when
  #  - an event cycle should be stopped with changing a variable's value
  #  - a result of event cycle (the variable's value) should be got
  #
  # In the first case, *result* is set to an integer. In *apave* dialogs
  # the integer is corresponding a pressed button's index.
  #
  # In the second case, *result* is omitted or equal to &quot;get&quot;.
  #
  # Returns a value of variable that controls an event cycle.

  if {$win eq {}} {set win [my dlgPath]}
  set varname [my WinVarname $win]
  if {$result eq {get}} {
    return [set $varname]
  }
  my CleanUps $win
  return [set $varname $result]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::resetText'>resetText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Resets a text widget to edit/view from scratch.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT resetText</span> <span class='ruff_arg'>w state ?contsName?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text widget's name</td></tr>
<tr><td class='ruff_defitem'><code><code>state</code></code></td><td class='ruff_defitem'>widget's final state (normal/disabled)</td></tr>
<tr><td class='ruff_defitem'><code><code>contsName</code></code></td><td class='ruff_defitem'>variable name for contents to be set in the widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_resetText' href="javascript:toggleSource('apave_APaveBase_resetText')">Show source</a></p>
<div id='apave_APaveBase_resetText' class='ruff_dyn_src'><pre><br><code class="tcl">method resetText {w state {contsName {}}} {
  # Resets a text widget to edit/view from scratch.
  #   w - text widget's name
  #   state - widget's final state (normal/disabled)
  #   contsName - variable name for contents to be set in the widget

  if {$contsName ne {}} {
    upvar 1 $contsName conts
    $w replace 1.0 end $conts
  }
  $w edit reset
  $w edit modified no
  $w configure -state $state
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::scrolledFrame'>scrolledFrame</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT scrolledFrame</span> <span class='ruff_arg'>w ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_scrolledFrame' href="javascript:toggleSource('apave_APaveBase_scrolledFrame')">Show source</a></p>
<div id='apave_APaveBase_scrolledFrame' class='ruff_dyn_src'><pre><br><code class="tcl">method scrolledFrame {w args} {
  lassign [::apave::extractOptions args -toplevel no -anchor center -mode both] tl anc mode
  ::apave::sframe new $w -toplevel $tl -anchor $anc -mode $mode

  # Retrieve the path where the scrollable contents go.
  set path [::apave::sframe content $w]
  return $path
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::setShowOption'>setShowOption</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets / gets a default show option, used in showModal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT setShowOption</span> <span class='ruff_arg'>name ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of option</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>value of option</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::showModal" title="showModal" class='ruff_cmd'>showModal</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_setShowOption' href="javascript:toggleSource('apave_APaveBase_setShowOption')">Show source</a></p>
<div id='apave_APaveBase_setShowOption' class='ruff_dyn_src'><pre><br><code class="tcl">method setShowOption {name args} {
  # Sets / gets a default show option, used in showModal.
  #   name - name of option
  #   args - value of option
  # See also: showModal

  ::apave::setProperty [my ShowOption $name] {*}$args
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::setTextBinds'>setTextBinds</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns bindings for a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT setTextBinds</span> <span class='ruff_arg'>wt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wt</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns bindings for a text widget.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_setTextBinds' href="javascript:toggleSource('apave_APaveBase_setTextBinds')">Show source</a></p>
<div id='apave_APaveBase_setTextBinds' class='ruff_dyn_src'><pre><br><code class="tcl">method setTextBinds {wt} {
  # Returns bindings for a text widget.
  #   wt - the text's path

  if {[bind $wt &lt;&lt;Paste&gt;&gt;] eq {}} {
    set res &quot;  ::apave::bindToEvent $wt &lt;&lt;Paste&gt;&gt; [self] pasteText $wt ; ::apave::bindToEvent $wt &lt;KP_Enter&gt; [self] onKeyTextM $wt %K %s ; ::apave::bindToEvent $wt &lt;Return&gt; [self] onKeyTextM $wt %K %s ; catch {::apave::bindToEvent $wt &lt;braceright&gt; [self] onKeyTextM $wt %K}&quot;
  }
  foreach k [::apave::getTextHotkeys CtrlD] {
    append res &quot; ; ::apave::bindToEvent $wt &lt;$k&gt; [self] doubleText $wt&quot;
  }
  foreach k [::apave::getTextHotkeys CtrlY] {
    append res &quot; ; ::apave::bindToEvent $wt &lt;$k&gt; [self] deleteLine $wt&quot;
  }
  foreach k [::apave::getTextHotkeys CtrlA] {
    append res &quot; ; ::apave::bindToEvent $wt &lt;$k&gt; $wt tag add sel 1.0 end {;} break&quot;
  }
  foreach k [::apave::getTextHotkeys CtrlT] {
    append res &quot; ; ::apave::bindToEvent $wt &lt;$k&gt; ::apave::InsertChar $wt {\t} {;} break&quot;
  }
  append res &quot; ; ::apave::bindToEvent $wt &lt;Alt-Up&gt; [self] linesMove $wt -1 ; ::apave::bindToEvent $wt &lt;Alt-Down&gt; [self] linesMove $wt +1&quot;
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::showModal'>showModal</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows a window as modal.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT showModal</span> <span class='ruff_arg'>win ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>attributes of window (&quot;-name value&quot; pairs)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_showModal' href="javascript:toggleSource('apave_APaveBase_showModal')">Show source</a></p>
<div id='apave_APaveBase_showModal' class='ruff_dyn_src'><pre><br><code class="tcl">method showModal {win args} {
  # Shows a window as modal.
  #   win - window's name
  #   args - attributes of window (&quot;-name value&quot; pairs)

  set ::apave::MODALWINDOW [set Modalwin $win]
  ::apave::setAppIcon $win
  set root [winfo parent $win]
  lassign [::apave::extractOptions args -centerme {} -ontop 0 -modal yes  -minsize {} -themed {} -input 0 -variable {} -waitvar {} -container -]  centerme ontop modal minsize themed input varname waitvar container
  $win configure -bg [lindex [my csGet] 3]  ;# removes blinking by default bg
  if {$themed in {{} {0}} &amp;&amp; [my csCurrent] != [apave::cs_Non]} {
    my colorWindow $win
  }
  set rooted 1
  if {$centerme ne {}} {
    ;# forced centering relative to a caller's window
    lassign [split $centerme x+] rw rh rx ry
    set rooted [expr {![regexp {[+|-]+\d+\++} $centerme]}]
    if {$rooted &amp;&amp; [winfo exist $centerme]} {
      set root $centerme
    }
  }
  set decor [expr {$root in {{} .}}]
  foreach {o v} [list -decor $decor -focus {} -onclose {} -geometry {}  -root $root -resizable {} -ontop 0 -escape 1 -checkgeometry 1] {
    lappend defargs $o [my getShowOption $o $v]
  }
  if {$varname ne {}} {
    set waitvar 1
  } else {
    set waitvar [string is true $waitvar]  ;# default 1: wait for closing the window
    set varname [my WinVarname $win]
  }
  array set opt [list {*}$defargs {*}$args]
  if {$ontop eq {}} {
    if {$opt(-ontop)} {
      set ontop yes
    } else {
      set ontop no
      catch {
        set ontop [wm attributes [winfo parent $win] -topmost]
      }
      if {!$ontop} {
        # find if a window child of &quot;.&quot; is topmost
        # if so, let this one be topmost too
        foreach w [winfo children .] {
          catch {set ontop [wm attributes $w -topmost]}
          if {$ontop} break
        }
      }
    }
  }
  if {$rooted} {
    lassign [::apave::splitGeometry [wm geometry [winfo toplevel $root]]] rw rh rx ry
  }
  if {$container ne {-}} {
    wm transient $win $container
  } elseif {!$opt(-decor)} {
    wm transient $win $root
  }
  if {[set destroy [expr {$opt(-onclose) eq {destroy}}]]} {
    set opt(-onclose) {}
  }
  if {$opt(-onclose) eq {}} {
    set opt(-onclose) &quot;set $varname 0&quot;
  } else {
    set opt(-onclose) &quot;$opt(-onclose) $varname&quot;  ;# $opt(-onclose) is a command
  }
  if {$destroy} {append opt(-onclose) &quot; ; destroy $win&quot;}
  if {$opt(-resizable) ne {}} {
    if {[string is boolean $opt(-resizable)]} {
      set opt(-resizable) &quot;$opt(-resizable) $opt(-resizable)&quot;
    }
    wm resizable $win {*}$opt(-resizable)
  }
  set opt(-onclose) &quot;::apave::obj EXPORT CleanUps $win; $opt(-onclose)&quot;
  wm protocol $win WM_DELETE_WINDOW $opt(-onclose)
  # get the window's geometry from its requested sizes
  set inpgeom $opt(-geometry)
  if {$inpgeom eq {}} {
    # this is for less blinking:
    set opt(-geometry) [my CenteredXY $rw $rh $rx $ry  [winfo reqwidth $win] [winfo reqheight $win]]
  } elseif {[string first pointer $inpgeom]==0} {
    lassign [split $inpgeom+0+0 +] -&gt; x y
    set inpgeom +[expr {$x+[winfo pointerx .]}]+[expr {$y+[winfo pointery .]}]
    set opt(-geometry) $inpgeom
  } elseif {[string first root $inpgeom]==0} {
    set root .[string trimleft [string range $inpgeom 5 end] .]
    set opt(-geometry) [set inpgeom {}]
  }
  if {$opt(-geometry) ne {}} {
    lassign [::apave::splitGeometry $opt(-geometry)] - - x y
    wm geometry $win $x$y
  }
  if {$opt(-focus) eq {}} {
    set opt(-focus) $win
  }
  set $varname {-}
  if {$opt(-escape)} {bind $win &lt;Escape&gt; $opt(-onclose)}
  update
  set w [winfo reqwidth $win]
  set h [winfo reqheight $win]
  if {$inpgeom eq {}} {  ;# final geometrizing with actual sizes
    set geo [my CenteredXY $rw $rh $rx $ry $w $h]
    set y [lindex [split $geo +] end]
    if {!$rooted || $root ne {.} &amp;&amp; (($h/2-$ry-$rh/2)&gt;30 || [::iswindows] &amp;&amp; $y&gt;0)} {
      # ::tk::PlaceWindow needs correcting in rare cases, namely:
      # when 'root' is of less sizes than 'win' and at screen top
      wm geometry $win $geo
    } else {
      ::tk::PlaceWindow $win widget $root
    }
  } else {
    lassign [::apave::splitGeometry $inpgeom] - - x y
    if {$x ne {} &amp;&amp; $y ne {} &amp;&amp; [string first x $inpgeom]&lt;0 &amp;&amp; $opt(-checkgeometry)} {
      set inpgeom [my checkXY $w $h $x $y]
    }
    wm geometry $win $inpgeom
  }
  after 50 [list if &quot;\[winfo exist $opt(-focus)\]&quot; &quot;focus -force $opt(-focus)&quot;]
  if {[info exists ::transpops::my::cntwait]} {
    # this specific bind - for transpops package (to hide a demo message by keys)
    bind $win &lt;Control-Alt-0&gt; {set ::transpops::my::cntwait 0}
  }
  my showWindow $win $modal $ontop $varname $minsize $waitvar
  set res 0
  if {[winfo exists $win]} {
    if {[catch {
      if {$input} {my GetOutputValues}
      set res [set [set _ $varname]]
    } err]} {
      puts stderr $err
    }
  }
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::showWindow'>showWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a windows and goes in tkwait cycle to interact with a user.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT showWindow</span> <span class='ruff_arg'>win modal ontop ?var? ?minsize? ?waitvar?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>the window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>modal</code></code></td><td class='ruff_defitem'>yes at showing the window as modal</td></tr>
<tr><td class='ruff_defitem'><code><code>ontop</code></code></td><td class='ruff_defitem'>yes at showing the window as topmost</td></tr>
<tr><td class='ruff_defitem'><code><code>var</code></code></td><td class='ruff_defitem'>variable's name to receive a result (tkwait's variable); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>minsize</code></code></td><td class='ruff_defitem'>list {minwidth minheight} or {}; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>waitvar</code></code></td><td class='ruff_defitem'>if yes, force tkwait variable (mostly for non-modal windows); <i>optional, default</i> <code>1</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_showWindow' href="javascript:toggleSource('apave_APaveBase_showWindow')">Show source</a></p>
<div id='apave_APaveBase_showWindow' class='ruff_dyn_src'><pre><br><code class="tcl">method showWindow {win modal ontop {var {}} {minsize {}} {waitvar 1}} {
  # Displays a windows and goes in tkwait cycle to interact with a user.
  #   win - the window's path
  #   modal - yes at showing the window as modal
  #   ontop - yes at showing the window as topmost
  #   var - variable's name to receive a result (tkwait's variable)
  #   minsize - list {minwidth minheight} or {}
  #   waitvar - if yes, force tkwait variable (mostly for non-modal windows)

  ::apave::InfoWindow [expr {[::apave::InfoWindow] + 1}] $win $modal $var yes
  ::apave::deiconify $win
  if {$minsize eq {}} {
    set minsize [list [winfo width $win] [winfo height $win]]
  }
  wm minsize $win {*}$minsize
  bind $win &lt;Configure&gt; &quot;[namespace current]::WinResize $win&quot;
  if {$ontop} {wm attributes $win -topmost 1}
  if {$modal} {
    # modal window:
    my waitWinVar $win $var $modal
    ::apave::InfoWindow [expr {[::apave::InfoWindow] - 1}] $win $modal $var
  } else {
    # non-modal window:
    if {[set wgr [grab current]] ne {}} {
      # otherwise the non-modal window is irresponsive (in Windows even at WM level):
      grab release $wgr
    }
    if {$waitvar &amp;&amp; $var ne {}} {
      my waitWinVar $win $var $modal ;# show and wait for closing the window
    } else {
      wm deiconify $win      ;# show only
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::textLink'>textLink</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a label's path of a link in a text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT textLink</span> <span class='ruff_arg'>w idx</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>idx</code></code></td><td class='ruff_defitem'>index of the link</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_textLink' href="javascript:toggleSource('apave_APaveBase_textLink')">Show source</a></p>
<div id='apave_APaveBase_textLink' class='ruff_dyn_src'><pre><br><code class="tcl">method textLink {w idx} {
  # Gets a label's path of a link in a text widget.
  #   w - text's path
  #   idx - index of the link

  if {[info exists ::apave::__TEXTLINKS__($w)]} {
    return [lindex $::apave::__TEXTLINKS__($w) $idx]
  }
  return {}
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::themePopup'>themePopup</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Applies a color scheme to a popup menu.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themePopup</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>name of popup menu</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The method is to be redefined in descendants/mixins.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_themePopup' href="javascript:toggleSource('apave_APaveBase_themePopup')">Show source</a></p>
<div id='apave_APaveBase_themePopup' class='ruff_dyn_src'><pre><br><code class="tcl">method themePopup {mnu} {
  # Applies a color scheme to a popup menu.
  #   mnu - name of popup menu
  # The method is to be redefined in descendants/mixins.
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::timeoutButton'>timeoutButton</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Invokes a button's action after a timeout.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT timeoutButton</span> <span class='ruff_arg'>w tmo lbl ?lbltext?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>button's path</td></tr>
<tr><td class='ruff_defitem'><code><code>tmo</code></code></td><td class='ruff_defitem'>timeout in sec.</td></tr>
<tr><td class='ruff_defitem'><code><code>lbl</code></code></td><td class='ruff_defitem'>label widget, where seconds to wait are displayed</td></tr>
<tr><td class='ruff_defitem'><code><code>lbltext</code></code></td><td class='ruff_defitem'>original text of label; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_timeoutButton' href="javascript:toggleSource('apave_APaveBase_timeoutButton')">Show source</a></p>
<div id='apave_APaveBase_timeoutButton' class='ruff_dyn_src'><pre><br><code class="tcl">method timeoutButton {w tmo lbl {lbltext {}}} {
  # Invokes a button's action after a timeout.
  #   w - button's path
  #   tmo - timeout in sec.
  #   lbl - label widget, where seconds to wait are displayed
  #   lbltext - original text of label

  if {$tmo&gt;0} {
    catch {set lbl [my $lbl]}
    if {[winfo exist $lbl]} {
      if {$lbltext eq {}} {
        set lbltext [$lbl cget -text]
        lappend ::apave::_AP_VARS(TIMW) $w
      }
      $lbl configure -text &quot;$lbltext $tmo sec. &quot;
    }
    incr tmo -1
    after 1000 [list if &quot;\[info commands [self]\] ne {}&quot;  &quot;[self] checkTimeoutButton $w $tmo $lbl {$lbltext}&quot;]
    return
  }
  if {[winfo exist $w]} {$w invoke}
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::tk_optionCascade'>tk_optionCascade</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>A bit modified tk_optionCascade widget made by Richard Suchenwirth.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT tk_optionCascade</span> <span class='ruff_arg'>w vname items ?mbopts? ?precom? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>widget name</td></tr>
<tr><td class='ruff_defitem'><code><code>vname</code></code></td><td class='ruff_defitem'>variable name for current selection</td></tr>
<tr><td class='ruff_defitem'><code><code>items</code></code></td><td class='ruff_defitem'>list of items</td></tr>
<tr><td class='ruff_defitem'><code><code>mbopts</code></code></td><td class='ruff_defitem'>ttk::menubutton options (e.g. &quot;-width -4&quot;); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>precom</code></code></td><td class='ruff_defitem'>command to get entry's options (%a presents its label); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional options of entries</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a path to the widget.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::optionCascadeText" title="optionCascadeText" class='ruff_cmd'>optionCascadeText</a>, <a href="https://wiki.tcl-lang.org/page/tk_optionCascade" >wiki.tcl-lang.org</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_tk_optionCascade' href="javascript:toggleSource('apave_APaveBase_tk_optionCascade')">Show source</a></p>
<div id='apave_APaveBase_tk_optionCascade' class='ruff_dyn_src'><pre><br><code class="tcl">method tk_optionCascade {w vname items {mbopts {}} {precom {}} args} {
  # A bit modified tk_optionCascade widget made by Richard Suchenwirth.
  #   w      - widget name
  #   vname  - variable name for current selection
  #   items  - list of items
  #   mbopts - ttk::menubutton options (e.g. &quot;-width -4&quot;)
  #   precom - command to get entry's options (%a presents its label)
  #   args   - additional options of entries
  #
  # Returns a path to the widget.
  #
  # See also:
  #   optionCascadeText
  #   [wiki.tcl-lang.org](https://wiki.tcl-lang.org/page/tk_optionCascade)

  set win $w.m
  if {![info exists $vname]} {
    set it [lindex $items 0]
    while {[llength $it]&gt;1} {set it [lindex $it 0]}
    set it [my optionCascadeText $it]
    set $vname $it
  }
  lassign [::apave::extractOptions mbopts -tip {} -tooltip {} -com {} -command {}]  tip tip2 com com2
  if {$tip eq {}} {set tip $tip2}
  if {$com eq {}} {set com $com2}
  if {$com ne {}} {lappend args -command $com}
  ttk::menubutton $w -menu $win -text [set $vname] -style TMenuButtonWest {*}$mbopts
  menu $win -tearoff 0
  my menuTips $win $tip $w
  my OptionCascade_add $win $vname $items $precom {*}$args
  trace var $vname w  &quot;$w config -text \&quot;\[[self] optionCascadeText \${$vname}\]\&quot; ;\#&quot;
  lappend ::apave::_AP_VARS(_TRACED_$w) $vname
  ::apave::bindToEvent $w &lt;ButtonPress&gt; focus $w
  return $win
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::validateColorChoice'>validateColorChoice</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Displays a current color of color chooser's entry.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT validateColorChoice</span> <span class='ruff_arg'>lab ent</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>lab</code></code></td><td class='ruff_defitem'>label to display</td></tr>
<tr><td class='ruff_defitem'><code><code>ent</code></code></td><td class='ruff_defitem'>color chooser's entry</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_validateColorChoice' href="javascript:toggleSource('apave_APaveBase_validateColorChoice')">Show source</a></p>
<div id='apave_APaveBase_validateColorChoice' class='ruff_dyn_src'><pre><br><code class="tcl">method validateColorChoice {lab ent} {
  # Displays a current color of color chooser's entry.
  #   lab - label to display
  #   ent - color chooser's entry

  set ent [my ownWName $ent]
  set lab [my [my ownWName $lab]]
  set val [[my $ent] get]
  set tvar [[my $ent] cget -textvariable]
  catch {$lab configure -background $val}
  return yes
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::waitWinVar'>waitWinVar</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Tk waiting for variable's change.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT waitWinVar</span> <span class='ruff_arg'>win var modal</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>the window's path</td></tr>
<tr><td class='ruff_defitem'><code><code>var</code></code></td><td class='ruff_defitem'>variable's name to receive a result (tkwait's variable)</td></tr>
<tr><td class='ruff_defitem'><code><code>modal</code></code></td><td class='ruff_defitem'>yes at showing the window as modal</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_waitWinVar' href="javascript:toggleSource('apave_APaveBase_waitWinVar')">Show source</a></p>
<div id='apave_APaveBase_waitWinVar' class='ruff_dyn_src'><pre><br><code class="tcl">method waitWinVar {win var modal} {
  # Tk waiting for variable's change.
  #   win - the window's path
  #   var - variable's name to receive a result (tkwait's variable)
  #   modal - yes at showing the window as modal

  # first of all, wait till the window be visible
  if {![winfo viewable $win]} {
    tkwait visibility $win
  }
  set wmain [::apave::mainWindowOfApp]
  if {$modal} {      ;# for modal, grab the window
    set wgr [grab current]
    if {$wmain ne {} &amp;&amp; $wmain ne $win} {
      if {[catch {grab set $win}]} {
        catch {tkwait visibility $win}  ;# 2nd attempt to get the window visible, by force
        catch {grab set $win}           ;# (not sure, where it can fire, still let it be)
        puts stderr &quot;\napave::waitWinVar - please send a note to apave developers on this catch.&quot;
        catch {puts stderr &quot;apave::waitWinVar - [info level -1]\n&quot;}
      }
    }
  }
  # at need, wait till the window associated variable be changed
  if {$var ne {}} {
    tkwait variable $var
  }
  if {$modal} {      ;# for modal, release the grab and restore the old one
    catch {grab release $win}
    if {$wgr ne {}} {
      catch {grab set $wgr}
    }
  }
  if {$wmain eq {}} {
    # if not set beforehand, let the main window of application be the current one
    ::apave::mainWindowOfApp $win
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::widgetType'>widgetType</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets the widget type based on 3 initial letters of its name. Also fills the grid/pack options and attributes of the widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT widgetType</span> <span class='ruff_arg'>wnamefull options attrs</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wnamefull</code></code></td><td class='ruff_defitem'>path to the widget</td></tr>
<tr><td class='ruff_defitem'><code><code>options</code></code></td><td class='ruff_defitem'>grid/pack options of the widget</td></tr>
<tr><td class='ruff_defitem'><code><code>attrs</code></code></td><td class='ruff_defitem'>attribute of the widget</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>widgetType</em> method returns a list of items:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>widget</code></td><td class='ruff_defitem'>Tk/Ttk widget name</td></tr>
<tr><td class='ruff_defitem'><code>options</code></td><td class='ruff_defitem'>grid/pack options of the widget</td></tr>
<tr><td class='ruff_defitem'><code>attrs</code></td><td class='ruff_defitem'>attribute of the widget</td></tr>
<tr><td class='ruff_defitem'><code>nam3</code></td><td class='ruff_defitem'>3 initial letters of widget's name</td></tr>
<tr><td class='ruff_defitem'><code>disabled</code></td><td class='ruff_defitem'>flag of <em>disabled</em> state</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_widgetType' href="javascript:toggleSource('apave_APaveBase_widgetType')">Show source</a></p>
<div id='apave_APaveBase_widgetType' class='ruff_dyn_src'><pre><br><code class="tcl">method widgetType {wnamefull options attrs} {
  # Gets the widget type based on 3 initial letters of its name. Also
  # fills the grid/pack options and attributes of the widget.
  #   wnamefull - path to the widget
  #   options - grid/pack options of the widget
  #   attrs - attribute of the widget
  #
  # The *widgetType* method returns a list of items:
  #   widget - Tk/Ttk widget name
  #   options - grid/pack options of the widget
  #   attrs - attribute of the widget
  #   nam3 - 3 initial letters of widget's name
  #   disabled - flag of *disabled* state

  set disabled [expr {[::apave::getOption -state {*}$attrs] eq {disabled}}]
  set pack $options
  set name [my ownWName $wnamefull]
  if {[info exists ::apave::_AP_VARS(ProSplash,type)] &amp;&amp;  $::apave::_AP_VARS(ProSplash,type) eq {}} {
    set val [my progress_Go [incr ::apave::_AP_VARS(ProSplash,curvalue)] {} $name]
  }
  set nam3 [string tolower [string index $name 0]][string range $name 1 2]
  if {[string index $nam3 1] eq &quot;_&quot;} {set k [string range $nam3 0 1]} {set k $nam3}
  lassign [my defaultATTRS $k] defopts defattrs newtype
  set options &quot;$defopts $options&quot;
  set attrs &quot;$defattrs $attrs&quot;
  switch -glob -- $nam3 {
    bts {
      set widget ttk::frame
      if {![info exists ::bartabs::NewBarID]} {package require bartabs}
      set attrs &quot;-bartabs {$attrs}&quot;
    }
    but {
      set widget ttk::button
      my AddButtonIcon $name attrs
    }
    buT - btT {
      set widget button
      my AddButtonIcon $name attrs
    }
    can {set widget canvas}
    chb {set widget ttk::checkbutton}
    swi {
      set widget ttk::checkbutton
      if {![my apaveTheme]} {
        set attrs &quot;$attrs -style Switch.TCheckbutton&quot;
      }
    }
    chB {set widget checkbutton}
    cbx - fco {
      set widget ttk::combobox
      if {$nam3 eq {fco}} {  ;# file content combobox
        set attrs [my FCfieldValues $wnamefull $attrs]
      }
      set attrs [my FCfieldAttrs $wnamefull $attrs -tvar]
    }
    ent {set widget ttk::entry}
    enT {set widget entry}
    fil - fiL -
    fis - fiS -
    dir - diR -
    fon - foN -
    clr - clR -
    dat - daT -
    sta -
    too -
    fra {
      # + frame for choosers and bars
      set widget ttk::frame
    }
    frA {
      set widget frame
      if {$disabled} {set attrs [::apave::removeOptions $attrs -state]}
    }
    ftx {set widget ttk::labelframe}
    gut {set widget canvas}
    lab {
      set widget ttk::label
      if {$disabled} {
        set grey [lindex [my csGet] 8]
        set attrs &quot;-foreground $grey $attrs&quot;
      }
      lassign [::apave::parseOptions $attrs -link {} -style {} -font {}]  cmd style font
      if {$cmd ne {}} {
        set attrs &quot;-linkcom {$cmd} $attrs&quot;
        set attrs [::apave::removeOptions $attrs -link]
      }
      if {$style eq {} &amp;&amp; $font eq {}} {
        set attrs &quot;-font {$::apave::FONTMAIN} $attrs&quot;
      } elseif {$style ne {}} {
        # some themes stumble at ttk styles, so bring their attrs directly
        set attrs [::apave::removeOptions $attrs -style]
        set attrs &quot;[ttk::style configure $style] $attrs&quot;
      }
    }
    laB {set widget label}
    lfr {set widget ttk::labelframe}
    lfR {
      set widget labelframe
      if {$disabled} {set attrs [::apave::removeOptions $attrs -state]}
    }
    lbx - flb {
      set widget listbox
      if {$nam3 eq {flb}} {  ;# file content listbox
        set attrs [my FCfieldValues $wnamefull $attrs]
      }
      set attrs &quot;[my FCfieldAttrs $wnamefull $attrs -lvar]&quot;
      set attrs &quot;[my ListboxesAttrs $wnamefull $attrs]&quot;
      my AddPopupAttr $wnamefull attrs -entrypop 1
      foreach {ev com} {Home {::apave::LbxSelect %w 0} End {::apave::LbxSelect %w end}} {
        append attrs &quot; -bindEC {&lt;$ev&gt; {$com}} &quot;
      }
    }
    meb {set widget ttk::menubutton}
    meB {set widget menubutton}
    nbk {
      set widget ttk::notebook
      set attrs &quot;-notebazook {$attrs}&quot;
    }
    opc {
      ;# tk_optionCascade - example of &quot;my method&quot; widget
      ;# arguments: vname items mbopts precom args
      set widget {my tk_optionCascade}
      set imax [expr {min(4,[llength $attrs])}]
      for {set i 0} {$i&lt;$imax} {incr i} {
        set atr [lindex $attrs $i]
        if {$i!=1} {
          lset attrs $i \{$atr\}
        } elseif {[llength $atr]==1 &amp;&amp; [info exist $atr]} {
          lset attrs $i [set $atr]  ;# items stored in a variable
        }
      }
    }
    pan {set widget ttk::panedwindow
      if {[string first -w $attrs]&gt;-1 &amp;&amp; [string first -h $attrs]&gt;-1} {
        # important for panes with fixed (customized) dimensions
        set attrs &quot;-propagate {$options} $attrs&quot;
      }
    }
    pro {set widget ttk::progressbar}
    rad {set widget ttk::radiobutton}
    raD {set widget radiobutton}
    sca {set widget ttk::scale}
    scA {set widget scale}
    sbh {set widget ttk::scrollbar}
    sbH {set widget scrollbar}
    sbv {set widget ttk::scrollbar}
    sbV {set widget scrollbar}
    scf {
      if {![namespace exists ::apave::sframe]} {
        namespace eval ::apave {
          source [file join $::apave::apaveDir sframe.tcl]
        }
      }
      # scrolledFrame - example of &quot;my method&quot; widget
      set widget {my scrolledFrame}
    }
    seh {set widget ttk::separator}
    sev {set widget ttk::separator}
    siz {set widget ttk::sizegrip}
    spx - spX {
      if {$nam3 eq {spx}} {set widget ttk::spinbox} {set widget spinbox}
      lassign [::apave::parseOptions $attrs  -command {} -com {} -from {} -to {}] cmd cmd2 from to
      append cmd $cmd2
      lassign [::apave::extractOptions attrs -tip {} -tooltip {}] t1 t2
      set t2 &quot;$t1$t2&quot;
      if {$from ne {} || $to ne {}} {
        if {$t2 ne {}} {set t2 &quot;\n $t2&quot;}
        set t2 &quot; $from .. $to $t2&quot;
      }
      if {$t2 ne {}} {set t2 &quot;-tip {$t2}&quot;}
      append attrs &quot; -onReturn {$::apave::UFF{$cmd} {$from} {$to}$::apave::UFF} $t2&quot;
    }
    tbl { ;# tablelist
      package require tablelist
      set widget tablelist::tablelist
      set attrs &quot;[my FCfieldAttrs $wnamefull $attrs -lvar]&quot;
      set attrs &quot;[my ListboxesAttrs $wnamefull $attrs]&quot;
    }
    tex {set widget text
      if {[::apave::getOption -textpop {*}$attrs] eq {}} {
        my AddPopupAttr $wnamefull attrs -textpop  [expr {[::apave::getOption -rotext {*}$attrs] ne {}}] -- disabled
      }
      lassign [::apave::parseOptions $attrs -ro {} -readonly {} -rotext {}  -gutter {} -gutterwidth 5 -guttershift 6] r1 r2 r3 g1 g2 g3
      set b1 [expr [string is boolean -strict $r1]]
      set b2 [expr [string is boolean -strict $r2]]
      if {($b1 &amp;&amp; $r1) || ($b2 &amp;&amp; $r2) ||  ($r3 ne {} &amp;&amp; !($b1 &amp;&amp; !$r1) &amp;&amp; !($b2 &amp;&amp; !$r2))} {
        set attrs &quot;-takefocus 0 $attrs&quot;
      }
      set attrs [::apave::removeOptions $attrs -gutter -gutterwidth -guttershift]
      if {$g1 ne {}} {
        set attrs &quot;$attrs -gutter {-canvas $g1 -width $g2 -shift $g3}&quot;
      }
    }
    tre {
      set widget ttk::treeview
      foreach {ev com} {Home {::apave::TreSelect %w 0} End {::apave::TreSelect %w end}} {
        append attrs &quot; -bindEC {&lt;$ev&gt; {$com}} &quot;
      }
    }
    h_* {set widget ttk::frame}
    v_* {set widget ttk::frame}
    default {set widget $newtype}
  }
  set attrs [my GetMC $attrs]
  if {$nam3 in {cbx ent enT fco spx spX}} {
    # entry-like widgets need their popup menu
    set clearcom [lindex [::apave::parseOptions $attrs -clearcom -] 0]
    if {$clearcom eq {-}} {
      my AddPopupAttr $wnamefull attrs -entrypop 0 readonly disabled
    }
  }
  if {[string first pack [string trimleft $pack]]==0} {
    catch {
      # try to expand -after option (if set as WidgetName instead widgetName)
      if {[set i [lsearch -exact $pack {-after}]]&gt;=0} {
        set aft [lindex $pack [incr i]]
        if {[regexp {^[A-Z]} $aft]} {
          set aft [my $aft]
          set pack [lreplace $pack $i $i $aft]
        }
      }
    }
    set options $pack
  }
  set options [string trim $options]
  set attrs   [list {*}$attrs]
  return [list $widget $options $attrs $nam3 $disabled]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveBase::window'>window</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveBase" title="::apave::APaveBase" class='ruff_cmd'>::apave::APaveBase</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveBase'>APaveBase</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Obsolete version of paveWindow (remains for compatibility).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT window</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::paveWindow" title="paveWindow" class='ruff_cmd'>paveWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveBase_window' href="javascript:toggleSource('apave_APaveBase_window')">Show source</a></p>
<div id='apave_APaveBase_window' class='ruff_dyn_src'><pre><br><code class="tcl">method window {args} {
  # Obsolete version of paveWindow (remains for compatibility).
  # See also: paveWindow

  return [uplevel 1 [list [self] paveWindow {*}$args]]
}<br><br></code></pre></div>
</div><br><br><h3 class='ruffclass'><a name='::apave::APaveDialog'>APaveDialog</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::constructor" title="constructor" class='ruff_cmd'>constructor</a></code></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::destructor" title="destructor" class='ruff_cmd'>destructor</a></code></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::abortretrycancel" title="abortretrycancel" class='ruff_cmd'>abortretrycancel</a></code></td><td class='ruff_defitem'>Shows the <em>ABORTRETRYCANCEL</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code><code>apaveTheme</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::apaveTheme" title="ObjectTheming.apaveTheme" class='ruff_cmd'>ObjectTheming.apaveTheme</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicDefFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicDefFont" title="ObjectTheming.basicDefFont" class='ruff_cmd'>ObjectTheming.basicDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicFontSize</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicFontSize" title="ObjectTheming.basicFontSize" class='ruff_cmd'>ObjectTheming.basicFontSize</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicSmallFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicSmallFont" title="ObjectTheming.basicSmallFont" class='ruff_cmd'>ObjectTheming.basicSmallFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>basicTextFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::basicTextFont" title="ObjectTheming.basicTextFont" class='ruff_cmd'>ObjectTheming.basicTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>boldDefFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldDefFont" title="ObjectTheming.boldDefFont" class='ruff_cmd'>ObjectTheming.boldDefFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>boldTextFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::boldTextFont" title="ObjectTheming.boldTextFont" class='ruff_cmd'>ObjectTheming.boldTextFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>checkTimeoutButton</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::checkTimeoutButton" title="APaveBase.checkTimeoutButton" class='ruff_cmd'>APaveBase.checkTimeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code><code>checkXY</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::checkXY" title="APaveBase.checkXY" class='ruff_cmd'>APaveBase.checkXY</a></td></tr>
<tr><td class='ruff_defitem'><code><code>chooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::chooser" title="APaveBase.chooser" class='ruff_cmd'>APaveBase.chooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>chooserGeomVars</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::chooserGeomVars" title="APaveBase.chooserGeomVars" class='ruff_cmd'>APaveBase.chooserGeomVars</a></td></tr>
<tr><td class='ruff_defitem'><code><code>clearEntry</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::clearEntry" title="APaveBase.clearEntry" class='ruff_cmd'>APaveBase.clearEntry</a></td></tr>
<tr><td class='ruff_defitem'><code><code>colorChooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::colorChooser" title="APaveBase.colorChooser" class='ruff_cmd'>APaveBase.colorChooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>colorWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::colorWindow" title="APaveBase.colorWindow" class='ruff_cmd'>APaveBase.colorWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>configure</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::configure" title="APaveBase.configure" class='ruff_cmd'>APaveBase.configure</a></td></tr>
<tr><td class='ruff_defitem'><code><code>create_Fonts</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::create_Fonts" title="ObjectTheming.create_Fonts" class='ruff_cmd'>ObjectTheming.create_Fonts</a></td></tr>
<tr><td class='ruff_defitem'><code><code>create_FontsType</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::create_FontsType" title="ObjectTheming.create_FontsType" class='ruff_cmd'>ObjectTheming.create_FontsType</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csAdd</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csAdd" title="ObjectTheming.csAdd" class='ruff_cmd'>ObjectTheming.csAdd</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csCurrent</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csCurrent" title="ObjectTheming.csCurrent" class='ruff_cmd'>ObjectTheming.csCurrent</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csDark</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDark" title="ObjectTheming.csDark" class='ruff_cmd'>ObjectTheming.csDark</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csDeleteExternal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="ObjectTheming.csDeleteExternal" class='ruff_cmd'>ObjectTheming.csDeleteExternal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csExport</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csExport" title="ObjectTheming.csExport" class='ruff_cmd'>ObjectTheming.csExport</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFont" title="ObjectTheming.csFont" class='ruff_cmd'>ObjectTheming.csFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFontDef</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontDef" title="ObjectTheming.csFontDef" class='ruff_cmd'>ObjectTheming.csFontDef</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csFontMono</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csFontMono" title="ObjectTheming.csFontMono" class='ruff_cmd'>ObjectTheming.csFontMono</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csGet</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGet" title="ObjectTheming.csGet" class='ruff_cmd'>ObjectTheming.csGet</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csGetName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csGetName" title="ObjectTheming.csGetName" class='ruff_cmd'>ObjectTheming.csGetName</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csMainColors</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMainColors" title="ObjectTheming.csMainColors" class='ruff_cmd'>ObjectTheming.csMainColors</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csMapTheme</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csMapTheme" title="ObjectTheming.csMapTheme" class='ruff_cmd'>ObjectTheming.csMapTheme</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csNewIndex</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csNewIndex" title="ObjectTheming.csNewIndex" class='ruff_cmd'>ObjectTheming.csNewIndex</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csSet</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csSet" title="ObjectTheming.csSet" class='ruff_cmd'>ObjectTheming.csSet</a></td></tr>
<tr><td class='ruff_defitem'><code><code>csToned</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::csToned" title="ObjectTheming.csToned" class='ruff_cmd'>ObjectTheming.csToned</a></td></tr>
<tr><td class='ruff_defitem'><code><code>dateChooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::dateChooser" title="APaveBase.dateChooser" class='ruff_cmd'>APaveBase.dateChooser</a></td></tr>
<tr><td class='ruff_defitem'><code><code>defaultATTRS</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::defaultATTRS" title="APaveBase.defaultATTRS" class='ruff_cmd'>APaveBase.defaultATTRS</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::deleteLine" title="deleteLine" class='ruff_cmd'>deleteLine</a></code></td><td class='ruff_defitem'>Deletes a current line of text widget.</td></tr>
<tr><td class='ruff_defitem'><code><code>displayTaggedText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::displayTaggedText" title="APaveBase.displayTaggedText" class='ruff_cmd'>APaveBase.displayTaggedText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>displayText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::displayText" title="APaveBase.displayText" class='ruff_cmd'>APaveBase.displayText</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::dlgPath" title="dlgPath" class='ruff_cmd'>dlgPath</a></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::dlgPath" title="APaveBase.dlgPath" class='ruff_cmd'>APaveBase.dlgPath</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::doubleText" title="doubleText" class='ruff_cmd'>doubleText</a></code></td><td class='ruff_defitem'>Doubles a current line or a selection of text widget.</td></tr>
<tr><td class='ruff_defitem'><code><code>fillGutter</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::fillGutter" title="APaveBase.fillGutter" class='ruff_cmd'>APaveBase.fillGutter</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::findInText" title="findInText" class='ruff_cmd'>findInText</a></code></td><td class='ruff_defitem'>Finds a string in text widget.</td></tr>
<tr><td class='ruff_defitem'><code><code>findWidPath</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::findWidPath" title="APaveBase.findWidPath" class='ruff_cmd'>APaveBase.findWidPath</a></td></tr>
<tr><td class='ruff_defitem'><code><code>focusNext</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::focusNext" title="APaveBase.focusNext" class='ruff_cmd'>APaveBase.focusNext</a></td></tr>
<tr><td class='ruff_defitem'><code><code>fontChooser</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::fontChooser" title="APaveBase.fontChooser" class='ruff_cmd'>APaveBase.fontChooser</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::get_highlighted" title="get_highlighted" class='ruff_cmd'>get_highlighted</a></code></td><td class='ruff_defitem'>Gets a selected word after double-clicking on a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::get_HighlightedString" title="get_HighlightedString" class='ruff_cmd'>get_HighlightedString</a></code></td><td class='ruff_defitem'>Returns a string got from highlighting by Alt+left/right/q/w.</td></tr>
<tr><td class='ruff_defitem'><code><code>getShowOption</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::getShowOption" title="APaveBase.getShowOption" class='ruff_cmd'>APaveBase.getShowOption</a></td></tr>
<tr><td class='ruff_defitem'><code><code>getTextContent</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::getTextContent" title="APaveBase.getTextContent" class='ruff_cmd'>APaveBase.getTextContent</a></td></tr>
<tr><td class='ruff_defitem'><code><code>getWidChildren</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::getWidChildren" title="APaveBase.getWidChildren" class='ruff_cmd'>APaveBase.getWidChildren</a></td></tr>
<tr><td class='ruff_defitem'><code><code>gutterContents</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::gutterContents" title="APaveBase.gutterContents" class='ruff_cmd'>APaveBase.gutterContents</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::highlight_matches" title="highlight_matches" class='ruff_cmd'>highlight_matches</a></code></td><td class='ruff_defitem'>Highlights matches of selected word in a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::highlight_matches_real" title="highlight_matches_real" class='ruff_cmd'>highlight_matches_real</a></code></td><td class='ruff_defitem'>Highlights a selected word in a text, esp. fow Windows. Windows thinks a word is edged by spaces only: not in real case.</td></tr>
<tr><td class='ruff_defitem'><code><code>iconA</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::iconA" title="APaveBase.iconA" class='ruff_cmd'>APaveBase.iconA</a></td></tr>
<tr><td class='ruff_defitem'><code><code>initLinkFont</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::initLinkFont" title="APaveBase.initLinkFont" class='ruff_cmd'>APaveBase.initLinkFont</a></td></tr>
<tr><td class='ruff_defitem'><code><code>initTooltip</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::initTooltip" title="ObjectTheming.initTooltip" class='ruff_cmd'>ObjectTheming.initTooltip</a></td></tr>
<tr><td class='ruff_defitem'><code><code>labelFlashing</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::labelFlashing" title="APaveBase.labelFlashing" class='ruff_cmd'>APaveBase.labelFlashing</a></td></tr>
<tr><td class='ruff_defitem'><code><code>leadingSpaces</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::leadingSpaces" title="APaveBase.leadingSpaces" class='ruff_cmd'>APaveBase.leadingSpaces</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::linesMove" title="linesMove" class='ruff_cmd'>linesMove</a></code></td><td class='ruff_defitem'>Moves a current line or lines of selection up/down.</td></tr>
<tr><td class='ruff_defitem'><code><code>makeLabelLinked</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::makeLabelLinked" title="APaveBase.makeLabelLinked" class='ruff_cmd'>APaveBase.makeLabelLinked</a></td></tr>
<tr><td class='ruff_defitem'><code><code>makePopup</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::makePopup" title="APaveBase.makePopup" class='ruff_cmd'>APaveBase.makePopup</a></td></tr>
<tr><td class='ruff_defitem'><code><code>makeWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::makeWindow" title="APaveBase.makeWindow" class='ruff_cmd'>APaveBase.makeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>menuTips</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::menuTips" title="APaveBase.menuTips" class='ruff_cmd'>APaveBase.menuTips</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::misc" title="misc" class='ruff_cmd'>misc</a></code></td><td class='ruff_defitem'>Shows the <em>MISCELLANEOUS</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::ok" title="ok" class='ruff_cmd'>ok</a></code></td><td class='ruff_defitem'>Shows the <em>OK</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::okcancel" title="okcancel" class='ruff_cmd'>okcancel</a></code></td><td class='ruff_defitem'>Shows the <em>OKCANCEL</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code><code>onKeyTextM</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::onKeyTextM" title="APaveBase.onKeyTextM" class='ruff_cmd'>APaveBase.onKeyTextM</a></td></tr>
<tr><td class='ruff_defitem'><code><code>optionCascadeText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::optionCascadeText" title="APaveBase.optionCascadeText" class='ruff_cmd'>APaveBase.optionCascadeText</a></td></tr>
<tr><td class='ruff_defitem'><code><code>ownWName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::ownWName" title="APaveBase.ownWName" class='ruff_cmd'>APaveBase.ownWName</a></td></tr>
<tr><td class='ruff_defitem'><code><code>parentWName</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::parentWName" title="APaveBase.parentWName" class='ruff_cmd'>APaveBase.parentWName</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::pasteText" title="pasteText" class='ruff_cmd'>pasteText</a></code></td><td class='ruff_defitem'>Removes a selection at pasting.</td></tr>
<tr><td class='ruff_defitem'><code><code>paveoptionValue</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::paveoptionValue" title="APaveBase.paveoptionValue" class='ruff_cmd'>APaveBase.paveoptionValue</a></td></tr>
<tr><td class='ruff_defitem'><code><code>paveWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::paveWindow" title="APaveBase.paveWindow" class='ruff_cmd'>APaveBase.paveWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::popupBlockCommands" title="popupBlockCommands" class='ruff_cmd'>popupBlockCommands</a></code></td><td class='ruff_defitem'>Returns block commands for a popup menu on a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::popupFindCommands" title="popupFindCommands" class='ruff_cmd'>popupFindCommands</a></code></td><td class='ruff_defitem'>Returns find commands for a popup menu on a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::popupHighlightCommands" title="popupHighlightCommands" class='ruff_cmd'>popupHighlightCommands</a></code></td><td class='ruff_defitem'>Returns highlighting commands for a popup menu on a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::progress_Begin" title="progress_Begin" class='ruff_cmd'>progress_Begin</a></code></td><td class='ruff_defitem'>Creates and shows a progress window. Fit for splash screens.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::progress_End" title="progress_End" class='ruff_cmd'>progress_End</a></code></td><td class='ruff_defitem'>Destroys a progress window.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::progress_Go" title="progress_Go" class='ruff_cmd'>progress_Go</a></code></td><td class='ruff_defitem'>Updates a progress window.</td></tr>
<tr><td class='ruff_defitem'><code><code>readonlyWidget</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::readonlyWidget" title="APaveBase.readonlyWidget" class='ruff_cmd'>APaveBase.readonlyWidget</a></td></tr>
<tr><td class='ruff_defitem'><code><code>res</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::res" title="APaveBase.res" class='ruff_cmd'>APaveBase.res</a></td></tr>
<tr><td class='ruff_defitem'><code><code>resetText</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::resetText" title="APaveBase.resetText" class='ruff_cmd'>APaveBase.resetText</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::retrycancel" title="retrycancel" class='ruff_cmd'>retrycancel</a></code></td><td class='ruff_defitem'>Shows the <em>RETRYCANCEL</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code><code>scrolledFrame</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::scrolledFrame" title="APaveBase.scrolledFrame" class='ruff_cmd'>APaveBase.scrolledFrame</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::seek_highlight" title="seek_highlight" class='ruff_cmd'>seek_highlight</a></code></td><td class='ruff_defitem'>Seeks the selected word forward/backward/to first/to last in a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::selectedWordText" title="selectedWordText" class='ruff_cmd'>selectedWordText</a></code></td><td class='ruff_defitem'>Returns a word under the cursor or a selected text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::set_highlight_matches" title="set_highlight_matches" class='ruff_cmd'>set_highlight_matches</a></code></td><td class='ruff_defitem'>Creates bindings to highlight matches in a text.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::set_HighlightedString" title="set_HighlightedString" class='ruff_cmd'>set_HighlightedString</a></code></td><td class='ruff_defitem'>Saves a string got from highlighting by Alt+left/right/q/w.</td></tr>
<tr><td class='ruff_defitem'><code><code>setShowOption</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::setShowOption" title="APaveBase.setShowOption" class='ruff_cmd'>APaveBase.setShowOption</a></td></tr>
<tr><td class='ruff_defitem'><code><code>setTextBinds</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::setTextBinds" title="APaveBase.setTextBinds" class='ruff_cmd'>APaveBase.setTextBinds</a></td></tr>
<tr><td class='ruff_defitem'><code><code>showModal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::showModal" title="APaveBase.showModal" class='ruff_cmd'>APaveBase.showModal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>showWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::showWindow" title="APaveBase.showWindow" class='ruff_cmd'>APaveBase.showWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>textLink</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::textLink" title="APaveBase.textLink" class='ruff_cmd'>APaveBase.textLink</a></td></tr>
<tr><td class='ruff_defitem'><code><code>thDark</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::thDark" title="ObjectTheming.thDark" class='ruff_cmd'>ObjectTheming.thDark</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeExternal</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeExternal" title="ObjectTheming.themeExternal" class='ruff_cmd'>ObjectTheming.themeExternal</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeMandatory</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeMandatory" title="ObjectTheming.themeMandatory" class='ruff_cmd'>ObjectTheming.themeMandatory</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeNonThemed</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="ObjectTheming.themeNonThemed" class='ruff_cmd'>ObjectTheming.themeNonThemed</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themePopup</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themePopup" title="ObjectTheming.themePopup" class='ruff_cmd'>ObjectTheming.themePopup</a></td></tr>
<tr><td class='ruff_defitem'><code><code>themeWindow</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::themeWindow" title="ObjectTheming.themeWindow" class='ruff_cmd'>ObjectTheming.themeWindow</a></td></tr>
<tr><td class='ruff_defitem'><code><code>timeoutButton</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::timeoutButton" title="APaveBase.timeoutButton" class='ruff_cmd'>APaveBase.timeoutButton</a></td></tr>
<tr><td class='ruff_defitem'><code><code>tk_optionCascade</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::tk_optionCascade" title="APaveBase.tk_optionCascade" class='ruff_cmd'>APaveBase.tk_optionCascade</a></td></tr>
<tr><td class='ruff_defitem'><code><code>touchWidgets</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::touchWidgets" title="ObjectTheming.touchWidgets" class='ruff_cmd'>ObjectTheming.touchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::unhighlight_matches" title="unhighlight_matches" class='ruff_cmd'>unhighlight_matches</a></code></td><td class='ruff_defitem'>Unhighlights matches of selected word in a text.</td></tr>
<tr><td class='ruff_defitem'><code><code>untouchWidgets</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="ObjectTheming.untouchWidgets" class='ruff_cmd'>ObjectTheming.untouchWidgets</a></td></tr>
<tr><td class='ruff_defitem'><code><code>validateColorChoice</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::validateColorChoice" title="APaveBase.validateColorChoice" class='ruff_cmd'>APaveBase.validateColorChoice</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::varName" title="varName" class='ruff_cmd'>varName</a></code></td><td class='ruff_defitem'>Gets a variable name associated with a widget's name of &quot;input&quot; dialogue.</td></tr>
<tr><td class='ruff_defitem'><code><code>waitWinVar</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::waitWinVar" title="APaveBase.waitWinVar" class='ruff_cmd'>APaveBase.waitWinVar</a></td></tr>
<tr><td class='ruff_defitem'><code><code>widgetType</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::widgetType" title="APaveBase.widgetType" class='ruff_cmd'>APaveBase.widgetType</a></td></tr>
<tr><td class='ruff_defitem'><code><code>window</code></code></td><td class='ruff_defitem'>See <a href="apave.html#::apave::APaveBase::window" title="APaveBase.window" class='ruff_cmd'>APaveBase.window</a></td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::yesno" title="yesno" class='ruff_cmd'>yesno</a></code></td><td class='ruff_defitem'>Shows the <em>YESNO</em> dialog.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::APaveDialog::yesnocancel" title="yesnocancel" class='ruff_cmd'>yesnocancel</a></code></td><td class='ruff_defitem'>Shows the <em>YESNOCANCEL</em> dialog.</td></tr>
</table>
<h5 class='ruff'>Superclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveBase" title="APaveBase" class='ruff_cmd'>APaveBase</a></p>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::APave" title="APave" class='ruff_cmd'>APave</a></p>
<br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates APaveDialog object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>APaveDialog create</span> <span class='ruff_arg'>?win? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's name (path); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional arguments</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_constructor' href="javascript:toggleSource('apave_APaveDialog_constructor')">Show source</a></p>
<div id='apave_APaveDialog_constructor' class='ruff_dyn_src'><pre><br><code class="tcl">method constructor {{win {}} args} {
  # Creates APaveDialog object.
  #   win - window's name (path)
  #   args - additional arguments

  set Winpath $win  ;# dialogs are bound to $win, default &quot;&quot; means .
  set Dlgpath {}    ;# current dialog's path
  set Foundstr {}   ;# current found string
  set HLstring {}   ;# current selected string

  # Actions on closing the editor
  ; proc exitEditor {resExit} {
    upvar $resExit res
    if {[[my TexM] edit modified]} {
      set w [my dlgPath]
      set pdlg [::apave::APaveDialog new $w]
      set r [$pdlg misc warn $::apave::msgarray(savetext)  &quot;\n $::apave::msgarray(saveask) \n&quot;  [list Save 1 $::apave::msgarray(savenot) Close Cancel 0]  1 -focusback [my TexM] -centerme $w]
      if {$r==1} {
        set res 1
      } elseif {$r eq &quot;Close&quot;} {
        set res 0
      }
      $pdlg destroy
    } else {
      set res 0
    }
    return
  }
  # end of APaveDialog constructor
  if {[llength [self next]]} { next {*}$args }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Clears variables used in the object.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_destructor' href="javascript:toggleSource('apave_APaveDialog_destructor')">Show source</a></p>
<div id='apave_APaveDialog_destructor' class='ruff_dyn_src'><pre><br><code class="tcl">method destructor {} {
  # Clears variables used in the object.

  if {[llength [self next]]} next
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::abortretrycancel'>abortretrycancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>ABORTRETRYCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT abortretrycancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>button to be selected; <i>optional, default</i> <code>RETRY</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_abortretrycancel' href="javascript:toggleSource('apave_APaveDialog_abortretrycancel')">Show source</a></p>
<div id='apave_APaveDialog_abortretrycancel' class='ruff_dyn_src'><pre><br><code class="tcl">method abortretrycancel {icon ttl msg {defb RETRY} args} {
  # Shows the *ABORTRETRYCANCEL* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   defb - button to be selected
  #   args - options

  lassign [my PrepArgs {*}$args] args
  return [my Query $icon $ttl $msg  {ButABORT Abort 1 ButRETRY Retry 2 ButCANCEL  Cancel 0} But$defb {} $args]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::deleteLine'>deleteLine</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Deletes a current line of text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT deleteLine</span> <span class='ruff_arg'>txt ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>dobreak</code></code></td><td class='ruff_defitem'>if true, means &quot;return -code break&quot; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>dobreak=true</em> allows to break the Tk processing of keypresses such as Ctrl+Y.</p>
<p class='ruff'>If not set, the text widget is identified as <code>my TexM</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_deleteLine' href="javascript:toggleSource('apave_APaveDialog_deleteLine')">Show source</a></p>
<div id='apave_APaveDialog_deleteLine' class='ruff_dyn_src'><pre><br><code class="tcl">method deleteLine {txt {dobreak 1}} {
  # Deletes a current line of text widget.
  #   txt - text's path
  #   dobreak - if true, means &quot;return -code break&quot;
  #
  # The *dobreak=true* allows to break the Tk processing of keypresses
  # such as Ctrl+Y.
  #
  # If not set, the text widget is identified as `my TexM`.

  if {$txt eq {}} {set txt [my TexM]}
  lassign [my GetLinePosition $txt insert] linestart lineend
  $txt delete $linestart $lineend
  if {$dobreak} {return -code break}
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::doubleText'>doubleText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Doubles a current line or a selection of text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT doubleText</span> <span class='ruff_arg'>txt ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>dobreak</code></code></td><td class='ruff_defitem'>if true, means &quot;return -code break&quot; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>dobreak=true</em> allows to break the Tk processing of keypresses such as Ctrl+D.</p>
<p class='ruff'>If not set, the text widget is identified as <code>my TexM</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_doubleText' href="javascript:toggleSource('apave_APaveDialog_doubleText')">Show source</a></p>
<div id='apave_APaveDialog_doubleText' class='ruff_dyn_src'><pre><br><code class="tcl">method doubleText {txt {dobreak 1}} {
  # Doubles a current line or a selection of text widget.
  #   txt - text's path
  #   dobreak - if true, means &quot;return -code break&quot;
  #
  # The *dobreak=true* allows to break the Tk processing of keypresses
  # such as Ctrl+D.
  #
  # If not set, the text widget is identified as `my TexM`.

  if {$txt eq {}} {set txt [my TexM]}
  set err [catch {$txt tag ranges sel} sel]
  if {!$err &amp;&amp; [llength $sel]==2} {
    lassign $sel pos pos2
    set pos3 insert  ;# single selection
  } else {
    lassign [my GetLinePosition $txt insert] pos pos2  ;# current line
    set pos3 $pos2
  }
  set duptext [$txt get $pos $pos2]
  if {$pos3 ne {insert} &amp;&amp; $pos2==[$txt index end]} {
    # current line is the last one: duplicate it properly
    set duptext \n[string range $duptext 0 end-1]
  }
  $txt insert $pos3 $duptext
  if {$dobreak} {return -code break}
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::findInText'>findInText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Finds a string in text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT findInText</span> <span class='ruff_arg'>?donext? ?txt? ?varFind? ?dobell?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>donext</code></code></td><td class='ruff_defitem'>&quot;1&quot; means 'from a current position'; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text widget; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>varFind</code></code></td><td class='ruff_defitem'>variable; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>dobell</code></code></td><td class='ruff_defitem'>if yes, bells; <i>optional, default</i> <code>yes</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns yes, if found (or nothing to find), otherwise returns &quot;no&quot;; also, if there was a real search, the search string is added.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_findInText' href="javascript:toggleSource('apave_APaveDialog_findInText')">Show source</a></p>
<div id='apave_APaveDialog_findInText' class='ruff_dyn_src'><pre><br><code class="tcl">method findInText {{donext 0} {txt {}} {varFind {}} {dobell yes}} {
  # Finds a string in text widget.
  #   donext - &quot;1&quot; means 'from a current position'
  #   txt - path to the text widget
  #   varFind - variable
  #   dobell - if yes, bells
  # Returns yes, if found (or nothing to find), otherwise returns &quot;no&quot;;
  # also, if there was a real search, the search string is added.

  if {$txt eq {}} {
    set txt [my TexM]
    set sel $Foundstr
  } elseif {$donext &amp;&amp; [set sel [my get_HighlightedString]] ne {}} {
    # find a string got with alt+left/right
  } elseif {$varFind eq {}} {
    set sel $Foundstr
  } else {
    set sel [set $varFind]
  }
  if {$donext} {
    set pos [$txt index insert]
    if {{sel} in [$txt tag names $pos]} {
      set pos [$txt index &quot;$pos + 1 chars&quot;]
    }
    set pos [$txt search -- $sel $pos end]
  } else {
    set pos {}
    my set_HighlightedString {}
  }
  if {![string length &quot;$pos&quot;]} {
    set pos [$txt search -- $sel 1.0 end]
  }
  if {[string length &quot;$pos&quot;]} {
    ::tk::TextSetCursor $txt $pos
    $txt tag add sel $pos [$txt index &quot;$pos + [string length $sel] chars&quot;]
    focus $txt
    set res yes
  } else {
    if {$dobell} bell
    set res no
  }
  return [list $res $sel]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::get_highlighted'>get_highlighted</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a selected word after double-clicking on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT get_highlighted</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_get_highlighted' href="javascript:toggleSource('apave_APaveDialog_get_highlighted')">Show source</a></p>
<div id='apave_APaveDialog_get_highlighted' class='ruff_dyn_src'><pre><br><code class="tcl">method get_highlighted {txt} {
  # Gets a selected word after double-clicking on a text.
  #   w - path to the text

  set err [catch {$txt tag ranges sel} sel]
  lassign $sel pos pos2
  if {!$err &amp;&amp; [llength $sel]==2} {
    set sel [$txt get $pos $pos2]  ;# single selection
  } else {
    if {$err || [string trim $sel] eq {}} {
      set pos  [$txt index &quot;insert wordstart&quot;]
      set pos2 [$txt index &quot;insert wordend&quot;]
      set sel [string trim [$txt get $pos $pos2]]
      if {![string is wordchar -strict $sel]} {
        # when cursor just at the right of word: take the word at the left
        # e.g. if &quot;_&quot; stands for cursor then &quot;word_&quot; means selecting &quot;word&quot;
        set pos  [$txt index &quot;insert -1 char wordstart&quot;]
        set pos2 [$txt index &quot;insert -1 char wordend&quot;]
        set sel [$txt get $pos $pos2]
      }
    }
  }
  if {[string length $sel] == 0} {set pos {}}
  return [list $sel $pos $pos2]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::get_HighlightedString'>get_HighlightedString</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a string got from highlighting by Alt+left/right/q/w.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT get_HighlightedString</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a string got from highlighting by Alt+left/right/q/w.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_get_HighlightedString' href="javascript:toggleSource('apave_APaveDialog_get_HighlightedString')">Show source</a></p>
<div id='apave_APaveDialog_get_HighlightedString' class='ruff_dyn_src'><pre><br><code class="tcl">method get_HighlightedString {} {
  # Returns a string got from highlighting by Alt+left/right/q/w.

  if {[info exists HLstring]} {
    return $HLstring
  }
  return {}
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::highlight_matches'>highlight_matches</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights matches of selected word in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT highlight_matches</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_highlight_matches' href="javascript:toggleSource('apave_APaveDialog_highlight_matches')">Show source</a></p>
<div id='apave_APaveDialog_highlight_matches' class='ruff_dyn_src'><pre><br><code class="tcl">method highlight_matches {txt} {
  # Highlights matches of selected word in a text.
  #   txt - path to the text

  lassign [my get_highlighted $txt] sel pos pos2
  if {$pos eq {}} return
  after idle &quot;[self] highlight_matches_real $txt $pos $pos2&quot;
  my set_HighlightedString $sel
  set lenList {}
  set posList [$txt search -all -count lenList -- &quot;$sel&quot; 1.0 end]
  foreach pos2 $posList len $lenList {
    if {$len eq {}} {set len [string length $sel]}
    set pos3 [$txt index &quot;$pos2 + $len chars&quot;]
    if {$pos2 == $pos} {
      lappend matches2 $pos2 $pos3
    } else {
      lappend matches1 $pos2 $pos3
    }
  }
  catch {
    $txt tag remove hilited 1.0 end
    $txt tag remove hilited2 1.0 end
    $txt tag add hilited {*}$matches1
    $txt tag add hilited2 {*}$matches2
  }
  set ::apave::_AP_VARS(HILI,$txt) yes
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::highlight_matches_real'>highlight_matches_real</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Highlights a selected word in a text, esp. fow Windows. Windows thinks a word is edged by spaces only: not in real case.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT highlight_matches_real</span> <span class='ruff_arg'>txt pos1 pos2</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
<tr><td class='ruff_defitem'><code><code>pos1</code></code></td><td class='ruff_defitem'>starting position of real selection</td></tr>
<tr><td class='ruff_defitem'><code><code>pos2</code></code></td><td class='ruff_defitem'>ending position of real selection</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_highlight_matches_real' href="javascript:toggleSource('apave_APaveDialog_highlight_matches_real')">Show source</a></p>
<div id='apave_APaveDialog_highlight_matches_real' class='ruff_dyn_src'><pre><br><code class="tcl">method highlight_matches_real {txt pos1 pos2} {
  # Highlights a selected word in a text, esp. fow Windows.
  # Windows thinks a word is edged by spaces only: not in real case.
  #   txt - path to the text
  #   pos1 - starting position of real selection
  #   pos2 - ending position of real selection

  $txt tag remove sel 1.0 end
  if {[$txt get $pos1] eq &quot;\n&quot;} {
    # if a word at line start, Windows select an empty line above
    lassign [split $pos1 .] l c
    set pos1 [incr l].$c
  }
  catch {::tk::TextSetCursor $txt $pos1}
  $txt tag add sel $pos1 $pos2
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::linesMove'>linesMove</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Moves a current line or lines of selection up/down.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT linesMove</span> <span class='ruff_arg'>txt to ?dobreak?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
<tr><td class='ruff_defitem'><code><code>to</code></code></td><td class='ruff_defitem'>direction (-1 means &quot;up&quot;, +1 means &quot;down&quot;)</td></tr>
<tr><td class='ruff_defitem'><code><code>dobreak</code></code></td><td class='ruff_defitem'>if true, means &quot;return -code break&quot; <i>optional, default</i> <code>1</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>dobreak=true</em> allows to break the Tk processing of keypresses such as Ctrl+Y.</p>
<p class='ruff'>If not set, the text widget is identified as <code>my TexM</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_linesMove' href="javascript:toggleSource('apave_APaveDialog_linesMove')">Show source</a></p>
<div id='apave_APaveDialog_linesMove' class='ruff_dyn_src'><pre><br><code class="tcl">method linesMove {txt to {dobreak 1}} {
  # Moves a current line or lines of selection up/down.
  #   txt - text's path
  #   to - direction (-1 means &quot;up&quot;, +1 means &quot;down&quot;)
  #   dobreak - if true, means &quot;return -code break&quot;
  #
  # The *dobreak=true* allows to break the Tk processing of keypresses
  # such as Ctrl+Y.
  #
  # If not set, the text widget is identified as `my TexM`.

  ; proc NewRow {ind rn} {
    set i [string first . $ind]
    set row [string range $ind 0 $i-1]
    return [incr row $rn][string range $ind $i end]
  }
  if {$txt eq {}} {set txt [my TexM]}
  set err [catch {$txt tag ranges sel} sel]
  lassign [$txt index insert] pos  ;# position of caret
  if {[set issel [expr {!$err &amp;&amp; [llength $sel]==2}]]} {
    lassign $sel pos1 pos2         ;# selection's start &amp; end
    set l1 [expr {int($pos1)}]
    set l2 [expr {int($pos2)}]
    set pos21 [$txt index &quot;$pos2 linestart&quot;]
    if {[$txt get $pos21 $pos2] eq {}} {incr l2 -1}
    set lfrom [expr {$to&gt;0 ? $l2+1 : $l1-1}]
    set lto   [expr {$to&gt;0 ? $l1-1 : $l2-1}]
  } else {
    set lcurr [expr {int($pos)}]
    set lfrom [expr {$to&gt;0 ? $lcurr+1 : $lcurr-1}]
    set lto   [expr {$to&gt;0 ? $lcurr-1 : $lcurr-1}]
  }
  set lend [expr {int([$txt index end])}]
  if {$lfrom&gt;0 &amp;&amp; $lfrom&lt;$lend} {
    incr lto
    lassign [my GetLinePosition $txt $lfrom.0] linestart lineend
    set duptext [$txt get $linestart $lineend]
    ::apave::undoIn $txt
    $txt delete $linestart $lineend
    $txt insert $lto.0 $duptext
    ::tk::TextSetCursor $txt [NewRow $pos $to]
    if {$issel} {
      $txt tag add sel [NewRow $pos1 $to] [NewRow $pos2 $to]
    }
    if {[lsearch -glob [$txt tag names] tagCOM*]&gt;-1} {
      catch {::hl_tcl::my::Modified $txt insert $lto.0 $lto.end}
    }
    ::apave::undoOut $txt
    if {$dobreak} {return -code break}
  }
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::misc'>misc</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>MISCELLANEOUS</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT misc</span> <span class='ruff_arg'>icon ttl msg butts ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>butts</code></code></td><td class='ruff_defitem'>list of buttons</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>button to be selected; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <em>butts</em> is a list of pairs &quot;title of button&quot; &quot;number/ID of button&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_misc' href="javascript:toggleSource('apave_APaveDialog_misc')">Show source</a></p>
<div id='apave_APaveDialog_misc' class='ruff_dyn_src'><pre><br><code class="tcl">method misc {icon ttl msg butts {defb {}} args} {
  # Shows the *MISCELLANEOUS* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   butts - list of buttons
  #   defb - button to be selected
  #   args - options
  #
  # The *butts* is a list of pairs &quot;title of button&quot; &quot;number/ID of button&quot;

  foreach {nam num} $butts {
    set but But[namespace tail $num] ;# for &quot;num&quot; set as a command
    lappend apave_msc_bttns $but &quot;$nam&quot; $num
    if {$defb eq {}} {
      set defb $num
    }
  }
  lassign [my PrepArgs {*}$args] args
  return [my Query $icon $ttl $msg $apave_msc_bttns But$defb {} $args]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::ok'>ok</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>OK</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT ok</span> <span class='ruff_arg'>icon ttl msg ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_ok' href="javascript:toggleSource('apave_APaveDialog_ok')">Show source</a></p>
<div id='apave_APaveDialog_ok' class='ruff_dyn_src'><pre><br><code class="tcl">method ok {icon ttl msg args} {
  # Shows the *OK* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   args - options

  lassign [my PrepArgs {*}$args] args comOK
  return [my Query $icon $ttl $msg &quot;ButOK OK $comOK&quot; ButOK {} $args]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::okcancel'>okcancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>OKCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT okcancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>button to be selected; <i>optional, default</i> <code>OK</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_okcancel' href="javascript:toggleSource('apave_APaveDialog_okcancel')">Show source</a></p>
<div id='apave_APaveDialog_okcancel' class='ruff_dyn_src'><pre><br><code class="tcl">method okcancel {icon ttl msg {defb OK} args} {
  # Shows the *OKCANCEL* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   defb - button to be selected
  #   args - options

  lassign [my PrepArgs {*}$args] args
  return [my Query $icon $ttl $msg  {ButOK OK 1 ButCANCEL Cancel 0} But$defb {} $args]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::pasteText'>pasteText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes a selection at pasting.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT pasteText</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>text's path</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The absence of this feature is very perpendicular of Tk's paste.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_pasteText' href="javascript:toggleSource('apave_APaveDialog_pasteText')">Show source</a></p>
<div id='apave_APaveDialog_pasteText' class='ruff_dyn_src'><pre><br><code class="tcl">method pasteText {txt} {
  # Removes a selection at pasting.
  #   txt - text's path
  #
  # The absence of this feature is very perpendicular of Tk's paste.

  set err [catch {$txt tag ranges sel} sel]
  if {!$err &amp;&amp; [llength $sel]==2} {
    lassign $sel pos1 pos2
    set pos [$txt index insert]
    if {[$txt compare $pos &gt;= $pos1] &amp;&amp; [$txt compare $pos &lt;= $pos2]} {
      $txt delete $pos1 $pos2
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::popupBlockCommands'>popupBlockCommands</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns block commands for a popup menu on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT popupBlockCommands</span> <span class='ruff_arg'>pop ?txt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pop</code></code></td><td class='ruff_defitem'>path to the menu</td></tr>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns block commands for a popup menu on a text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_popupBlockCommands' href="javascript:toggleSource('apave_APaveDialog_popupBlockCommands')">Show source</a></p>
<div id='apave_APaveDialog_popupBlockCommands' class='ruff_dyn_src'><pre><br><code class="tcl">method popupBlockCommands {pop {txt {}}} {
  # Returns block commands for a popup menu on a text.
  #   pop - path to the menu
  #   txt - path to the text

  set accD [::apave::KeyAccelerator [::apave::getTextHotkeys CtrlD]]
  set accY [::apave::KeyAccelerator [::apave::getTextHotkeys CtrlY]]
  return &quot;\$pop add separator
    \$pop add command [my iconA add] -accelerator $accD -label \&quot;Double Selection\&quot; \\
      -command \&quot;[self] doubleText {$txt} 0\&quot;
    \$pop add command [my iconA delete] -accelerator $accY -label \&quot;Delete Line\&quot; \\
      -command \&quot;[self] deleteLine {$txt} 0\&quot;
    \$pop add command [my iconA up] -accelerator Alt+Up -label \&quot;Line(s) Up\&quot; \\
      -command \&quot;[self] linesMove {$txt} -1 0\&quot;
    \$pop add command [my iconA down] -accelerator Alt+Down -label \&quot;Line(s) Down\&quot; \\
     -command \&quot;[self] linesMove {$txt} +1 0\&quot;&quot;
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::popupFindCommands'>popupFindCommands</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns find commands for a popup menu on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT popupFindCommands</span> <span class='ruff_arg'>pop ?txt? ?com1? ?com2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pop</code></code></td><td class='ruff_defitem'>path to the menu</td></tr>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>com1</code></code></td><td class='ruff_defitem'>user's command &quot;find first&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>com2</code></code></td><td class='ruff_defitem'>user's command &quot;find next&quot; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns find commands for a popup menu on a text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_popupFindCommands' href="javascript:toggleSource('apave_APaveDialog_popupFindCommands')">Show source</a></p>
<div id='apave_APaveDialog_popupFindCommands' class='ruff_dyn_src'><pre><br><code class="tcl">method popupFindCommands {pop {txt {}} {com1 {}} {com2 {}}} {
  # Returns find commands for a popup menu on a text.
  #   pop - path to the menu
  #   txt - path to the text
  #   com1 - user's command &quot;find first&quot;
  #   com2 - user's command &quot;find next&quot;

  set accF3 [::apave::KeyAccelerator [::apave::getTextHotkeys F3]]
  if {$com1 eq {}} {set com1 &quot;[self] InitFindInText 0 $txt; focus \[[self] Entfind\]&quot;}
  if {$com2 eq {}} {set com2 &quot;[self] findInText 1 $txt&quot;}
  return &quot;\$pop add separator
    \$pop add command [my iconA find] -accelerator Ctrl+F -label \&quot;Find First\&quot; \\
      -command {$com1}
    \$pop add command [my iconA none] -accelerator $accF3 -label \&quot;Find Next\&quot; \\
      -command {$com2}&quot;
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::popupHighlightCommands'>popupHighlightCommands</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns highlighting commands for a popup menu on a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT popupHighlightCommands</span> <span class='ruff_arg'>?pop? ?txt?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>pop</code></code></td><td class='ruff_defitem'>path to the menu; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>path to the text; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns highlighting commands for a popup menu on a text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_popupHighlightCommands' href="javascript:toggleSource('apave_APaveDialog_popupHighlightCommands')">Show source</a></p>
<div id='apave_APaveDialog_popupHighlightCommands' class='ruff_dyn_src'><pre><br><code class="tcl">method popupHighlightCommands {{pop {}} {txt {}}} {
  # Returns highlighting commands for a popup menu on a text.
  #   pop - path to the menu
  #   txt - path to the text

  set accQ [::apave::KeyAccelerator [::apave::getTextHotkeys AltQ]]
  set accW [::apave::KeyAccelerator [::apave::getTextHotkeys AltW]]
  set res &quot;\$pop add separator
    \$pop add command [my iconA upload] -accelerator $accQ \\
    -label \&quot;Highlight First\&quot; -command \&quot;[self] seek_highlight %w 2\&quot;
    \$pop add command [my iconA download] -accelerator $accW \\
    -label \&quot;Highlight Last\&quot; -command \&quot;[self] seek_highlight %w 3\&quot;
    \$pop add command [my iconA previous] -accelerator Alt+Left \\
    -label \&quot;Highlight Previous\&quot; -command \&quot;[self] seek_highlight %w 0\&quot;
    \$pop add command [my iconA next] -accelerator Alt+Right \\
    -label \&quot;Highlight Next\&quot; -command \&quot;[self] seek_highlight %w 1\&quot;
    \$pop add command [my iconA none] -accelerator Dbl.Click \\
    -label \&quot;Highlight All\&quot; -command \&quot;[self] highlight_matches %w\&quot;&quot;
  if {$txt ne {}} {set res [string map [list %w $txt] $res]}
  return $res
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::progress_Begin'>progress_Begin</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates and shows a progress window. Fit for splash screens.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT progress_Begin</span> <span class='ruff_arg'>type wprn ttl msg1 msg2 maxvalue ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>any word(s)</td></tr>
<tr><td class='ruff_defitem'><code><code>wprn</code></code></td><td class='ruff_defitem'>parent window</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title message</td></tr>
<tr><td class='ruff_defitem'><code><code>msg1</code></code></td><td class='ruff_defitem'>top message</td></tr>
<tr><td class='ruff_defitem'><code><code>msg2</code></code></td><td class='ruff_defitem'>bottom message</td></tr>
<tr><td class='ruff_defitem'><code><code>maxvalue</code></code></td><td class='ruff_defitem'>maximum value</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>additional attributes of the progress bar</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If type={}, widgetType method participates too in progress_Go, and also progress_End puts out a little statistics.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveBase::widgetType" title="APaveBase::widgetType" class='ruff_cmd'>APaveBase::widgetType</a>, <a href="apave.html#::apave::APaveDialog::progress_Go" title="progress_Go" class='ruff_cmd'>progress_Go</a>, <a href="apave.html#::apave::APaveDialog::progress_End" title="progress_End" class='ruff_cmd'>progress_End</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_progress_Begin' href="javascript:toggleSource('apave_APaveDialog_progress_Begin')">Show source</a></p>
<div id='apave_APaveDialog_progress_Begin' class='ruff_dyn_src'><pre><br><code class="tcl">method progress_Begin {type wprn ttl msg1 msg2 maxvalue args} {
  # Creates and shows a progress window. Fit for splash screens.
  #   type - any word(s)
  #   wprn - parent window
  #   ttl - title message
  #   msg1 - top message
  #   msg2 - bottom message
  #   maxvalue - maximum value
  #   args - additional attributes of the progress bar
  #
  # If type={}, widgetType method participates too in progress_Go, and also
  # progress_End puts out a little statistics.
  #
  # See also: APaveBase::widgetType, progress_Go, progress_End

  set ::apave::_AP_VARS(win) .proSplashScreen
  set qdlg $::apave::_AP_VARS(win)
  set atr1 &quot;-maximum 100 -value 0 -mode determinate -length 300 -orient horizontal&quot;
  set widlist [list  &quot;fra - - - - {pack} {-h 10}&quot;  &quot;.Lab1SplashScreen - - - - {pack} {-t {$msg1}}&quot;  &quot;.ProgSplashScreen - - - - {pack} {$atr1 $args}&quot;  &quot;.Lab2SplashScreen - - - - {pack -anchor w} {-t {$msg2}}&quot;  ]
  set win [my makeWindow $qdlg.fra $ttl]
  set widlist [my paveWindow $qdlg.fra $widlist]
  ::tk::PlaceWindow $win widget $wprn
  my showWindow $win 0 1
  update
  set ::apave::_AP_VARS(ProSplash,type) $type
  set ::apave::_AP_VARS(ProSplash,win) $win
  set ::apave::_AP_VARS(ProSplash,wid1) [my Lab1SplashScreen]
  set ::apave::_AP_VARS(ProSplash,wid2) [my ProgSplashScreen]
  set ::apave::_AP_VARS(ProSplash,wid3) [my Lab2SplashScreen]
  set ::apave::_AP_VARS(ProSplash,val1) 0
  set ::apave::_AP_VARS(ProSplash,val2) 0
  set ::apave::_AP_VARS(ProSplash,value) 0
  set ::apave::_AP_VARS(ProSplash,curvalue) 0
  set ::apave::_AP_VARS(ProSplash,maxvalue) $maxvalue
  set ::apave::_AP_VARS(ProSplash,after) [list]
  # 'after' should be postponed, as 'update' messes it up
  rename ::after ::ProSplash_after
  ; proc ::after {args} {
    lappend ::apave::_AP_VARS(ProSplash,after) $args
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::progress_End'>progress_End</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Destroys a progress window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT progress_End</span> </div>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveDialog::progress_Begin" title="progress_Begin" class='ruff_cmd'>progress_Begin</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_progress_End' href="javascript:toggleSource('apave_APaveDialog_progress_End')">Show source</a></p>
<div id='apave_APaveDialog_progress_End' class='ruff_dyn_src'><pre><br><code class="tcl">method progress_End {} {
  # Destroys a progress window.
  # See also: progress_Begin

  variable ::apave::_AP_VARS
  catch {
    destroy $::apave::_AP_VARS(ProSplash,win)
    rename ::after {}
    rename ::ProSplash_after ::after
    foreach aftargs $::apave::_AP_VARS(ProSplash,after) {
      after {*}$aftargs
    }
    if {$::apave::_AP_VARS(ProSplash,type) eq {}} {
      puts &quot;Splash statistics:  \n  \&quot;maxvalue\&quot;: $::apave::_AP_VARS(ProSplash,maxvalue)  \n  curr.value: $::apave::_AP_VARS(ProSplash,val1)  \n  steps made: $::apave::_AP_VARS(ProSplash,val2)&quot;
    }
    unset ::apave::_AP_VARS(ProSplash,type)
    unset ::apave::_AP_VARS(ProSplash,win)
    unset ::apave::_AP_VARS(ProSplash,wid1)
    unset ::apave::_AP_VARS(ProSplash,wid2)
    unset ::apave::_AP_VARS(ProSplash,wid3)
    unset ::apave::_AP_VARS(ProSplash,val1)
    unset ::apave::_AP_VARS(ProSplash,val2)
    unset ::apave::_AP_VARS(ProSplash,value)
    unset ::apave::_AP_VARS(ProSplash,curvalue)
    unset ::apave::_AP_VARS(ProSplash,maxvalue)
    unset ::apave::_AP_VARS(ProSplash,after)
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::progress_Go'>progress_Go</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates a progress window.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT progress_Go</span> <span class='ruff_arg'>value ?msg1? ?msg2?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>value</code></code></td><td class='ruff_defitem'>current value of the progress bar</td></tr>
<tr><td class='ruff_defitem'><code><code>msg1</code></code></td><td class='ruff_defitem'>top message; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>msg2</code></code></td><td class='ruff_defitem'>bottom message; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns current percents (value) of progress. If it reaches 100, the progress_Go may continue from 0.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::APaveDialog::progress_Begin" title="progress_Begin" class='ruff_cmd'>progress_Begin</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_progress_Go' href="javascript:toggleSource('apave_APaveDialog_progress_Go')">Show source</a></p>
<div id='apave_APaveDialog_progress_Go' class='ruff_dyn_src'><pre><br><code class="tcl">method progress_Go {value {msg1 {}} {msg2 {}}} {
  # Updates a progress window.
  #   value -  current value of the progress bar
  #   msg1 - top message
  #   msg2 - bottom message
  #
  # Returns current percents (value) of progress.
  # If it reaches 100, the progress_Go may continue from 0.
  #
  # See also: progress_Begin

  set ::apave::_AP_VARS(ProSplash,val1) $value
  incr ::apave::_AP_VARS(ProSplash,val2)
  set val [expr {min(100,int(100*$value/$::apave::_AP_VARS(ProSplash,maxvalue)))}]
  if {$val!=$::apave::_AP_VARS(ProSplash,value)} {
    set ::apave::_AP_VARS(ProSplash,value) $val
    catch {  ;# there might be no splash widgets, then let it run dry
      $::apave::_AP_VARS(ProSplash,wid2) configure -value $val
      if {$msg1 ne {}} {
        $::apave::_AP_VARS(ProSplash,wid1) configure -text $msg1
      }
      if {$msg2 ne {}} {
        $::apave::_AP_VARS(ProSplash,wid3) configure -text $msg2
      }
      update
    }
  }
  return $val
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::retrycancel'>retrycancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>RETRYCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT retrycancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>button to be selected; <i>optional, default</i> <code>RETRY</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_retrycancel' href="javascript:toggleSource('apave_APaveDialog_retrycancel')">Show source</a></p>
<div id='apave_APaveDialog_retrycancel' class='ruff_dyn_src'><pre><br><code class="tcl">method retrycancel {icon ttl msg {defb RETRY} args} {
  # Shows the *RETRYCANCEL* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   defb - button to be selected
  #   args - options

  lassign [my PrepArgs {*}$args] args
  return [my Query $icon $ttl $msg  {ButRETRY Retry 1 ButCANCEL Cancel 0} But$defb {} $args]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::seek_highlight'>seek_highlight</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Seeks the selected word forward/backward/to first/to last in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT seek_highlight</span> <span class='ruff_arg'>txt mode</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>mode</code></code></td><td class='ruff_defitem'>0 (search backward), 1 (forward), 2 (first), 3 (last)</td></tr>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_seek_highlight' href="javascript:toggleSource('apave_APaveDialog_seek_highlight')">Show source</a></p>
<div id='apave_APaveDialog_seek_highlight' class='ruff_dyn_src'><pre><br><code class="tcl">method seek_highlight {txt mode} {
  # Seeks the selected word forward/backward/to first/to last in a text.
  #   w - path to the text
  #   mode - 0 (search backward), 1 (forward), 2 (first), 3 (last)

  my unhighlight_matches $txt
  lassign [my get_highlighted $txt] sel pos pos2
  if {!$pos} return
  my set_HighlightedString $sel
  switch $mode {
    0 { ;# backward
      set nc [expr {[string length $sel] - 1}]
      set pos [$txt index &quot;$pos - $nc chars&quot;]
      set pos [$txt search -backwards -- $sel $pos 1.0]
    }
    1 { ;# forward
      set pos [$txt search -- $sel $pos2 end]
    }
    2 { ;# to first
      set pos [$txt search -- $sel 1.0 end]
    }
    3 { ;# to last
      set pos [$txt search -backwards -- $sel end 1.0]
    }
  }
  if {[string length &quot;$pos&quot;]} {
    ::tk::TextSetCursor $txt $pos
    $txt tag add sel $pos [$txt index &quot;$pos + [string length $sel] chars&quot;]
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::selectedWordText'>selectedWordText</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a word under the cursor or a selected text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT selectedWordText</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>the text's path</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a word under the cursor or a selected text.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_selectedWordText' href="javascript:toggleSource('apave_APaveDialog_selectedWordText')">Show source</a></p>
<div id='apave_APaveDialog_selectedWordText' class='ruff_dyn_src'><pre><br><code class="tcl">method selectedWordText {txt} {
  # Returns a word under the cursor or a selected text.
  #   txt - the text's path

  set seltxt {}
  if {![catch {$txt tag ranges sel} seltxt]} {
    if {[set forword [expr {$seltxt eq {}}]]} {
      set pos  [$txt index &quot;insert wordstart&quot;]
      set pos2 [$txt index &quot;insert wordend&quot;]
      set seltxt [string trim [$txt get $pos $pos2]]
      if {![string is wordchar -strict $seltxt]} {
        # when cursor just at the right of word: take the word at the left
        set pos  [$txt index &quot;insert -1 char wordstart&quot;]
        set pos2 [$txt index &quot;insert -1 char wordend&quot;]
      }
    } else {
      lassign $seltxt pos pos2
    }
    catch {
      set seltxt [$txt get $pos $pos2]
      if {[set sttrim [string trim $seltxt]] ne {}} {
        if {$forword} {set seltxt $sttrim}
      }
    }
  }
  return $seltxt
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::set_highlight_matches'>set_highlight_matches</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates bindings to highlight matches in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT set_highlight_matches</span> <span class='ruff_arg'>w</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_set_highlight_matches' href="javascript:toggleSource('apave_APaveDialog_set_highlight_matches')">Show source</a></p>
<div id='apave_APaveDialog_set_highlight_matches' class='ruff_dyn_src'><pre><br><code class="tcl">method set_highlight_matches {w} {
  # Creates bindings to highlight matches in a text.
  #   w - path to the text

  if {![winfo exists $w]} return
  $w tag configure hilited -foreground #1f0000 -background #ffa073
  $w tag configure hilited2 -foreground #1f0000 -background #ff6b85
  $w tag lower hilited sel
  bind $w &lt;Double-ButtonPress-1&gt; [list [self] highlight_matches $w]
  ::apave::bindToEvent $w &lt;KeyRelease&gt; [self] unhighlight_matches $w
  bind $w &lt;Alt-Left&gt; &quot;[self] seek_highlight $w 0 ; break&quot;
  bind $w &lt;Alt-Right&gt; &quot;[self] seek_highlight $w 1 ; break&quot;
  foreach k [::apave::getTextHotkeys AltQ] {
    bind $w &lt;$k&gt; [list [self] seek_highlight $w 2]
  }
  foreach k [::apave::getTextHotkeys AltW] {
    bind $w &lt;$k&gt; [list [self] seek_highlight $w 3]
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::set_HighlightedString'>set_HighlightedString</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Saves a string got from highlighting by Alt+left/right/q/w.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT set_HighlightedString</span> <span class='ruff_arg'>sel</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>sel</code></code></td><td class='ruff_defitem'>the string to be saved</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_set_HighlightedString' href="javascript:toggleSource('apave_APaveDialog_set_HighlightedString')">Show source</a></p>
<div id='apave_APaveDialog_set_HighlightedString' class='ruff_dyn_src'><pre><br><code class="tcl">method set_HighlightedString {sel} {
  # Saves a string got from highlighting by Alt+left/right/q/w.
  #   sel - the string to be saved

  set HLstring $sel
  if {$sel ne {}} {set Foundstr $sel}
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::unhighlight_matches'>unhighlight_matches</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Unhighlights matches of selected word in a text.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT unhighlight_matches</span> <span class='ruff_arg'>txt</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>txt</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
<tr><td class='ruff_defitem'><code><code>w</code></code></td><td class='ruff_defitem'>path to the text</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_unhighlight_matches' href="javascript:toggleSource('apave_APaveDialog_unhighlight_matches')">Show source</a></p>
<div id='apave_APaveDialog_unhighlight_matches' class='ruff_dyn_src'><pre><br><code class="tcl">method unhighlight_matches {txt} {
  # Unhighlights matches of selected word in a text.
  #   w - path to the text

  if {[info exists ::apave::_AP_VARS(HILI,$txt)] &amp;&amp; $::apave::_AP_VARS(HILI,$txt)} {
    $txt tag remove hilited 1.0 end
    $txt tag remove hilited2 1.0 end
    set ::apave::_AP_VARS(HILI,$txt) no
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::varName'>varName</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a variable name associated with a widget's name of &quot;input&quot; dialogue.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT varName</span> <span class='ruff_arg'>wname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>wname</code></code></td><td class='ruff_defitem'>widget's name</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_varName' href="javascript:toggleSource('apave_APaveDialog_varName')">Show source</a></p>
<div id='apave_APaveDialog_varName' class='ruff_dyn_src'><pre><br><code class="tcl">method varName {wname} {
  # Gets a variable name associated with a widget's name of &quot;input&quot; dialogue.
  #   wname - widget's name

  return [namespace current]::var$wname
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::yesno'>yesno</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>YESNO</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT yesno</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>button to be selected; <i>optional, default</i> <code>YES</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_yesno' href="javascript:toggleSource('apave_APaveDialog_yesno')">Show source</a></p>
<div id='apave_APaveDialog_yesno' class='ruff_dyn_src'><pre><br><code class="tcl">method yesno {icon ttl msg {defb YES} args} {
  # Shows the *YESNO* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   defb - button to be selected
  #   args - options

  lassign [my PrepArgs {*}$args] args
  return [my Query $icon $ttl $msg  {ButYES Yes 1 ButNO No 0} But$defb {} $args]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::APaveDialog::yesnocancel'>yesnocancel</a><span class='ns_scope'> [<a href="apave.html#::apave::APaveDialog" title="::apave::APaveDialog" class='ruff_cmd'>::apave::APaveDialog</a>]</span><span class='tinylink'><a href='apave.html#::apave::APaveDialog'>APaveDialog</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Shows the <em>YESNOCANCEL</em> dialog.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT yesnocancel</span> <span class='ruff_arg'>icon ttl msg ?defb? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>icon</code></code></td><td class='ruff_defitem'>icon</td></tr>
<tr><td class='ruff_defitem'><code><code>ttl</code></code></td><td class='ruff_defitem'>title</td></tr>
<tr><td class='ruff_defitem'><code><code>msg</code></code></td><td class='ruff_defitem'>message</td></tr>
<tr><td class='ruff_defitem'><code><code>defb</code></code></td><td class='ruff_defitem'>button to be selected; <i>optional, default</i> <code>YES</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_APaveDialog_yesnocancel' href="javascript:toggleSource('apave_APaveDialog_yesnocancel')">Show source</a></p>
<div id='apave_APaveDialog_yesnocancel' class='ruff_dyn_src'><pre><br><code class="tcl">method yesnocancel {icon ttl msg {defb YES} args} {
  # Shows the *YESNOCANCEL* dialog.
  #   icon - icon
  #   ttl - title
  #   msg - message
  #   defb - button to be selected
  #   args - options

  lassign [my PrepArgs {*}$args] args
  return [my Query $icon $ttl $msg  {ButYES Yes 1 ButNO No 2 ButCANCEL Cancel 0} But$defb {} $args]
}<br><br></code></pre></div>
</div><br><br><h3 class='ruffclass'><a name='::apave::ObjectProperty'>ObjectProperty</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectProperty::constructor" title="constructor" class='ruff_cmd'>constructor</a></code></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectProperty::destructor" title="destructor" class='ruff_cmd'>destructor</a></code></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectProperty::getProperty" title="getProperty" class='ruff_cmd'>getProperty</a></code></td><td class='ruff_defitem'>Gets an property's value as &quot;object-wide&quot;.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectProperty::setProperty" title="setProperty" class='ruff_cmd'>setProperty</a></code></td><td class='ruff_defitem'>Sets a property's value as &quot;object-wide&quot;.</td></tr>
</table>
<br><br><h4 class='ruffmethod'><a name='::apave::ObjectProperty::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ObjectProperty create</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectProperty_constructor' href="javascript:toggleSource('apave_ObjectProperty_constructor')">Show source</a></p>
<div id='apave_ObjectProperty_constructor' class='ruff_dyn_src'><pre><br><code class="tcl">method constructor {args} {
  array set _OP_Properties {}
  # ObjectProperty can play solo or be a mixin
  if {[llength [self next]]} { next {*}$args }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectProperty::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectProperty_destructor' href="javascript:toggleSource('apave_ObjectProperty_destructor')">Show source</a></p>
<div id='apave_ObjectProperty_destructor' class='ruff_dyn_src'><pre><br><code class="tcl">method destructor {} {
  array unset _OP_Properties *
  if {[llength [self next]]} next
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectProperty::getProperty'>getProperty</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an property's value as &quot;object-wide&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT getProperty</span> <span class='ruff_arg'>name ?defvalue?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of property</td></tr>
<tr><td class='ruff_defitem'><code><code>defvalue</code></code></td><td class='ruff_defitem'>default value; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If the property had been set, the method returns its value. Otherwise, the method returns the default value (<code>$defvalue</code>).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectProperty_getProperty' href="javascript:toggleSource('apave_ObjectProperty_getProperty')">Show source</a></p>
<div id='apave_ObjectProperty_getProperty' class='ruff_dyn_src'><pre><br><code class="tcl">method getProperty {name {defvalue {}}} {
  # Gets an property's value as &quot;object-wide&quot;.
  #   name - name of property
  #   defvalue - default value
  # If the property had been set, the method returns its value.
  # Otherwise, the method returns the default value (`$defvalue`).

  if {[info exists _OP_Properties($name)]} {
    return $_OP_Properties($name)
  }
  return $defvalue
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectProperty::setProperty'>setProperty</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectProperty" title="::apave::ObjectProperty" class='ruff_cmd'>::apave::ObjectProperty</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a property's value as &quot;object-wide&quot;.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT setProperty</span> <span class='ruff_arg'>name ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>name</code></code></td><td class='ruff_defitem'>name of property</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>value of property</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If <em>args</em> is omitted, the method returns a property's value. If <em>args</em> is set, the method sets a property's value as <code>$args</code>.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectProperty_setProperty' href="javascript:toggleSource('apave_ObjectProperty_setProperty')">Show source</a></p>
<div id='apave_ObjectProperty_setProperty' class='ruff_dyn_src'><pre><br><code class="tcl">method setProperty {name args} {
  # Sets a property's value as &quot;object-wide&quot;.
  #   name - name of property
  #   args - value of property
  # If *args* is omitted, the method returns a property's value.
  # If *args* is set, the method sets a property's value as $args.

  switch -exact [llength $args] {
    0 {return [my getProperty $name]}
    1 {return [set _OP_Properties($name) [lindex $args 0]]}
  }
  puts -nonewline stderr  &quot;Wrong # args: should be \&quot;[namespace current] setProperty propertyname ?value?\&quot;&quot;
  return -code error
}<br><br></code></pre></div>
</div><br><br><h3 class='ruffclass'><a name='::apave::ObjectTheming'>ObjectTheming</a><span class='ns_scope'> [<a href="apave.html#::apave" title="::apave" class='ruff_cmd'>::apave</a>]</span><span class='tinylink'><a href='apave.html#::apave'>apave</a>, <a href='#top'>Top</a></span></h3>
<div style='clear:both;'></div>
<h5 class='ruff'>Method summary</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::constructor" title="constructor" class='ruff_cmd'>constructor</a></code></td><td class='ruff_defitem'>Constructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::destructor" title="destructor" class='ruff_cmd'>destructor</a></code></td><td class='ruff_defitem'>Destructor for the class.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::apaveTheme" title="apaveTheme" class='ruff_cmd'>apaveTheme</a></code></td><td class='ruff_defitem'>Checks if apave color scheme is used (always for standard ttk themes).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::basicDefFont" title="basicDefFont" class='ruff_cmd'>basicDefFont</a></code></td><td class='ruff_defitem'>Gets/Sets a basic default font.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::basicFontSize" title="basicFontSize" class='ruff_cmd'>basicFontSize</a></code></td><td class='ruff_defitem'>Gets/Sets a basic size of font used in apave</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::basicSmallFont" title="basicSmallFont" class='ruff_cmd'>basicSmallFont</a></code></td><td class='ruff_defitem'>Gets/Sets a basic small font used in status bar etc.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::basicTextFont" title="basicTextFont" class='ruff_cmd'>basicTextFont</a></code></td><td class='ruff_defitem'>Gets/Sets a basic font used in editing/viewing text widget.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::boldDefFont" title="boldDefFont" class='ruff_cmd'>boldDefFont</a></code></td><td class='ruff_defitem'>Returns a bold default font.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::boldTextFont" title="boldTextFont" class='ruff_cmd'>boldTextFont</a></code></td><td class='ruff_defitem'>Returns a bold fixed font.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::create_Fonts" title="create_Fonts" class='ruff_cmd'>create_Fonts</a></code></td><td class='ruff_defitem'>Creates fonts used in apave.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::create_FontsType" title="create_FontsType" class='ruff_cmd'>create_FontsType</a></code></td><td class='ruff_defitem'>Creates fonts used in apave, with additional options.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csAdd" title="csAdd" class='ruff_cmd'>csAdd</a></code></td><td class='ruff_defitem'>Registers new color scheme in the list of CS.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csCurrent" title="csCurrent" class='ruff_cmd'>csCurrent</a></code></td><td class='ruff_defitem'>Gets an index of current color scheme</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csDark" title="csDark" class='ruff_cmd'>csDark</a></code></td><td class='ruff_defitem'>Returns a flag &quot;a color scheme is dark&quot;</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csDeleteExternal" title="csDeleteExternal" class='ruff_cmd'>csDeleteExternal</a></code></td><td class='ruff_defitem'>Removes all external CS.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csExport" title="csExport" class='ruff_cmd'>csExport</a></code></td><td class='ruff_defitem'>TODO</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csFont" title="csFont" class='ruff_cmd'>csFont</a></code></td><td class='ruff_defitem'>Returns attributes of CS font.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csFontDef" title="csFontDef" class='ruff_cmd'>csFontDef</a></code></td><td class='ruff_defitem'>Returns attributes of CS default font.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csFontMono" title="csFontMono" class='ruff_cmd'>csFontMono</a></code></td><td class='ruff_defitem'>Returns attributes of CS monotype font.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csGet" title="csGet" class='ruff_cmd'>csGet</a></code></td><td class='ruff_defitem'>Gets a color scheme's colors</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csGetName" title="csGetName" class='ruff_cmd'>csGetName</a></code></td><td class='ruff_defitem'>Gets a color scheme's name</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csMainColors" title="csMainColors" class='ruff_cmd'>csMainColors</a></code></td><td class='ruff_defitem'>Returns a list of main colors' indices of CS.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csMapTheme" title="csMapTheme" class='ruff_cmd'>csMapTheme</a></code></td><td class='ruff_defitem'>Returns a map of CS / themeWindow method colors. The map is a list of indices in CS corresponding to themeWindow's args.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csNewIndex" title="csNewIndex" class='ruff_cmd'>csNewIndex</a></code></td><td class='ruff_defitem'>Gets a next available CS's index.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csSet" title="csSet" class='ruff_cmd'>csSet</a></code></td><td class='ruff_defitem'>Sets a color scheme and applies it to Tk/Ttk widgets.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::csToned" title="csToned" class='ruff_cmd'>csToned</a></code></td><td class='ruff_defitem'>Make an external CS that has tones (hues) of colors for a CS.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::initTooltip" title="initTooltip" class='ruff_cmd'>initTooltip</a></code></td><td class='ruff_defitem'>Configurates colors and other attributes of tooltip.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::thDark" title="thDark" class='ruff_cmd'>thDark</a></code></td><td class='ruff_defitem'>Checks if a theme is dark, light or neutral.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::themeExternal" title="themeExternal" class='ruff_cmd'>themeExternal</a></code></td><td class='ruff_defitem'>Configures an external dialogue so that its colors accord with a current CS.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::themeMandatory" title="themeMandatory" class='ruff_cmd'>themeMandatory</a></code></td><td class='ruff_defitem'>Themes all that must be themed.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="themeNonThemed" class='ruff_cmd'>themeNonThemed</a></code></td><td class='ruff_defitem'>Updates the appearances of currently used widgets (non-themed).</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::themePopup" title="themePopup" class='ruff_cmd'>themePopup</a></code></td><td class='ruff_defitem'>Configures a popup menu so that its colors accord with a current CS.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::themeWindow" title="themeWindow" class='ruff_cmd'>themeWindow</a></code></td><td class='ruff_defitem'>Changes a Tk style (theming a bit)</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::touchWidgets" title="touchWidgets" class='ruff_cmd'>touchWidgets</a></code></td><td class='ruff_defitem'>Makes non-ttk widgets to be touched again.</td></tr>
<tr><td class='ruff_defitem'><code><a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="untouchWidgets" class='ruff_cmd'>untouchWidgets</a></code></td><td class='ruff_defitem'>Makes non-ttk widgets to be untouched by coloring or gets their list.</td></tr>
</table>
<h5 class='ruff'>Subclasses</h5><p class='ruff'><a href="apave.html#::apave::APaveBase" title="APaveBase" class='ruff_cmd'>APaveBase</a></p>
<br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::constructor'>constructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>ObjectTheming create</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>Optional arguments.</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_constructor' href="javascript:toggleSource('apave_ObjectTheming_constructor')">Show source</a></p>
<div id='apave_ObjectTheming_constructor' class='ruff_dyn_src'><pre><br><code class="tcl">method constructor {args} {
  my InitCS
  # ObjectTheming can play solo or be a mixin
  if {[llength [self next]]} { next {*}$args }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::destructor'>destructor</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT destroy</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_destructor' href="javascript:toggleSource('apave_ObjectTheming_destructor')">Show source</a></p>
<div id='apave_ObjectTheming_destructor' class='ruff_dyn_src'><pre><br><code class="tcl">method destructor {} {
  if {[llength [self next]]} next
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::apaveTheme'>apaveTheme</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if apave color scheme is used (always for standard ttk themes).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT apaveTheme</span> <span class='ruff_arg'>?theme?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>theme</code></code></td><td class='ruff_defitem'>a theme to be checked (if omitted, a current ttk theme); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_apaveTheme' href="javascript:toggleSource('apave_ObjectTheming_apaveTheme')">Show source</a></p>
<div id='apave_ObjectTheming_apaveTheme' class='ruff_dyn_src'><pre><br><code class="tcl">method apaveTheme {{theme {}}} {
  # Checks if apave color scheme is used (always for standard ttk themes).
  #   theme - a theme to be checked (if omitted, a current ttk theme)

  if {$theme eq {}} {set theme [ttk::style theme use]}
  return [expr {$theme in {clam alt classic default awdark awlight plastik}}]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicDefFont'>basicDefFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic default font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicDefFont</span> <span class='ruff_arg'>?deffont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>deffont</code></code></td><td class='ruff_defitem'>font; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'deffont' is omitted or ==&quot;&quot;, this method gets it. If 'deffont' is set, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_basicDefFont' href="javascript:toggleSource('apave_ObjectTheming_basicDefFont')">Show source</a></p>
<div id='apave_ObjectTheming_basicDefFont' class='ruff_dyn_src'><pre><br><code class="tcl">method basicDefFont {{deffont {}}} {
  # Gets/Sets a basic default font.
  #    deffont - font
  # If 'deffont' is omitted or ==&quot;&quot;, this method gets it.
  # If 'deffont' is set, this method sets it.

  if {$deffont ne &quot;&quot;} {
    return [set ::apave::_CS_(defFont) $deffont]
  } else {
    return $::apave::_CS_(defFont)
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicFontSize'>basicFontSize</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic size of font used in apave</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicFontSize</span> <span class='ruff_arg'>?fs? ?ds?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fs</code></code></td><td class='ruff_defitem'>font size; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>ds</code></code></td><td class='ruff_defitem'>incr/decr of size; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'fs' is omitted or ==0, this method gets it. If 'fs' &gt;0, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_basicFontSize' href="javascript:toggleSource('apave_ObjectTheming_basicFontSize')">Show source</a></p>
<div id='apave_ObjectTheming_basicFontSize' class='ruff_dyn_src'><pre><br><code class="tcl">method basicFontSize {{fs 0} {ds 0}} {
  # Gets/Sets a basic size of font used in apave
  #    fs - font size
  #    ds - incr/decr of size
  # If 'fs' is omitted or ==0, this method gets it.
  # If 'fs' &gt;0, this method sets it.

  if {$fs} {
    set ::apave::_CS_(fs) [expr {$fs + $ds}]
    my create_Fonts
    return $::apave::_CS_(fs)
  } else {
    return [expr {$::apave::_CS_(fs) + $ds}]
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicSmallFont'>basicSmallFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic small font used in status bar etc.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicSmallFont</span> <span class='ruff_arg'>?smallfont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>smallfont</code></code></td><td class='ruff_defitem'>font; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'smallfont' is omitted or ==&quot;&quot;, this method gets it. If 'smallfont' is set, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_basicSmallFont' href="javascript:toggleSource('apave_ObjectTheming_basicSmallFont')">Show source</a></p>
<div id='apave_ObjectTheming_basicSmallFont' class='ruff_dyn_src'><pre><br><code class="tcl">method basicSmallFont {{smallfont {}}} {
  # Gets/Sets a basic small font used in status bar etc.
  #    smallfont - font
  # If 'smallfont' is omitted or ==&quot;&quot;, this method gets it.
  # If 'smallfont' is set, this method sets it.

  if {$smallfont ne &quot;&quot;} {
    return [set ::apave::_CS_(smallFont) $smallfont]
  } else {
    return $::apave::_CS_(smallFont)
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::basicTextFont'>basicTextFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets/Sets a basic font used in editing/viewing text widget.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT basicTextFont</span> <span class='ruff_arg'>?textfont?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>textfont</code></code></td><td class='ruff_defitem'>font; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If 'textfont' is omitted or ==&quot;&quot;, this method gets it. If 'textfont' is set, this method sets it.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_basicTextFont' href="javascript:toggleSource('apave_ObjectTheming_basicTextFont')">Show source</a></p>
<div id='apave_ObjectTheming_basicTextFont' class='ruff_dyn_src'><pre><br><code class="tcl">method basicTextFont {{textfont {}}} {
  # Gets/Sets a basic font used in editing/viewing text widget.
  #    textfont - font
  # If 'textfont' is omitted or ==&quot;&quot;, this method gets it.
  # If 'textfont' is set, this method sets it.

  if {$textfont ne &quot;&quot;} {
    return [set ::apave::_CS_(textFont) $textfont]
  } else {
    return $::apave::_CS_(textFont)
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::boldDefFont'>boldDefFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a bold default font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT boldDefFont</span> <span class='ruff_arg'>?fs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fs</code></code></td><td class='ruff_defitem'>font size; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a bold default font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_boldDefFont' href="javascript:toggleSource('apave_ObjectTheming_boldDefFont')">Show source</a></p>
<div id='apave_ObjectTheming_boldDefFont' class='ruff_dyn_src'><pre><br><code class="tcl">method boldDefFont {{fs 0}} {
  # Returns a bold default font.
  #    fs - font size

  if {$fs == 0} {set fs [my basicFontSize]}
  set bf [font actual basicDefFont]
  return [dict replace $bf -family [my basicDefFont] -weight bold -size $fs]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::boldTextFont'>boldTextFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a bold fixed font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT boldTextFont</span> <span class='ruff_arg'>?fs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fs</code></code></td><td class='ruff_defitem'>font size; <i>optional, default</i> <code>0</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a bold fixed font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_boldTextFont' href="javascript:toggleSource('apave_ObjectTheming_boldTextFont')">Show source</a></p>
<div id='apave_ObjectTheming_boldTextFont' class='ruff_dyn_src'><pre><br><code class="tcl">method boldTextFont {{fs 0}} {
  # Returns a bold fixed font.
  #    fs - font size

  if {$fs == 0} {set fs [expr {2+[my basicFontSize]}]}
  set bf [font actual TkFixedFont]
  return [dict replace $bf -family [my basicTextFont] -weight bold -size $fs]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::create_Fonts'>create_Fonts</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates fonts used in apave.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT create_Fonts</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_create_Fonts' href="javascript:toggleSource('apave_ObjectTheming_create_Fonts')">Show source</a></p>
<div id='apave_ObjectTheming_create_Fonts' class='ruff_dyn_src'><pre><br><code class="tcl">method create_Fonts {} {
  # Creates fonts used in apave.

  catch {font delete apaveFontMono}
  catch {font delete apaveFontDef}
  catch {font delete apaveFontMonoBold}
  catch {font delete apaveFontDefBold}
  font create apaveFontMono -family $::apave::_CS_(textFont) -size $::apave::_CS_(fs)
  font create apaveFontDef -family $::apave::_CS_(defFont) -size $::apave::_CS_(fs)
  font create apaveFontMonoBold  {*}[my boldTextFont]
  font create apaveFontDefBold {*}[my boldDefFont]
  set ::apave::FONTMAIN &quot;[font actual apaveFontDef]&quot;
  set ::apave::FONTMAINBOLD &quot;[font actual apaveFontDefBold]&quot;
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::create_FontsType'>create_FontsType</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Creates fonts used in apave, with additional options.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT create_FontsType</span> <span class='ruff_arg'>type ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>type</code></code></td><td class='ruff_defitem'>type of the created fonts</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>pairs &quot;option value&quot;</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of two created font names (default &amp; mono).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_create_FontsType' href="javascript:toggleSource('apave_ObjectTheming_create_FontsType')">Show source</a></p>
<div id='apave_ObjectTheming_create_FontsType' class='ruff_dyn_src'><pre><br><code class="tcl">method create_FontsType {type args} {
  # Creates fonts used in apave, with additional options.
  #   type - type of the created fonts
  #   args - pairs &quot;option value&quot;
  # Returns a list of two created font names (default &amp; mono).

  set name1 apaveFontDefTyped$type
  set name2 apaveFontMonoTyped$type
  catch {font delete $name1}
  catch {font delete $name2}
  font create $name1 -family $::apave::_CS_(defFont) -size $::apave::_CS_(fs) {*}$args
  font create $name2 -family $::apave::_CS_(textFont) -size $::apave::_CS_(fs) {*}$args
  return [list $name1 $name2]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csAdd'>csAdd</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Registers new color scheme in the list of CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csAdd</span> <span class='ruff_arg'>newcs ?setnew?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>newcs</code></code></td><td class='ruff_defitem'>CS item</td></tr>
<tr><td class='ruff_defitem'><code><code>setnew</code></code></td><td class='ruff_defitem'>if true, sets the CS as current; <i>optional, default</i> <code>true</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>Does not register the CS, if it is already registered.</p>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns an index of current CS.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::themeWindow" title="themeWindow" class='ruff_cmd'>themeWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csAdd' href="javascript:toggleSource('apave_ObjectTheming_csAdd')">Show source</a></p>
<div id='apave_ObjectTheming_csAdd' class='ruff_dyn_src'><pre><br><code class="tcl">method csAdd {newcs {setnew true}} {
  # Registers new color scheme in the list of CS.
  #   newcs -  CS item
  #   setnew - if true, sets the CS as current
  # Does not register the CS, if it is already registered.
  # Returns an index of current CS.
  # See also: themeWindow

  if {[llength $newcs]&lt;4} {
    set newcs [my ColorScheme]  ;# CS should be defined
  }
  lassign $newcs name tfg2 tfg1 tbg2 tbg1 tfhh - - tcur grey bclr
  set found $::apave::_CS_(NONCS)
  set maxcs [::apave::cs_Max]
  for {set i $::apave::_CS_(MINCS)} {$i&lt;=$maxcs} {incr i} {
    lassign [my csGet $i] cfg2 cfg1 cbg2 cbg1 cfhh - - ccur
    if {$cfg2 eq $tfg2 &amp;&amp; $cfg1 eq $tfg1 &amp;&amp; $cbg2 eq $tbg2 &amp;&amp;  $cbg1 eq $tbg1 &amp;&amp; $cfhh eq $tfhh &amp;&amp; $ccur eq $tcur} {
      set found $i
      break
    }
  }
  if {$found == $::apave::_CS_(MINCS) &amp;&amp; [my csCurrent] == $::apave::_CS_(NONCS)} {
    set setnew false ;# no moves from default CS to 'basic'
  } elseif {$found == $::apave::_CS_(NONCS)} {
    lappend ::apave::_CS_(ALL) $newcs
    set found [expr {$maxcs+1}]
  }
  if {$setnew} {set ::apave::_CS_(index) [set ::apave::_CS_(old) $found]}
  return [my csCurrent]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csCurrent'>csCurrent</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets an index of current color scheme</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csCurrent</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csCurrent' href="javascript:toggleSource('apave_ObjectTheming_csCurrent')">Show source</a></p>
<div id='apave_ObjectTheming_csCurrent' class='ruff_dyn_src'><pre><br><code class="tcl">method csCurrent {} {
  # Gets an index of current color scheme

  return $::apave::_CS_(index)
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csDark'>csDark</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a flag &quot;a color scheme is dark&quot;</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csDark</span> <span class='ruff_arg'>?cs?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cs</code></code></td><td class='ruff_defitem'>the color scheme to be checked (the current one, if not set); <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a flag &quot;a color scheme is dark&quot;</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csDark' href="javascript:toggleSource('apave_ObjectTheming_csDark')">Show source</a></p>
<div id='apave_ObjectTheming_csDark' class='ruff_dyn_src'><pre><br><code class="tcl">method csDark {{cs {}}} {
  # Returns a flag &quot;a color scheme is dark&quot;
  #   cs - the color scheme to be checked (the current one, if not set)

  if {$cs eq {} || $cs==-3} {set cs [my csCurrent]}
  lassign $::apave::_CS_(TONED) csbasic cstoned
  if {$cs==$cstoned} {set cs $csbasic}
  return [expr {$cs&gt;22}]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csDeleteExternal'>csDeleteExternal</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Removes all external CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csDeleteExternal</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csDeleteExternal' href="javascript:toggleSource('apave_ObjectTheming_csDeleteExternal')">Show source</a></p>
<div id='apave_ObjectTheming_csDeleteExternal' class='ruff_dyn_src'><pre><br><code class="tcl">method csDeleteExternal {} {
  # Removes all external CS.

  set ::apave::_CS_(ALL) [lreplace $::apave::_CS_(ALL) 48 end]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csExport'>csExport</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>TODO</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csExport</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csExport' href="javascript:toggleSource('apave_ObjectTheming_csExport')">Show source</a></p>
<div id='apave_ObjectTheming_csExport' class='ruff_dyn_src'><pre><br><code class="tcl">method csExport {} {
  # TODO

  set theme &quot;&quot;
  foreach arg {tfg1 tbg1 tfg2 tbg2 tfgS tbgS tfgD tbgD tcur bclr args} {
    if {[catch {set a &quot;$::apave::_CS_(expo,$arg)&quot;}] || $a==&quot;&quot;} {
      break
    }
    append theme &quot; $a&quot;
  }
  return $theme
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csFont'>csFont</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns attributes of CS font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csFont</span> <span class='ruff_arg'>fontname</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>fontname</code></code></td><td class='ruff_defitem'>Not documented.</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns attributes of CS font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csFont' href="javascript:toggleSource('apave_ObjectTheming_csFont')">Show source</a></p>
<div id='apave_ObjectTheming_csFont' class='ruff_dyn_src'><pre><br><code class="tcl">method csFont {fontname} {
  # Returns attributes of CS font.

  if {[catch {set font [font configure $fontname]}]} {
    my create_Fonts
    set font [font configure $fontname]
  }
  return $font
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csFontDef'>csFontDef</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns attributes of CS default font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csFontDef</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns attributes of CS default font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csFontDef' href="javascript:toggleSource('apave_ObjectTheming_csFontDef')">Show source</a></p>
<div id='apave_ObjectTheming_csFontDef' class='ruff_dyn_src'><pre><br><code class="tcl">method csFontDef {} {
  # Returns attributes of CS default font.

  return [my csFont apaveFontDef]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csFontMono'>csFontMono</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns attributes of CS monotype font.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csFontMono</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns attributes of CS monotype font.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csFontMono' href="javascript:toggleSource('apave_ObjectTheming_csFontMono')">Show source</a></p>
<div id='apave_ObjectTheming_csFontMono' class='ruff_dyn_src'><pre><br><code class="tcl">method csFontMono {} {
  # Returns attributes of CS monotype font.

  return [my csFont apaveFontMono]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csGet'>csGet</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's colors</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csGet</span> <span class='ruff_arg'>?ncolor?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ncolor</code></code></td><td class='ruff_defitem'>index of color scheme; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csGet' href="javascript:toggleSource('apave_ObjectTheming_csGet')">Show source</a></p>
<div id='apave_ObjectTheming_csGet' class='ruff_dyn_src'><pre><br><code class="tcl">method csGet {{ncolor {}}} {
  # Gets a color scheme's colors
  #   ncolor - index of color scheme

  if {$ncolor eq &quot;&quot;} {set ncolor [my csCurrent]}
  return [lrange [my ColorScheme $ncolor] 1 end]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csGetName'>csGetName</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a color scheme's name</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csGetName</span> <span class='ruff_arg'>?ncolor?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ncolor</code></code></td><td class='ruff_defitem'>index of color scheme; <i>optional, default</i> <code>0</code></td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csGetName' href="javascript:toggleSource('apave_ObjectTheming_csGetName')">Show source</a></p>
<div id='apave_ObjectTheming_csGetName' class='ruff_dyn_src'><pre><br><code class="tcl">method csGetName {{ncolor 0}} {
  # Gets a color scheme's name
  #   ncolor - index of color scheme

  if {$ncolor &lt; $::apave::_CS_(MINCS)} {
    return &quot;-2: None&quot;
  } elseif {$ncolor == $::apave::_CS_(MINCS)} {
    return &quot;-1: Basic&quot;
  }
  return [lindex [my ColorScheme $ncolor] 0]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csMainColors'>csMainColors</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a list of main colors' indices of CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csMainColors</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a list of main colors' indices of CS.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::csMapTheme" title="csMapTheme" class='ruff_cmd'>csMapTheme</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csMainColors' href="javascript:toggleSource('apave_ObjectTheming_csMainColors')">Show source</a></p>
<div id='apave_ObjectTheming_csMainColors' class='ruff_dyn_src'><pre><br><code class="tcl">method csMainColors {} {
  # Returns a list of main colors' indices of CS.
  # See also: csMapTheme

  return [list 0 1 2 3 5 10 11 13 16]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csMapTheme'>csMapTheme</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Returns a map of CS / themeWindow method colors. The map is a list of indices in CS corresponding to themeWindow's args.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csMapTheme</span> </div>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns a map of CS / themeWindow method colors. The map is a list of indices in CS corresponding to themeWindow's args.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::themeWindow" title="themeWindow" class='ruff_cmd'>themeWindow</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csMapTheme' href="javascript:toggleSource('apave_ObjectTheming_csMapTheme')">Show source</a></p>
<div id='apave_ObjectTheming_csMapTheme' class='ruff_dyn_src'><pre><br><code class="tcl">method csMapTheme {} {
  # Returns a map of CS / themeWindow method colors.
  # The map is a list of indices in CS corresponding to themeWindow's args.
  # See also: themeWindow

  return [list 1 3 0 2 6 5 8 3 7 9 4 10 11 1 13 14 15 16 17 18 19 20 21]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csNewIndex'>csNewIndex</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Gets a next available CS's index.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csNewIndex</span> </div>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csNewIndex' href="javascript:toggleSource('apave_ObjectTheming_csNewIndex')">Show source</a></p>
<div id='apave_ObjectTheming_csNewIndex' class='ruff_dyn_src'><pre><br><code class="tcl">method csNewIndex {} {
  # Gets a next available CS's index.

  return [expr {[::apave::cs_Max]+1}]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csSet'>csSet</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Sets a color scheme and applies it to Tk/Ttk widgets.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csSet</span> <span class='ruff_arg'>?ncolor? ?win? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>ncolor</code></code></td><td class='ruff_defitem'>index of color scheme; <i>optional, default</i> <code>0</code></td></tr>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's name; <i>optional, default</i> <code>.</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of colors if ncolor=&quot;&quot;</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The <code>args</code> can be set as &quot;-doit&quot;. In this case the method does set the <code>ncolor</code> color scheme (otherwise it doesn't set the CS if it's already of the same <code>ncolor</code>).</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csSet' href="javascript:toggleSource('apave_ObjectTheming_csSet')">Show source</a></p>
<div id='apave_ObjectTheming_csSet' class='ruff_dyn_src'><pre><br><code class="tcl">method csSet {{ncolor 0} {win .} args} {
  # Sets a color scheme and applies it to Tk/Ttk widgets.
  #   ncolor - index of color scheme
  #   win - window's name
  #   args - list of colors if ncolor=&quot;&quot;
  #
  # The `args` can be set as &quot;-doit&quot;. In this case the method does set
  # the `ncolor` color scheme (otherwise it doesn't set the CS if it's
  # already of the same `ncolor`).

  # The clrtitf, clrinaf etc. had been designed for e_menu. And as such,
  # they can be used directly, outside of this &quot;color scheming&quot; UI.
  # They set pairs of related fb/bg:
  #   clrtitf/clrtitb is item's fg/bg
  #   clrinaf/clrinab is main fg/bg
  #   clractf/clractb is active (selection) fg/bg
  # and separate colors:
  #   clrhelp is &quot;help&quot; foreground
  #   clrcurs is &quot;caret&quot; background
  #   clrgrey is &quot;shadowing&quot; background
  #   clrhotk is &quot;hotkey/border&quot; foreground
  #
  # In color scheming, these colors are transformed to be consistent
  # with Tk/Ttk's color mechanics.
  #
  # Additionally, &quot;grey&quot; color is used as &quot;border color/disabled foreground&quot;.
  #
  # Returns a list of colors used by the color scheme.

  if {$ncolor == -2} {
    ttk::style map Treeview -foreground [list readonly grey disabled grey selected black]
    return {}
  }
  if {$ncolor eq {}} {
    lassign $args  clrtitf clrinaf clrtitb clrinab clrhelp clractb clractf clrcurs clrgrey clrhotk tfgI tbgI fM bM tfgW tbgW tHL2 tbHL chkHL res5 res6 res7
  } else {
    foreach cs [list $ncolor $::apave::_CS_(MINCS)] {
      lassign [my csGet $cs]  clrtitf clrinaf clrtitb clrinab clrhelp clractb clractf clrcurs clrgrey clrhotk tfgI tbgI fM bM tfgW tbgW tHL2 tbHL chkHL res5 res6 res7
      if {$clrtitf ne &quot;&quot;} break
      set ncolor $cs
    }
    set ::apave::_CS_(index) $ncolor
  }
  # colors can be passed in args as -clrtitf &quot;color&quot; -clrinaf &quot;color&quot; ...
  if {$ncolor&gt;=0} {
    foreach nclr {clrtitf clrinaf clrtitb clrinab clrhelp clractb clractf clrcurs clrgrey clrhotk tfgI tbgI fM bM tfgW tbgW tHL2 tbHL chkHL} {
      incr ic
      if {[set i [lsearch $args -$nclr]]&gt;-1} {
        set $nclr [lindex $args $i+1]
        set chcs [lreplace [lindex $::apave::_CS_(ALL) $ncolor] $ic $ic [set $nclr]]
        set ::apave::_CS_(ALL) [lreplace $::apave::_CS_(ALL) $ncolor $ncolor $chcs]
      }
    }
  }
  set fg $clrinaf  ;# main foreground
  set bg $clrinab  ;# main background
  set fE $clrtitf  ;# fieldforeground foreground
  set bE $clrtitb  ;# fieldforeground background
  set fS $clractf  ;# active/selection foreground
  set bS $clractb  ;# active/selection background
  set hh $clrhelp  ;# (not used in cs' theming) title color
  set gr $clrgrey  ;# (not used in cs' theming) shadowing color
  set cc $clrcurs  ;# caret's color
  set ht $clrhotk  ;# hotkey color
  set grey $gr ;# #808080
  if {$::apave::_CS_(old) != $ncolor || &quot;-doit&quot; in $args} {
    set ::apave::_CS_(old) $ncolor
    my themeWindow $win [list $fg $bg $fE $bE $fS $bS $grey $bg $cc $ht $hh $tfgI $tbgI $fM $bM $tfgW $tbgW $tHL2 $tbHL $chkHL $res5 $res6 $res7]
    my UpdateColors
    my initTooltip
  }
  set ::apave::FGMAIN $fg
  set ::apave::BGMAIN $bg
  set ::apave::FGMAIN2 $fE
  set ::apave::BGMAIN2 $bE
  catch {
    if {[my csDark $ncolor]} {::baltip::configure -relief groove}
  }
  return [list $fg $bg $fE $bE $fS $bS $hh $grey $cc $ht $tfgI $tbgI $fM $bM $tfgW $tbgW $tHL2 $tbHL $chkHL $res5 $res6 $res7]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::csToned'>csToned</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Make an external CS that has tones (hues) of colors for a CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT csToned</span> <span class='ruff_arg'>cs hue ?doit?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>cs</code></code></td><td class='ruff_defitem'>internal apave CS to be toned</td></tr>
<tr><td class='ruff_defitem'><code><code>hue</code></code></td><td class='ruff_defitem'>a percent to get light (&gt; 0) or dark (&lt; 0) tones</td></tr>
<tr><td class='ruff_defitem'><code><code>doit</code></code></td><td class='ruff_defitem'>flag &quot;do it anyway&quot; <i>optional, default</i> <code>no</code></td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>This method allows only one external CS, eliminating others. Returns: &quot;yes&quot; if the CS was toned</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_csToned' href="javascript:toggleSource('apave_ObjectTheming_csToned')">Show source</a></p>
<div id='apave_ObjectTheming_csToned' class='ruff_dyn_src'><pre><br><code class="tcl">method csToned {cs hue {doit no}} {
  # Make an external CS that has tones (hues) of colors for a CS.
  #   cs - internal apave CS to be toned
  #   hue - a percent to get light (&gt; 0) or dark (&lt; 0) tones
  #   doit - flag &quot;do it anyway&quot;
  # This method allows only one external CS, eliminating others.
  # Returns: &quot;yes&quot; if the CS was toned

  if {!$doit &amp;&amp; [my csCurrent] &gt; $::apave::_CS_(NONCS)} {
    puts [set msg &quot;\napave method csToned must be run before csSet!\n&quot;]
    return -code error $msg
  }
  if {$cs &lt;= $::apave::_CS_(NONCS) || $cs &gt; $::apave::_CS_(STDCS)} {
    return no
  }
  my csDeleteExternal
  set CS [my csGet $cs]
  set mainc [my csMainColors]
  set ::apave::_CS_(HUE) $hue
  set hue [expr {(100.0+$hue)/100.0}]
  foreach i [my csMapTheme] {
    set color [lindex $CS $i]
    if {$i in $mainc} {
      catch {  ;# for CS=-1 not working
        set clr [string map {black #000000 white #ffffff grey #808080  red #ff0000 yellow #ffff00  orange #ffa500 #000 #000000 #fff #ffffff} $color]
        scan $clr #%2x%2x%2x R G B
        foreach valname {R G B} {
          set val [expr {int([set $valname]*$hue)}]
          set $valname [expr {max(min($val,255),0)}]
        }
        set color [format #%02x%02x%02x $R $G $B]
      }
    }
    lappend TWargs $color
  }
  set ::apave::_CS_(TONED) [list $cs [my csNewIndex]]
  my themeWindow . $TWargs no
  my csSet [my csCurrent] .  ;# resets new CS's data
  return yes
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::initTooltip'>initTooltip</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configurates colors and other attributes of tooltip.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT initTooltip</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options of ::baltip::configure</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_initTooltip' href="javascript:toggleSource('apave_ObjectTheming_initTooltip')">Show source</a></p>
<div id='apave_ObjectTheming_initTooltip' class='ruff_dyn_src'><pre><br><code class="tcl">method initTooltip {args} {
  # Configurates colors and other attributes of tooltip.
  #  args - options of ::baltip::configure

  ::apave::initBaltip
  lassign [lrange [my csGet] 14 15] fW bW
  ::baltip config -fg $fW -bg $bW -global yes
  ::baltip config {*}$args
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::thDark'>thDark</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Checks if a theme is dark, light or neutral.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT thDark</span> <span class='ruff_arg'>theme</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>theme</code></code></td><td class='ruff_defitem'>theme's name</td></tr>
</table>
<h5 class='ruff'>Return value</h5><p class='ruff'>Returns 1 for dark, 0 for light, -1 for neutral.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_thDark' href="javascript:toggleSource('apave_ObjectTheming_thDark')">Show source</a></p>
<div id='apave_ObjectTheming_thDark' class='ruff_dyn_src'><pre><br><code class="tcl">method thDark {theme} {
  # Checks if a theme is dark, light or neutral.
  #   theme - theme's name
  # Returns 1 for dark, 0 for light, -1 for neutral.

  if {$theme in {alt classic default clam}} {
    return -1
  }
  return [string match -nocase *dark* $theme]
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeExternal'>themeExternal</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures an external dialogue so that its colors accord with a current CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeExternal</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of untouched widgets</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_themeExternal' href="javascript:toggleSource('apave_ObjectTheming_themeExternal')">Show source</a></p>
<div id='apave_ObjectTheming_themeExternal' class='ruff_dyn_src'><pre><br><code class="tcl">method themeExternal {args} {
  # Configures an external dialogue so that its colors accord with a current CS.
  #   args - list of untouched widgets

  if {[set cs [my csCurrent]] != -2} {
    foreach untw $args {my untouchWidgets $untw}
    after idle [list [self] csSet $cs . -doit]  ;# theme the dialogue to be run
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeMandatory'>themeMandatory</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Themes all that must be themed.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeMandatory</span> <span class='ruff_arg'>win ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>options</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_themeMandatory' href="javascript:toggleSource('apave_ObjectTheming_themeMandatory')">Show source</a></p>
<div id='apave_ObjectTheming_themeMandatory' class='ruff_dyn_src'><pre><br><code class="tcl">method themeMandatory {win args} {
  # Themes all that must be themed.
  #   win - window's name
  #   args - options

  # set the new options for nested widgets (menu e.g.)
  my themeNonThemed $win
  # other options per widget type
  foreach {typ v1 v2} $args {
    if {$typ eq &quot;-&quot;} {
      # config of non-themed widgets
      set ind [incr ::apave::_C_($v1,0)]
      set ::apave::_C_($v1,$ind) &quot;$v2&quot;
    } else {
      # style maps of themed widgets
      my Ttk_style map $typ $v1 [list {*}$v2]
    }
  }
  ::apave::initStyles
  my ThemeChoosers
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeNonThemed'>themeNonThemed</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Updates the appearances of currently used widgets (non-themed).</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeNonThemed</span> <span class='ruff_arg'>win ?addwid?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window path whose children will be touched</td></tr>
<tr><td class='ruff_defitem'><code><code>addwid</code></code></td><td class='ruff_defitem'>additional widget(s) to be touched; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
</table>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="untouchWidgets" class='ruff_cmd'>untouchWidgets</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_themeNonThemed' href="javascript:toggleSource('apave_ObjectTheming_themeNonThemed')">Show source</a></p>
<div id='apave_ObjectTheming_themeNonThemed' class='ruff_dyn_src'><pre><br><code class="tcl">method themeNonThemed {win {addwid {}}} {
  # Updates the appearances of currently used widgets (non-themed).
  #   win - window path whose children will be touched
  #   addwid - additional widget(s) to be touched
  #
  # See also:
  #   untouchWidgets

  set wtypes [my NonThemedWidgets all]
  set lwid [winfo children $win]
  lappend lwid {*}$addwid
  foreach w1 $lwid {
    set ts [string tolower [winfo class $w1]]
    if {$ts ni {tcombobox tlabel tscrollbar tcheckbutton tradiobutton}} {
      my themeNonThemed $w1
    }
    set tch 1
    foreach u $::apave::_CS_(untouch) {
      lassign $u u addopts
      if {[string match $u $w1]} {set tch 0; break}
    }
    if {[info exist ::apave::_C_($ts,0)] &amp;&amp; [lsearch -exact $wtypes $ts]&gt;-1} {
      set i 0
      if {$tch} {
        set tch $::apave::_C_($ts,0)
        set addopts {}
      } else {
        if {$addopts ne {}} {
          set tch $::apave::_C_($ts,0)
        }
      }
      while {[incr i] &lt;= $tch} {
        lassign $::apave::_C_($ts,$i) opt val
        catch {
          if {[string first __tooltip__.label $w1]&lt;0} {
            $w1 configure $opt $val {*}$addopts
            switch -exact -- [$w1 cget -state] {
              disabled {
                $w1 configure {*}[my NonTtkStyle $w1 1]
              }
              readonly {
                $w1 configure {*}[my NonTtkStyle $w1 2]
              }
            }
          }
          set nam3 [string range [my ownWName $w1] 0 2]
          if {$nam3 in {lbx tbl flb enT spX}} {
            my UpdateSelectAttrs $w1
          }
        }
      }
    }
  }
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themePopup'>themePopup</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Configures a popup menu so that its colors accord with a current CS.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themePopup</span> <span class='ruff_arg'>mnu</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>mnu</code></code></td><td class='ruff_defitem'>menu's name (path)</td></tr>
</table>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_themePopup' href="javascript:toggleSource('apave_ObjectTheming_themePopup')">Show source</a></p>
<div id='apave_ObjectTheming_themePopup' class='ruff_dyn_src'><pre><br><code class="tcl">method themePopup {mnu} {
  # Configures a popup menu so that its colors accord with a current CS.
  #   mnu - menu's name (path)

  if {[my csCurrent] == $::apave::_CS_(NONCS)} return
  lassign [my csGet] - fg - bg2 - bgS fgS - tfgD - - - - bg
  if {$bg eq {}} {set bg $bg2}
  set opts &quot;-foreground $fg -background $bg -activeforeground $fgS  -activebackground $bgS -font {[font actual apaveFontDef]}&quot;
  if {[catch {my ThemePopup $mnu {*}$opts -disabledforeground $tfgD}]} {
    my ThemePopup $mnu {*}$opts
  }
  my themeNonThemed $mnu $mnu
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::themeWindow'>themeWindow</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Changes a Tk style (theming a bit)</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT themeWindow</span> <span class='ruff_arg'>win ?clrs? ?isCS? ?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>win</code></code></td><td class='ruff_defitem'>window's name</td></tr>
<tr><td class='ruff_defitem'><code><code>clrs</code></code></td><td class='ruff_defitem'>list of colors; <i>optional, default</i> <code>&quot;&quot;</code></td></tr>
<tr><td class='ruff_defitem'><code><code>isCS</code></code></td><td class='ruff_defitem'>true, if the colors are taken from a CS; <i>optional, default</i> <code>true</code></td></tr>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>other options</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>The clrs contains:</p>
<table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code>tfg1</code></td><td class='ruff_defitem'>foreground for themed widgets (main stock)</td></tr>
<tr><td class='ruff_defitem'><code>tbg1</code></td><td class='ruff_defitem'>background for themed widgets (main stock)</td></tr>
<tr><td class='ruff_defitem'><code>tfg2</code></td><td class='ruff_defitem'>foreground for themed widgets (enter data stock)</td></tr>
<tr><td class='ruff_defitem'><code>tbg2</code></td><td class='ruff_defitem'>background for themed widgets (enter data stock)</td></tr>
<tr><td class='ruff_defitem'><code>tfgS</code></td><td class='ruff_defitem'>foreground for selection</td></tr>
<tr><td class='ruff_defitem'><code>tbgS</code></td><td class='ruff_defitem'>background for selection</td></tr>
<tr><td class='ruff_defitem'><code>tfgD</code></td><td class='ruff_defitem'>foreground for disabled themed widgets</td></tr>
<tr><td class='ruff_defitem'><code>tbgD</code></td><td class='ruff_defitem'>background for disabled themed widgets</td></tr>
<tr><td class='ruff_defitem'><code>tcur</code></td><td class='ruff_defitem'>insertion cursor color</td></tr>
<tr><td class='ruff_defitem'><code>bclr</code></td><td class='ruff_defitem'>hotkey/border color</td></tr>
<tr><td class='ruff_defitem'><code>thlp</code></td><td class='ruff_defitem'>help color</td></tr>
<tr><td class='ruff_defitem'><code>tfgI</code></td><td class='ruff_defitem'>foreground for external CS</td></tr>
<tr><td class='ruff_defitem'><code>tbgI</code></td><td class='ruff_defitem'>background for external CS</td></tr>
<tr><td class='ruff_defitem'><code>tfgM</code></td><td class='ruff_defitem'>foreground for menus</td></tr>
<tr><td class='ruff_defitem'><code>tbgM</code></td><td class='ruff_defitem'>background for menus</td></tr>
</table>
<p class='ruff'>The themeWindow can be used outside of &quot;color scheme&quot; UI. E.g., in TKE editor, e_menu and add_shortcuts plugins use it to be consistent with TKE theme.</p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_themeWindow' href="javascript:toggleSource('apave_ObjectTheming_themeWindow')">Show source</a></p>
<div id='apave_ObjectTheming_themeWindow' class='ruff_dyn_src'><pre><br><code class="tcl">method themeWindow {win {clrs {}} {isCS true} args} {
  # Changes a Tk style (theming a bit)
  #   win - window's name
  #   clrs - list of colors
  #   isCS - true, if the colors are taken from a CS
  #   args - other options
  #
  # The clrs contains:
  #   tfg1 - foreground for themed widgets (main stock)
  #   tbg1 - background for themed widgets (main stock)
  #   tfg2 - foreground for themed widgets (enter data stock)
  #   tbg2 - background for themed widgets (enter data stock)
  #   tfgS - foreground for selection
  #   tbgS - background for selection
  #   tfgD - foreground for disabled themed widgets
  #   tbgD - background for disabled themed widgets
  #   tcur - insertion cursor color
  #   bclr - hotkey/border color
  #   thlp - help color
  #   tfgI - foreground for external CS
  #   tbgI - background for external CS
  #   tfgM - foreground for menus
  #   tbgM - background for menus
  #
  # The themeWindow can be used outside of &quot;color scheme&quot; UI.
  # E.g., in TKE editor, e_menu and add_shortcuts plugins use it to
  # be consistent with TKE theme.

  if {![::apave::cs_Active]} {
    my themeMandatory $win {*}$args
    return
  }
  lassign $clrs tfg1 tbg1 tfg2 tbg2 tfgS tbgS tfgD tbgD tcur bclr  thlp tfgI tbgI tfgM tbgM twfg twbg tHL2 tbHL chkHL res5 res6 res7
  if {$tfg1 eq {-}} return
  if {!$isCS} {
    # if 'external  scheme' is used, register it in _CS_(ALL)
    # and set it as the current CS

# &lt;CS&gt;    itemfg  mainfg  itembg  mainbg  itemsHL  actbg   actfg  cursor  greyed   hot  emfg  embg   -  menubg  winfg   winbg   itemHL2 #003...reserved...

    my csAdd [list CS-[my csNewIndex] $tfg2 $tfg1 $tbg2 $tbg1  $thlp $tbgS $tfgS $tcur $tfgD $bclr $tfgI $tbgI $tfgM $tbgM  $twfg $twbg $tHL2 $tbHL $chkHL $res5 $res6 $res7]
  }
  if {$tfgI eq {}} {set tfgI $tfg2}
  if {$tbgI eq {}} {set tbgI $tbg2}
  if {$tfgM in {{} -}} {set tfgM $tfg1}
  if {$tbgM eq {}} {set tbgM $tbg1}
  my Main_Style $tfg1 $tbg1 $tfg2 $tbg2 $tfgS $tbgS $tfgD $tbg1 $tfg1 $tbg2 $tbg1
  foreach arg {tfg1 tbg1 tfg2 tbg2 tfgS tbgS tfgD tbgD tcur bclr  thlp tfgI tbgI tfgM tbgM twfg twbg tHL2 tbHL chkHL res5 res6 res7 args} {
    if {$win eq {.}} {
      set ::apave::_C_($win,$arg) [set $arg]
    }
    set ::apave::_CS_(expo,$arg) [set $arg]
  }
  if {[set darkCS [my csDark]]} {set aclr #ff9dff} {set aclr #890970}
  set fontdef [font actual apaveFontDef]
  # configuring themed widgets
  foreach ts {TLabel TButton TCheckbutton TRadiobutton TMenubutton} {
    my Ttk_style configure $ts -font $fontdef
    my Ttk_style configure $ts -foreground $tfg1
    my Ttk_style configure $ts -background $tbg1
    my Ttk_style map $ts -background [list pressed $tbg2 active $tbg2 focus $tbgS alternate $tbg2]
    my Ttk_style map $ts -foreground [list disabled $tfgD pressed $tfgS active $aclr focus $tfgS alternate $tfg2 focus $tfg2 selected $tfg1]
    my Ttk_style map $ts -bordercolor [list focus $bclr pressed $bclr]
    my Ttk_style map $ts -lightcolor [list focus $bclr]
    my Ttk_style map $ts -darkcolor [list focus $bclr]
  }
  my Ttk_style configure TLabelframe.Label -foreground $thlp  ;# bclr $tfg2
  my Ttk_style configure TLabelframe.Label -background $tbg1
  my Ttk_style configure TLabelframe.Label -font $fontdef
  foreach ts {TNotebook TFrame} {
    my Ttk_style configure $ts -background $tbg1
    my Ttk_style map $ts -background [list focus $tbg1 !focus $tbg1]
  }
  foreach ts {TNotebook.Tab} {
    my Ttk_style configure $ts -font $fontdef
    my Ttk_style map $ts -foreground [list {selected !active} $tfgS {!selected !active} $tfgM active $aclr {selected active} $aclr]
    my Ttk_style map $ts -background [list {selected !active} $tbgS {!selected !active} $tbgM {!selected active} $tbg2 {selected active} $tbg2]
  }
  foreach ts {TEntry Treeview TSpinbox TCombobox TCombobox.Spinbox TMatchbox TNotebook.Tab TScale} {
    my Ttk_style map $ts -lightcolor [list focus $bclr active $bclr]
    my Ttk_style map $ts -darkcolor [list focus $bclr active $bclr]
  }
  my Ttk_style map TScrollbar -troughcolor [list !active $tbg1 active $tbg2]
  my Ttk_style map TScrollbar -background [list !active $tbg1 disabled $tbg1 {!selected !disabled active} $tbgS]
  my Ttk_style map TProgressbar -troughcolor [list !active $tbg2 active $tbg1]
  my Ttk_style configure TProgressbar -background $tbgS
  if {[set cs [my csCurrent]]&lt;20} {
    ttk::style conf TSeparator -background #a2a2a2
  } elseif {$cs&lt;23} {
    ttk::style conf TSeparator -background #656565
  } elseif {$cs&lt;28} {
    ttk::style conf TSeparator -background #3c3c3c
  } elseif {$cs&gt;35 &amp;&amp; $cs&lt;39} {
    ttk::style conf TSeparator -background #313131
  } elseif {$cs==43 || $cs&gt;44} {
    ttk::style conf TSeparator -background #2e2e2e
  }
  foreach ts {TEntry Treeview TSpinbox TCombobox TCombobox.Spinbox TMatchbox} {
    my Ttk_style configure $ts -font $fontdef
    my Ttk_style configure $ts -selectforeground $tfgS
    my Ttk_style configure $ts -selectbackground $tbgS
    my Ttk_style map $ts -selectforeground [list !focus $::apave::_CS_(!FG)]
    my Ttk_style map $ts -selectbackground [list !focus $::apave::_CS_(!BG)]
    my Ttk_style configure $ts -fieldforeground $tfg2
    my Ttk_style configure $ts -fieldbackground $tbg2
    my Ttk_style configure $ts -insertcolor $tcur
    my Ttk_style map $ts -bordercolor [list focus $bclr active $bclr]
    my Ttk_style configure $ts -insertwidth $::apave::_CS_(CURSORWIDTH)
    if {$ts eq {TCombobox}} {
      # combobox is sort of individual
      my Ttk_style configure $ts -foreground $tfg1
      my Ttk_style configure $ts -background $tbg1
      my Ttk_style map $ts -background [list {readonly focus} $tbg2 {active focus} $tbg2]
      my Ttk_style map $ts -foreground [list {readonly focus} $tfg2 {active focus} $tfg2]
      my Ttk_style map $ts -fieldforeground [list {active focus} $tfg2 readonly $tfg2 disabled $tfgD]
      my Ttk_style map $ts -fieldbackground [list {active focus} $tbg2 {readonly focus} $tbg2 {readonly !focus} $tbg1 disabled $tbgD]
      my Ttk_style map $ts -focusfill	[list {readonly focus} $tbgS]
    } else {
      my Ttk_style configure $ts -foreground $tfg2
      my Ttk_style configure $ts -background $tbg2
      if {$ts eq {Treeview}} {
        my Ttk_style map $ts -foreground [list readonly $tfgD disabled $tfgD {selected focus} $tfgS {selected !focus} $thlp]
        my Ttk_style map $ts -background [list readonly $tbgD disabled $tbgD {selected focus} $tbgS {selected !focus} $tbg1]
      } else {
        my Ttk_style map $ts -foreground [list readonly $tfgD disabled $tfgD selected $tfgS]
        my Ttk_style map $ts -background [list readonly $tbgD disabled $tbgD selected $tbgS]
        my Ttk_style map $ts -fieldforeground [list readonly $tfgD disabled $tfgD]
        my Ttk_style map $ts -fieldbackground [list readonly $tbgD disabled $tbgD]
      }
    }
  }
  ttk::style configure Heading -font $fontdef -relief raised -padding 1 -background $tbg1
  ttk::style map Heading -foreground [list active $aclr]
  option add *Listbox.font $fontdef
  option add *Menu.font $fontdef
  my Ttk_style configure TMenubutton -foreground $tfgM
  my Ttk_style configure TMenubutton -background $tbgM
  my Ttk_style map TMenubutton -arrowcolor [list disabled $tfgD]
  my Ttk_style configure TButton -foreground $tfgM
  my Ttk_style configure TButton -background $tbgM
  foreach {nam clr} {back tbg2 fore tfg2 selectBack tbgS selectFore tfgS} {
    option add *Listbox.${nam}ground [set $clr]
  }
  foreach {nam clr} {back tbgM fore tfgM selectBack tbgS selectFore tfgS} {
    option add *Menu.${nam}ground [set $clr]
  }
  foreach ts {TRadiobutton TCheckbutton} {
    ttk::style map $ts -background [list focus $tbg2 !focus $tbg1]
  }
  if {$darkCS} {
    # esp. for default/alt/classic themes and dark CS:
    # checked buttons to be lighter
    foreach ts {TCheckbutton TRadiobutton} {
      ttk::style configure $ts -indicatorcolor $tbgM
      ttk::style map $ts -indicatorcolor [list pressed $tbg2 selected $chkHL]
    }
  }
  # non-themed widgets of button and entry types
  foreach ts [my NonThemedWidgets button] {
    set ::apave::_C_($ts,0) 6
    set ::apave::_C_($ts,1) &quot;-background $tbg1&quot;
    set ::apave::_C_($ts,2) &quot;-foreground $tfg1&quot;
    set ::apave::_C_($ts,3) &quot;-activeforeground $tfg2&quot;
    set ::apave::_C_($ts,4) &quot;-activebackground $tbg2&quot;
    set ::apave::_C_($ts,5) &quot;-font {$fontdef}&quot;
    set ::apave::_C_($ts,6) &quot;-highlightbackground $tfgD&quot;
    switch -exact -- $ts {
      checkbutton - radiobutton {
        set ::apave::_C_($ts,0) 8
        set ::apave::_C_($ts,7) &quot;-selectcolor $tbg1&quot;
        set ::apave::_C_($ts,8) &quot;-highlightbackground $tbg1&quot;
      }
      frame - scrollbar - scale {
        set ::apave::_C_($ts,0) 8
        set ::apave::_C_($ts,4) &quot;-activebackground $tbgS&quot;
        set ::apave::_C_($ts,7) &quot;-troughcolor $tbg1&quot;
        set ::apave::_C_($ts,8) &quot;-elementborderwidth 2&quot;
      }
      menu {
        set ::apave::_C_($ts,0) 9
        set ::apave::_C_($ts,1) &quot;-background $tbgM&quot;
        set ::apave::_C_($ts,3) &quot;-activeforeground $tfgS&quot;
        set ::apave::_C_($ts,4) &quot;-activebackground $tbgS&quot;
        set ::apave::_C_($ts,5) &quot;-disabledforeground $tfgD&quot;
        set ::apave::_C_($ts,6) &quot;-font {$fontdef}&quot;
        if {[::iswindows]} {
          set ::apave::_C_($ts,0) 6
        } elseif {[my apaveTheme]} {
          set ::apave::_C_($ts,7) {-borderwidth 2}
          set ::apave::_C_($ts,8) {-relief raised}
        } else {
          set ::apave::_C_($ts,7) {-borderwidth 1}
          set ::apave::_C_($ts,8) {-relief groove}
        }
        if {$darkCS} {set c white} {set c black}
        set ::apave::_C_($ts,9) &quot;-selectcolor $c&quot;
      }
      canvas {
        set ::apave::_C_($ts,1) &quot;-background $tbg2&quot;
      }
    }
  }
  foreach ts [my NonThemedWidgets entry] {
    set ::apave::_C_($ts,0) 3
    set ::apave::_C_($ts,1) &quot;-foreground $tfg2&quot;
    set ::apave::_C_($ts,2) &quot;-background $tbg2&quot;
    set ::apave::_C_($ts,3) &quot;-highlightbackground $tfgD&quot;
    switch -exact -- $ts {
      tcombobox - listbox - tmatchbox {
        set ::apave::_C_($ts,0) 8
        set ::apave::_C_($ts,4) &quot;-disabledforeground $tfgD&quot;
        set ::apave::_C_($ts,5) &quot;-disabledbackground $tbgD&quot;
        set ::apave::_C_($ts,6) &quot;-highlightcolor $bclr&quot;
        set ::apave::_C_($ts,7) &quot;-font {$fontdef}&quot;
        set ::apave::_C_($ts,8) &quot;-insertbackground $tcur&quot;
      }
      text - entry - tentry {
        set ::apave::_C_($ts,0) 11
        set ::apave::_C_($ts,4) &quot;-selectforeground $tfgS&quot;
        set ::apave::_C_($ts,5) &quot;-selectbackground $tbgS&quot;
        set ::apave::_C_($ts,6) &quot;-disabledforeground $tfgD&quot;
        set ::apave::_C_($ts,7) &quot;-disabledbackground $tbgD&quot;
        set ::apave::_C_($ts,8) &quot;-highlightcolor $bclr&quot;
        if {$ts eq {text}} {
          set ::apave::_C_($ts,0) 12
          set ::apave::_C_($ts,9) &quot;-font {[font actual apaveFontMono]}&quot;
          set ::apave::_C_($ts,12) &quot;-inactiveselectbackground $tbgS&quot;
        } else {
          set ::apave::_C_($ts,9) &quot;-font {$fontdef}&quot;
        }
        set ::apave::_C_($ts,10) &quot;-insertwidth $::apave::_CS_(CURSORWIDTH)&quot;
        set ::apave::_C_($ts,11) &quot;-insertbackground $tcur&quot;
      }
      spinbox - tspinbox - tablelist {
        set ::apave::_C_($ts,0) 12
        set ::apave::_C_($ts,4) &quot;-insertbackground $tcur&quot;
        set ::apave::_C_($ts,5) &quot;-buttonbackground $tbg2&quot;
        set ::apave::_C_($ts,6) &quot;-selectforeground $::apave::_CS_(!FG)&quot;
        set ::apave::_C_($ts,7) &quot;-selectbackground $::apave::_CS_(!BG)&quot;
        set ::apave::_C_($ts,8) &quot;-disabledforeground $tfgD&quot;
        set ::apave::_C_($ts,9) &quot;-disabledbackground $tbgD&quot;
        set ::apave::_C_($ts,10) &quot;-font {$fontdef}&quot;
        set ::apave::_C_($ts,11) &quot;-insertwidth $::apave::_CS_(CURSORWIDTH)&quot;
        set ::apave::_C_($ts,12) &quot;-highlightcolor $bclr&quot;
      }
    }
  }
  foreach ts {disabled} {
    set ::apave::_C_($ts,0) 4
    set ::apave::_C_($ts,1) &quot;-foreground $tfgD&quot;
    set ::apave::_C_($ts,2) &quot;-background $tbgD&quot;
    set ::apave::_C_($ts,3) &quot;-disabledforeground $tfgD&quot;
    set ::apave::_C_($ts,4) &quot;-disabledbackground $tbgD&quot;
  }
  foreach ts {readonly} {
    set ::apave::_C_($ts,0) 2
    set ::apave::_C_($ts,1) &quot;-foreground $tfg1&quot;
    set ::apave::_C_($ts,2) &quot;-background $tbg1&quot;
  }
  my themeMandatory $win {*}$args
  return
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::touchWidgets'>touchWidgets</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes non-ttk widgets to be touched again.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT touchWidgets</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of widget globs (e.g. {.em.fr.win.* .em.fr.h1 .em.fr.h2})</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args not set, returns the list of untouched widgets.</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::untouchWidgets" title="untouchWidgets" class='ruff_cmd'>untouchWidgets</a>, <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="themeNonThemed" class='ruff_cmd'>themeNonThemed</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_touchWidgets' href="javascript:toggleSource('apave_ObjectTheming_touchWidgets')">Show source</a></p>
<div id='apave_ObjectTheming_touchWidgets' class='ruff_dyn_src'><pre><br><code class="tcl">method touchWidgets {args} {
  # Makes non-ttk widgets to be touched again.
  #   args - list of widget globs (e.g. {.em.fr.win.* .em.fr.h1 .em.fr.h2})
  # If args not set, returns the list of untouched widgets.
  # See also:
  #   untouchWidgets
  #   themeNonThemed

  if {[llength $args]==0} {return $::apave::_CS_(untouch)}
  foreach u $args {
    set u [lindex $u 0]
    if {[set i [lsearch -index 0 -exact $::apave::_CS_(untouch) $u]]&gt;-1} {
      set ::apave::_CS_(untouch) [lreplace $::apave::_CS_(untouch) $i $i]
    }
  }
}<br><br></code></pre></div>
</div><br><br><h4 class='ruffmethod'><a name='::apave::ObjectTheming::untouchWidgets'>untouchWidgets</a><span class='ns_scope'> [<a href="apave.html#::apave::ObjectTheming" title="::apave::ObjectTheming" class='ruff_cmd'>::apave::ObjectTheming</a>]</span><span class='tinylink'><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a>, <a href='#top'>Top</a></span></h4>
<div style='clear:both;'></div>
<p class='ruff'>Makes non-ttk widgets to be untouched by coloring or gets their list.</p>
<div class='ruff_synopsis'><span class='ruff_cmd'>OBJECT untouchWidgets</span> <span class='ruff_arg'>?args?</span></div>
<h5 class='ruff'>Parameters</h5><table class='ruff_deflist'>
<tr><td class='ruff_defitem'><code><code>args</code></code></td><td class='ruff_defitem'>list of widget globs (e.g. {.em.fr.win.* .em.fr.h1 .em.fr.h2})</td></tr>
</table>
<h5 class='ruff'>Description</h5><p class='ruff'>If args not set, returns the list of untouched widgets. Items of <em>args</em> can have 2 components:</p>
<ul class='ruff'>
<li>widget glob</li>
<li>list of option+value pairs, e.g. &quot;*.textWidget {-fg white -bg black}&quot;</li>
</ul>
<p class='ruff'>2nd component defines additional attributes that override the defaults. If 1st item of <em>args</em> is &quot;clear&quot;, removes all items set with glob patterns (e.g.: my untouchWidgets clear <em>BALTIP</em> - clears all baltip's references).</p>
<h5 class='ruff'>See also</h5><p class='ruff'><a href="apave.html#::apave::ObjectTheming::touchWidgets" title="touchWidgets" class='ruff_cmd'>touchWidgets</a>, <a href="apave.html#::apave::ObjectTheming::themeNonThemed" title="themeNonThemed" class='ruff_cmd'>themeNonThemed</a></p>
<div class='ruff_source'><p class='ruff_source_link'><a id='l_apave_ObjectTheming_untouchWidgets' href="javascript:toggleSource('apave_ObjectTheming_untouchWidgets')">Show source</a></p>
<div id='apave_ObjectTheming_untouchWidgets' class='ruff_dyn_src'><pre><br><code class="tcl">method untouchWidgets {args} {
  # Makes non-ttk widgets to be untouched by coloring or gets their list.
  #   args - list of widget globs (e.g. {.em.fr.win.* .em.fr.h1 .em.fr.h2})
  # If args not set, returns the list of untouched widgets.
  # Items of *args* can have 2 components:
  #   - widget glob
  #   - list of option+value pairs, e.g. &quot;*.textWidget {-fg white -bg black}&quot;
  # 2nd component defines additional attributes that override the defaults.
  # If 1st item of *args* is &quot;clear&quot;, removes all items set with glob patterns
  # (e.g.: my untouchWidgets clear *BALTIP* - clears all baltip's references).
  # See also:
  #   touchWidgets
  #   themeNonThemed

  if {[llength $args]==0} {return $::apave::_CS_(untouch)}
  if {[lindex $args 0] eq {clear}} {
    foreach u [lrange $args 1 end] {
      set ii [lsearch -all -glob $::apave::_CS_(untouch) $u]
      foreach i [lsort -decreasing -integer $ii] {
        set ::apave::_CS_(untouch) [lreplace $::apave::_CS_(untouch) $i $i]
      }
    }
  } else {
    foreach u $args {
      if {[lsearch -exact $::apave::_CS_(untouch) $u]==-1} {
        lappend ::apave::_CS_(untouch) $u
      }
    }
  }
}<br><br></code></pre></div>
</div></div></div><div class='yui-b navbox' ><h1><a href='#::apave'>apave</a></h1><h2><a href='#::apave-Commands'>Commands</a></h2><h4 class='tooltip'><a href='apave.html#::apave::autoexec'>autoexec</a><span class='tooltiptext'>Imitates Tcl's auto_execok.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::bindCantagToEvent'>bindCantagToEvent</a><span class='tooltiptext'>Binds an event on a canvas tag to a command.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::bindTextagToEvent'>bindTextagToEvent</a><span class='tooltiptext'>Binds an event on a text tag to a command.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::bindToEvent'>bindToEvent</a><span class='tooltiptext'>Binds an event on a widget to a command.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::blinkWidget'>blinkWidget</a><span class='tooltiptext'>Makes a widget blink.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::countChar'>countChar</a><span class='tooltiptext'>Counts a character in a string.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_Active'>cs_Active</a><span class='tooltiptext'>Gets/sets &quot;is changing CS possible&quot; flag for a whole application.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_Max'>cs_Max</a><span class='tooltiptext'>Gets a maximum index of available color schemes
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_MaxBasic'>cs_MaxBasic</a><span class='tooltiptext'>Gets a maximum index of basic color schemes
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_Min'>cs_Min</a><span class='tooltiptext'>Gets a minimum index of available color schemes
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::cs_Non'>cs_Non</a><span class='tooltiptext'>Gets non-existent CS index
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::defaultAttrs'>defaultAttrs</a><span class='tooltiptext'>Sets, gets or registers default options and attributes for widget type.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::deiconify'>deiconify</a><span class='tooltiptext'>Does 'deiconify' for a window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::dlgPath'>dlgPath</a><span class='tooltiptext'>Gets a current dialogue's path. In fact, it does the same as [my dlgPath], but it can be called outside of apave dialogue object (useful sometimes).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::endWM'>endWM</a><span class='tooltiptext'>Finishes the window management by apave, closing and clearing all. Finishes the window management by apave, closing and clearing all.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::error'>error</a><span class='tooltiptext'>Gets the error's message at reading/writing.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::eventOnText'>eventOnText</a><span class='tooltiptext'>Generates an event on a text, saving its current index in hl_tcl.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::extractOptions'>extractOptions</a><span class='tooltiptext'>Gets options' values and removes the options from the input list.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::focusedWidget'>focusedWidget</a><span class='tooltiptext'>Gets a flag &quot;is a widget can be focused&quot;.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::focusFirst'>focusFirst</a><span class='tooltiptext'>Sets a focus on a first widget of a parent widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::getN'>getN</a><span class='tooltiptext'>Gets a number from a string
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::getOption'>getOption</a><span class='tooltiptext'>Extracts one option from an option list.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::getProperty'>getProperty</a><span class='tooltiptext'>Gets a property's value as &quot;application-wide&quot;.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::getTextHotkeys'>getTextHotkeys</a><span class='tooltiptext'>Gets upper &amp; lower keys for a hot key.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::iconData'>iconData</a><span class='tooltiptext'>Gets an icon's data.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::iconifyOption'>iconifyOption</a><span class='tooltiptext'>Gets/sets &quot;-iconify&quot; option.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::iconImage'>iconImage</a><span class='tooltiptext'>Gets a defined icon's image or list of icons. If <em>icon</em> equals to &quot;-init&quot;, initializes apave's icon set.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::InfoFind'>InfoFind</a><span class='tooltiptext'>Searches data of a window in a list of registered windows.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::InfoWindow'>InfoWindow</a><span class='tooltiptext'>Registers/unregisters windows. Also sets/gets 'count of open modal windows'.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::InitAwThemesPath'>InitAwThemesPath</a><span class='tooltiptext'>Initializes the path to awthemes package.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initBaltip'>initBaltip</a><span class='tooltiptext'>Initializes baltip package.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initPOP'>initPOP</a><span class='tooltiptext'>Initializes system popup menu (if possible) to call it in a window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initStyle'>initStyle</a><span class='tooltiptext'>Initializes a style for a widget type, e.g. button's.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initStyles'>initStyles</a><span class='tooltiptext'>Initializes miscellaneous styles, e.g. button's.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initStylesFS'>initStylesFS</a><span class='tooltiptext'>Initializes miscellaneous styles, e.g. button's.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::InitTheme'>InitTheme</a><span class='tooltiptext'>Initializes app's theme.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::initWM'>initWM</a><span class='tooltiptext'>Initializes Tcl/Tk session. Used to be called at the beginning of it.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::InsertChar'>InsertChar</a><span class='tooltiptext'>Inserts character(s) into a text at cursor's position.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::IntStatus'>IntStatus</a><span class='tooltiptext'>Sets/gets a status of window. The status is an integer assigned to a name.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::KeyAccelerator'>KeyAccelerator</a><span class='tooltiptext'>Returns a key accelerator.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::LbxSelect'>LbxSelect</a><span class='tooltiptext'>Selects a listbox item.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::logMessage'>logMessage</a><span class='tooltiptext'>Logs messages to a log file.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::logName'>logName</a><span class='tooltiptext'>Sets a log file's name.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::lsearchFile'>lsearchFile</a><span class='tooltiptext'>Searches a file name in a list, using normalized file names.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::mainWindowOfApp'>mainWindowOfApp</a><span class='tooltiptext'>Sets/gets a main window of application.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::mc'>mc</a><span class='tooltiptext'>Gets a localized version of a message.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::msgcatDialogs'>msgcatDialogs</a><span class='tooltiptext'>Prepares localized messages used in dialogues.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::obj'>obj</a><span class='tooltiptext'>Calls a method of APave class.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::openDoc'>openDoc</a><span class='tooltiptext'>Opens a document.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::parseOptions'>parseOptions</a><span class='tooltiptext'>Parses argument list containing options.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::parseOptionsFile'>parseOptionsFile</a><span class='tooltiptext'>Parses argument list containing options and (possibly) a file name.
</span></h4><h4><a href='apave.html#::apave::place'>place</a></h4><h4 class='tooltip'><a href='apave.html#::apave::precedeWidgetName'>precedeWidgetName</a><span class='tooltiptext'>Adds a preceding name to a tail name of widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::putOption'>putOption</a><span class='tooltiptext'>Replaces or adds one option to an option list.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::readTextFile'>readTextFile</a><span class='tooltiptext'>Reads a text file.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::removeOptions'>removeOptions</a><span class='tooltiptext'>Removes some options from a list of options.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::repaintWindow'>repaintWindow</a><span class='tooltiptext'>Shows a window and, optionally, focuses on a widget of it.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::rootModalWindow'>rootModalWindow</a><span class='tooltiptext'>Gets a parent modal window for a given one.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::setAppIcon'>setAppIcon</a><span class='tooltiptext'>Sets application's icon.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::setProperty'>setProperty</a><span class='tooltiptext'>Sets a property's value as &quot;application-wide&quot;.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::setTextHotkeys'>setTextHotkeys</a><span class='tooltiptext'>Sets new key combinations for some operations on text widgets.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::setTextIndent'>setTextIndent</a><span class='tooltiptext'>Sets an indenting for text widgets.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::splitGeometry'>splitGeometry</a><span class='tooltiptext'>Gets widget's geometry components.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::textChanConfigure'>textChanConfigure</a><span class='tooltiptext'>Configures a channel for text file.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::textEOL'>textEOL</a><span class='tooltiptext'>Gets/sets End-of-Line for text reqding/writing.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::textsplit'>textsplit</a><span class='tooltiptext'>Splits a text's contents by EOLs. Those inventors of EOLs...
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::traceRemove'>traceRemove</a><span class='tooltiptext'>Cancels tracing of a variable.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::TreSelect'>TreSelect</a><span class='tooltiptext'>Selects a treeview item.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ttkToolbutton'>ttkToolbutton</a><span class='tooltiptext'>Initializes Toolbutton's style, depending on CS. Creates also btt / brt / blt widget types to be paved, with images top / right / left accordingly.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::undoIn'>undoIn</a><span class='tooltiptext'>Enters a block of undo/redo for a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::undoOut'>undoOut</a><span class='tooltiptext'>Exits a block of undo/redo for a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::WindowStatus'>WindowStatus</a><span class='tooltiptext'>Sets/gets a status of window. The status is a value assigned to a name.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::withdraw'>withdraw</a><span class='tooltiptext'>Does 'withdraw' for a window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::writeTextFile'>writeTextFile</a><span class='tooltiptext'>Writes to a text file.
</span></h4><hr><h2><a href='#::apave-Classes'>Classes</a></h2><h3><a href='apave.html#::apave::APave'>APave</a></h3><h4 class='tooltip'><a href='apave.html#::apave::APave::constructor'>constructor</a><span class='tooltiptext'>Creates APave object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::destructor'>destructor</a><span class='tooltiptext'>Clears variables used in the object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::editfile'>editfile</a><span class='tooltiptext'>Edits or views a file with a set of main colors
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::initInput'>initInput</a><span class='tooltiptext'>Initializes input and clears variables made in previous session.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::input'>input</a><span class='tooltiptext'>Makes and runs an input dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::valueInput'>valueInput</a><span class='tooltiptext'>Gets input variables' values.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::varInput'>varInput</a><span class='tooltiptext'>Gets variables made and filled in a previous session as a list of &quot;varname varvalue&quot; pairs where varname is of form: namespace::var<code>$widgetname</code>.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APave::vieweditFile'>vieweditFile</a><span class='tooltiptext'>Views or edits a file.
</span></h4><hr><h3><a href='apave.html#::apave::APaveBase'>APaveBase</a></h3><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::constructor'>constructor</a><span class='tooltiptext'>Creates APaveBase object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::destructor'>destructor</a><span class='tooltiptext'>Clears variables used in the object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::checkTimeoutButton'>checkTimeoutButton</a><span class='tooltiptext'>Checks if the timeout button is alive &amp; focused; if not, cancels the timeout.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::checkXY'>checkXY</a><span class='tooltiptext'>Checks the coordinates of window (against the screen).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::chooser'>chooser</a><span class='tooltiptext'>Chooser (for all available types).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::chooserGeomVars'>chooserGeomVars</a><span class='tooltiptext'>Sets variables to save/restore geometry of Tcl/Tk dir/file choosers (in Linux).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::clearEntry'>clearEntry</a><span class='tooltiptext'>Clears entry-like widget's value, after calling a command.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::colorChooser'>colorChooser</a><span class='tooltiptext'>Color chooser.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::colorWindow'>colorWindow</a><span class='tooltiptext'>Initialize colors of a window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::configure'>configure</a><span class='tooltiptext'>Configures the apave object (all of options may be changed).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::dateChooser'>dateChooser</a><span class='tooltiptext'>Date chooser (calendar widget).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::defaultATTRS'>defaultATTRS</a><span class='tooltiptext'>Sets, gets or registers default options and attributes for widget type.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::displayTaggedText'>displayTaggedText</a><span class='tooltiptext'>Sets the text widget's contents using tags (ornamental details).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::displayText'>displayText</a><span class='tooltiptext'>Sets the text widget's contents.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::dlgPath'>dlgPath</a><span class='tooltiptext'>Gets a window name of apave open dialogue.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::fillGutter'>fillGutter</a><span class='tooltiptext'>Fills a gutter of text with the text's line numbers.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::findWidPath'>findWidPath</a><span class='tooltiptext'>Searches a widget's path among the active widgets.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::focusNext'>focusNext</a><span class='tooltiptext'>Sets focus on a next widget (possibly, defined as <code>my Widget</code>).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::fontChooser'>fontChooser</a><span class='tooltiptext'>Font chooser.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::getShowOption'>getShowOption</a><span class='tooltiptext'>Gets a default show option, used in showModal.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::getTextContent'>getTextContent</a><span class='tooltiptext'>Gets text content.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::getWidChildren'>getWidChildren</a><span class='tooltiptext'>Gets children of a widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::gutterContents'>gutterContents</a><span class='tooltiptext'>Gets contents of a text's gutter
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::iconA'>iconA</a><span class='tooltiptext'>Gets icon attributes for buttons, menus etc.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::initLinkFont'>initLinkFont</a><span class='tooltiptext'>Gets/sets font attributes of links (labels &amp; text tags with -link).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::labelFlashing'>labelFlashing</a><span class='tooltiptext'>Options of 'flashing' label: -file (or -data) {list of image files (or data variables)} -label {list of labels' texts} -incr {increment for -alpha option} -pause {pause in seconds for -alpha 1.0} -after {interval for 'after'} -squeeze {value for *-big.png}
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::leadingSpaces'>leadingSpaces</a><span class='tooltiptext'>Returns a number of leading spaces of a line
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::makeLabelLinked'>makeLabelLinked</a><span class='tooltiptext'>Makes the linked label from a label.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::makePopup'>makePopup</a><span class='tooltiptext'>Makes a popup menu for an editable widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::makeWindow'>makeWindow</a><span class='tooltiptext'>Creates a toplevel window that has to be paved.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::menuTips'>menuTips</a><span class='tooltiptext'>Makes tip(s) for menu and its items.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::onKeyTextM'>onKeyTextM</a><span class='tooltiptext'>Processes indents and braces at pressing keys.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::optionCascadeText'>optionCascadeText</a><span class='tooltiptext'>Rids a tk_optionCascade item of braces.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::ownWName'>ownWName</a><span class='tooltiptext'>Gets a tail (last part) of widget's name
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::parentWName'>parentWName</a><span class='tooltiptext'>Gets parent name of widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::paveoptionValue'>paveoptionValue</a><span class='tooltiptext'>Gets an option's value.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::paveWindow'>paveWindow</a><span class='tooltiptext'>Processes &quot;win / list_of_widgets&quot; pairs.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::readonlyWidget'>readonlyWidget</a><span class='tooltiptext'>Switches on/off a widget's readonly state for a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::res'>res</a><span class='tooltiptext'>Gets/sets a variable for <em>vwait</em> command.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::resetText'>resetText</a><span class='tooltiptext'>Resets a text widget to edit/view from scratch.
</span></h4><h4><a href='apave.html#::apave::APaveBase::scrolledFrame'>scrolledFrame</a></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::setShowOption'>setShowOption</a><span class='tooltiptext'>Sets / gets a default show option, used in showModal.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::setTextBinds'>setTextBinds</a><span class='tooltiptext'>Returns bindings for a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::showModal'>showModal</a><span class='tooltiptext'>Shows a window as modal.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::showWindow'>showWindow</a><span class='tooltiptext'>Displays a windows and goes in tkwait cycle to interact with a user.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::textLink'>textLink</a><span class='tooltiptext'>Gets a label's path of a link in a text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::themePopup'>themePopup</a><span class='tooltiptext'>Applies a color scheme to a popup menu.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::timeoutButton'>timeoutButton</a><span class='tooltiptext'>Invokes a button's action after a timeout.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::tk_optionCascade'>tk_optionCascade</a><span class='tooltiptext'>A bit modified tk_optionCascade widget made by Richard Suchenwirth.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::validateColorChoice'>validateColorChoice</a><span class='tooltiptext'>Displays a current color of color chooser's entry.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::waitWinVar'>waitWinVar</a><span class='tooltiptext'>Tk waiting for variable's change.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::widgetType'>widgetType</a><span class='tooltiptext'>Gets the widget type based on 3 initial letters of its name. Also fills the grid/pack options and attributes of the widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveBase::window'>window</a><span class='tooltiptext'>Obsolete version of paveWindow (remains for compatibility).
</span></h4><hr><h3><a href='apave.html#::apave::APaveDialog'>APaveDialog</a></h3><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::constructor'>constructor</a><span class='tooltiptext'>Creates APaveDialog object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::destructor'>destructor</a><span class='tooltiptext'>Clears variables used in the object.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::abortretrycancel'>abortretrycancel</a><span class='tooltiptext'>Shows the <em>ABORTRETRYCANCEL</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::deleteLine'>deleteLine</a><span class='tooltiptext'>Deletes a current line of text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::doubleText'>doubleText</a><span class='tooltiptext'>Doubles a current line or a selection of text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::findInText'>findInText</a><span class='tooltiptext'>Finds a string in text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::get_highlighted'>get_highlighted</a><span class='tooltiptext'>Gets a selected word after double-clicking on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::get_HighlightedString'>get_HighlightedString</a><span class='tooltiptext'>Returns a string got from highlighting by Alt+left/right/q/w.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::highlight_matches'>highlight_matches</a><span class='tooltiptext'>Highlights matches of selected word in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::highlight_matches_real'>highlight_matches_real</a><span class='tooltiptext'>Highlights a selected word in a text, esp. fow Windows. Windows thinks a word is edged by spaces only: not in real case.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::linesMove'>linesMove</a><span class='tooltiptext'>Moves a current line or lines of selection up/down.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::misc'>misc</a><span class='tooltiptext'>Shows the <em>MISCELLANEOUS</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::ok'>ok</a><span class='tooltiptext'>Shows the <em>OK</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::okcancel'>okcancel</a><span class='tooltiptext'>Shows the <em>OKCANCEL</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::pasteText'>pasteText</a><span class='tooltiptext'>Removes a selection at pasting.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::popupBlockCommands'>popupBlockCommands</a><span class='tooltiptext'>Returns block commands for a popup menu on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::popupFindCommands'>popupFindCommands</a><span class='tooltiptext'>Returns find commands for a popup menu on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::popupHighlightCommands'>popupHighlightCommands</a><span class='tooltiptext'>Returns highlighting commands for a popup menu on a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::progress_Begin'>progress_Begin</a><span class='tooltiptext'>Creates and shows a progress window. Fit for splash screens.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::progress_End'>progress_End</a><span class='tooltiptext'>Destroys a progress window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::progress_Go'>progress_Go</a><span class='tooltiptext'>Updates a progress window.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::retrycancel'>retrycancel</a><span class='tooltiptext'>Shows the <em>RETRYCANCEL</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::seek_highlight'>seek_highlight</a><span class='tooltiptext'>Seeks the selected word forward/backward/to first/to last in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::selectedWordText'>selectedWordText</a><span class='tooltiptext'>Returns a word under the cursor or a selected text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::set_highlight_matches'>set_highlight_matches</a><span class='tooltiptext'>Creates bindings to highlight matches in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::set_HighlightedString'>set_HighlightedString</a><span class='tooltiptext'>Saves a string got from highlighting by Alt+left/right/q/w.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::unhighlight_matches'>unhighlight_matches</a><span class='tooltiptext'>Unhighlights matches of selected word in a text.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::varName'>varName</a><span class='tooltiptext'>Gets a variable name associated with a widget's name of &quot;input&quot; dialogue.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::yesno'>yesno</a><span class='tooltiptext'>Shows the <em>YESNO</em> dialog.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::APaveDialog::yesnocancel'>yesnocancel</a><span class='tooltiptext'>Shows the <em>YESNOCANCEL</em> dialog.
</span></h4><hr><h3><a href='apave.html#::apave::ObjectProperty'>ObjectProperty</a></h3><h4><a href='apave.html#::apave::ObjectProperty::constructor'>constructor</a></h4><h4><a href='apave.html#::apave::ObjectProperty::destructor'>destructor</a></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectProperty::getProperty'>getProperty</a><span class='tooltiptext'>Gets an property's value as &quot;object-wide&quot;.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectProperty::setProperty'>setProperty</a><span class='tooltiptext'>Sets a property's value as &quot;object-wide&quot;.
</span></h4><hr><h3><a href='apave.html#::apave::ObjectTheming'>ObjectTheming</a></h3><h4><a href='apave.html#::apave::ObjectTheming::constructor'>constructor</a></h4><h4><a href='apave.html#::apave::ObjectTheming::destructor'>destructor</a></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::apaveTheme'>apaveTheme</a><span class='tooltiptext'>Checks if apave color scheme is used (always for standard ttk themes).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicDefFont'>basicDefFont</a><span class='tooltiptext'>Gets/Sets a basic default font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicFontSize'>basicFontSize</a><span class='tooltiptext'>Gets/Sets a basic size of font used in apave
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicSmallFont'>basicSmallFont</a><span class='tooltiptext'>Gets/Sets a basic small font used in status bar etc.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::basicTextFont'>basicTextFont</a><span class='tooltiptext'>Gets/Sets a basic font used in editing/viewing text widget.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::boldDefFont'>boldDefFont</a><span class='tooltiptext'>Returns a bold default font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::boldTextFont'>boldTextFont</a><span class='tooltiptext'>Returns a bold fixed font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::create_Fonts'>create_Fonts</a><span class='tooltiptext'>Creates fonts used in apave.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::create_FontsType'>create_FontsType</a><span class='tooltiptext'>Creates fonts used in apave, with additional options.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csAdd'>csAdd</a><span class='tooltiptext'>Registers new color scheme in the list of CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csCurrent'>csCurrent</a><span class='tooltiptext'>Gets an index of current color scheme
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csDark'>csDark</a><span class='tooltiptext'>Returns a flag &quot;a color scheme is dark&quot;
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csDeleteExternal'>csDeleteExternal</a><span class='tooltiptext'>Removes all external CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csExport'>csExport</a><span class='tooltiptext'>TODO
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csFont'>csFont</a><span class='tooltiptext'>Returns attributes of CS font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csFontDef'>csFontDef</a><span class='tooltiptext'>Returns attributes of CS default font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csFontMono'>csFontMono</a><span class='tooltiptext'>Returns attributes of CS monotype font.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csGet'>csGet</a><span class='tooltiptext'>Gets a color scheme's colors
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csGetName'>csGetName</a><span class='tooltiptext'>Gets a color scheme's name
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csMainColors'>csMainColors</a><span class='tooltiptext'>Returns a list of main colors' indices of CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csMapTheme'>csMapTheme</a><span class='tooltiptext'>Returns a map of CS / themeWindow method colors. The map is a list of indices in CS corresponding to themeWindow's args.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csNewIndex'>csNewIndex</a><span class='tooltiptext'>Gets a next available CS's index.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csSet'>csSet</a><span class='tooltiptext'>Sets a color scheme and applies it to Tk/Ttk widgets.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::csToned'>csToned</a><span class='tooltiptext'>Make an external CS that has tones (hues) of colors for a CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::initTooltip'>initTooltip</a><span class='tooltiptext'>Configurates colors and other attributes of tooltip.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::thDark'>thDark</a><span class='tooltiptext'>Checks if a theme is dark, light or neutral.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeExternal'>themeExternal</a><span class='tooltiptext'>Configures an external dialogue so that its colors accord with a current CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeMandatory'>themeMandatory</a><span class='tooltiptext'>Themes all that must be themed.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeNonThemed'>themeNonThemed</a><span class='tooltiptext'>Updates the appearances of currently used widgets (non-themed).
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themePopup'>themePopup</a><span class='tooltiptext'>Configures a popup menu so that its colors accord with a current CS.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::themeWindow'>themeWindow</a><span class='tooltiptext'>Changes a Tk style (theming a bit)
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::touchWidgets'>touchWidgets</a><span class='tooltiptext'>Makes non-ttk widgets to be touched again.
</span></h4><h4 class='tooltip'><a href='apave.html#::apave::ObjectTheming::untouchWidgets'>untouchWidgets</a><span class='tooltiptext'>Makes non-ttk widgets to be untouched by coloring or gets their list.
</span></h4></div></div><div id='ft'><div style='float: right;'>Document generated by <a href='https://ruff.magicsplat.com'>Ruff!</a></div></div>
</div></body></html>
